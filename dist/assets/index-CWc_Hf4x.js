var W5=Object.defineProperty;var Bj=e=>{throw TypeError(e)};var Z5=(e,t,s)=>t in e?W5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Yr=(e,t,s)=>Z5(e,typeof t!="symbol"?t+"":t,s),wg=(e,t,s)=>t.has(e)||Bj("Cannot "+s);var ke=(e,t,s)=>(wg(e,t,"read from private field"),s?s.call(e):t.get(e)),Lt=(e,t,s)=>t.has(e)?Bj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),ft=(e,t,s,r)=>(wg(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),Jn=(e,t,s)=>(wg(e,t,"access private method"),s);var kh=(e,t,s,r)=>({set _(i){ft(e,t,i,s)},get _(){return ke(e,t,r)}});function G5(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k2={exports:{}},Lm={},C2={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bu=Symbol.for("react.element"),K5=Symbol.for("react.portal"),Y5=Symbol.for("react.fragment"),X5=Symbol.for("react.strict_mode"),Q5=Symbol.for("react.profiler"),J5=Symbol.for("react.provider"),eM=Symbol.for("react.context"),tM=Symbol.for("react.forward_ref"),nM=Symbol.for("react.suspense"),sM=Symbol.for("react.memo"),rM=Symbol.for("react.lazy"),Vj=Symbol.iterator;function iM(e){return e===null||typeof e!="object"?null:(e=Vj&&e[Vj]||e["@@iterator"],typeof e=="function"?e:null)}var E2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P2=Object.assign,T2={};function Pc(e,t,s){this.props=e,this.context=t,this.refs=T2,this.updater=s||E2}Pc.prototype.isReactComponent={};Pc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function A2(){}A2.prototype=Pc.prototype;function e0(e,t,s){this.props=e,this.context=t,this.refs=T2,this.updater=s||E2}var t0=e0.prototype=new A2;t0.constructor=e0;P2(t0,Pc.prototype);t0.isPureReactComponent=!0;var Uj=Array.isArray,O2=Object.prototype.hasOwnProperty,n0={current:null},R2={key:!0,ref:!0,__self:!0,__source:!0};function L2(e,t,s){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)O2.call(t,r)&&!R2.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=s;else if(1<c){for(var d=Array(c),h=0;h<c;h++)d[h]=arguments[h+2];i.children=d}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:Bu,type:e,key:a,ref:o,props:i,_owner:n0.current}}function aM(e,t){return{$$typeof:Bu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function s0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bu}function oM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var qj=/\/+/g;function jg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oM(""+e.key):t.toString(36)}function rf(e,t,s,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bu:case K5:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+jg(o,0):r,Uj(i)?(s="",e!=null&&(s=e.replace(qj,"$&/")+"/"),rf(i,t,s,"",function(h){return h})):i!=null&&(s0(i)&&(i=aM(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qj,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Uj(e))for(var c=0;c<e.length;c++){a=e[c];var d=r+jg(a,c);o+=rf(a,t,s,d,i)}else if(d=iM(e),typeof d=="function")for(e=d.call(e),c=0;!(a=e.next()).done;)a=a.value,d=r+jg(a,c++),o+=rf(a,t,s,d,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ch(e,t,s){if(e==null)return e;var r=[],i=0;return rf(e,r,"","",function(a){return t.call(s,a,i++)}),r}function lM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _s={current:null},af={transition:null},cM={ReactCurrentDispatcher:_s,ReactCurrentBatchConfig:af,ReactCurrentOwner:n0};function M2(){throw Error("act(...) is not supported in production builds of React.")}St.Children={map:Ch,forEach:function(e,t,s){Ch(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Ch(e,function(){t++}),t},toArray:function(e){return Ch(e,function(t){return t})||[]},only:function(e){if(!s0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Pc;St.Fragment=Y5;St.Profiler=Q5;St.PureComponent=e0;St.StrictMode=X5;St.Suspense=nM;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cM;St.act=M2;St.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=P2({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=n0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(d in t)O2.call(t,d)&&!R2.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&c!==void 0?c[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=s;else if(1<d){c=Array(d);for(var h=0;h<d;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Bu,type:e.type,key:i,ref:a,props:r,_owner:o}};St.createContext=function(e){return e={$$typeof:eM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J5,_context:e},e.Consumer=e};St.createElement=L2;St.createFactory=function(e){var t=L2.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:tM,render:e}};St.isValidElement=s0;St.lazy=function(e){return{$$typeof:rM,_payload:{_status:-1,_result:e},_init:lM}};St.memo=function(e,t){return{$$typeof:sM,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=af.transition;af.transition={};try{e()}finally{af.transition=t}};St.unstable_act=M2;St.useCallback=function(e,t){return _s.current.useCallback(e,t)};St.useContext=function(e){return _s.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return _s.current.useDeferredValue(e)};St.useEffect=function(e,t){return _s.current.useEffect(e,t)};St.useId=function(){return _s.current.useId()};St.useImperativeHandle=function(e,t,s){return _s.current.useImperativeHandle(e,t,s)};St.useInsertionEffect=function(e,t){return _s.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return _s.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return _s.current.useMemo(e,t)};St.useReducer=function(e,t,s){return _s.current.useReducer(e,t,s)};St.useRef=function(e){return _s.current.useRef(e)};St.useState=function(e){return _s.current.useState(e)};St.useSyncExternalStore=function(e,t,s){return _s.current.useSyncExternalStore(e,t,s)};St.useTransition=function(){return _s.current.useTransition()};St.version="18.3.1";C2.exports=St;var j=C2.exports;const Ne=Rm(j),r0=G5({__proto__:null,default:Ne},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dM=j,uM=Symbol.for("react.element"),hM=Symbol.for("react.fragment"),fM=Object.prototype.hasOwnProperty,mM=dM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pM={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fM.call(t,r)&&!pM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uM,type:e,key:a,ref:o,props:i,_owner:mM.current}}Lm.Fragment=hM;Lm.jsx=I2;Lm.jsxs=I2;k2.exports=Lm;var n=k2.exports,D2={exports:{}},Zs={},F2={exports:{}},$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,U){var B=K.length;K.push(U);e:for(;0<B;){var M=B-1>>>1,z=K[M];if(0<i(z,U))K[M]=U,K[B]=z,B=M;else break e}}function s(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var U=K[0],B=K.pop();if(B!==U){K[0]=B;e:for(var M=0,z=K.length,Z=z>>>1;M<Z;){var W=2*(M+1)-1,X=K[W],V=W+1,H=K[V];if(0>i(X,B))V<z&&0>i(H,X)?(K[M]=H,K[V]=B,M=V):(K[M]=X,K[W]=B,M=W);else if(V<z&&0>i(H,B))K[M]=H,K[V]=B,M=V;else break e}}return U}function i(K,U){var B=K.sortIndex-U.sortIndex;return B!==0?B:K.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,m=null,u=3,p=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var U=s(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=K)r(h),U.sortIndex=U.expirationTime,t(d,U);else break;U=s(h)}}function N(K){if(v=!1,_(K),!y)if(s(d)!==null)y=!0,G(C);else{var U=s(h);U!==null&&Y(N,U.startTime-K)}}function C(K,U){y=!1,v&&(v=!1,x(P),P=-1),p=!0;var B=u;try{for(_(U),m=s(d);m!==null&&(!(m.expirationTime>U)||K&&!T());){var M=m.callback;if(typeof M=="function"){m.callback=null,u=m.priorityLevel;var z=M(m.expirationTime<=U);U=e.unstable_now(),typeof z=="function"?m.callback=z:m===s(d)&&r(d),_(U)}else r(d);m=s(d)}if(m!==null)var Z=!0;else{var W=s(h);W!==null&&Y(N,W.startTime-U),Z=!1}return Z}finally{m=null,u=B,p=!1}}var I=!1,k=null,P=-1,R=5,E=-1;function T(){return!(e.unstable_now()-E<R)}function A(){if(k!==null){var K=e.unstable_now();E=K;var U=!0;try{U=k(!0,K)}finally{U?$():(I=!1,k=null)}}else I=!1}var $;if(typeof b=="function")$=function(){b(A)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,F=O.port2;O.port1.onmessage=A,$=function(){F.postMessage(null)}}else $=function(){w(A,0)};function G(K){k=K,I||(I=!0,$())}function Y(K,U){P=w(function(){K(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,G(C))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return s(d)},e.unstable_next=function(K){switch(u){case 1:case 2:case 3:var U=3;break;default:U=u}var B=u;u=U;try{return K()}finally{u=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,U){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=u;u=K;try{return U()}finally{u=B}},e.unstable_scheduleCallback=function(K,U,B){var M=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?M+B:M):B=M,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=B+z,K={id:f++,callback:U,priorityLevel:K,startTime:B,expirationTime:z,sortIndex:-1},B>M?(K.sortIndex=B,t(h,K),s(d)===null&&K===s(h)&&(v?(x(P),P=-1):v=!0,Y(N,B-M))):(K.sortIndex=z,t(d,K),y||p||(y=!0,G(C))),K},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(K){var U=u;return function(){var B=u;u=U;try{return K.apply(this,arguments)}finally{u=B}}}})($2);F2.exports=$2;var gM=F2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM=j,Ws=gM;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z2=new Set,tu={};function Qo(e,t){ac(e,t),ac(e+"Capture",t)}function ac(e,t){for(tu[e]=t,e=0;e<t.length;e++)z2.add(t[e])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lv=Object.prototype.hasOwnProperty,xM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},Wj={};function yM(e){return Lv.call(Wj,e)?!0:Lv.call(Hj,e)?!1:xM.test(e)?Wj[e]=!0:(Hj[e]=!0,!1)}function bM(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wM(e,t,s,r){if(t===null||typeof t>"u"||bM(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ns(e,t,s,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yn[e]=new Ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yn[t]=new Ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yn[e]=new Ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yn[e]=new Ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yn[e]=new Ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yn[e]=new Ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yn[e]=new Ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yn[e]=new Ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yn[e]=new Ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function a0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(i0,a0);Yn[t]=new Ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(i0,a0);Yn[t]=new Ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(i0,a0);Yn[t]=new Ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yn[e]=new Ns(e,1,!1,e.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new Ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yn[e]=new Ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function o0(e,t,s,r){var i=Yn.hasOwnProperty(t)?Yn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wM(t,s,i,r)&&(s=null),r||i===null?yM(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=s===null?i.type===3?!1:"":s:(t=i.attributeName,r=i.attributeNamespace,s===null?e.removeAttribute(t):(i=i.type,s=i===3||i===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var sa=vM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),yl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),l0=Symbol.for("react.strict_mode"),Mv=Symbol.for("react.profiler"),B2=Symbol.for("react.provider"),V2=Symbol.for("react.context"),c0=Symbol.for("react.forward_ref"),Iv=Symbol.for("react.suspense"),Dv=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),pa=Symbol.for("react.lazy"),U2=Symbol.for("react.offscreen"),Zj=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=Zj&&e[Zj]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,_g;function Cd(e){if(_g===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);_g=t&&t[1]||""}return`
`+_g+e}var Ng=!1;function Sg(e,t){if(!e||Ng)return"";Ng=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,c=a.length-1;1<=o&&0<=c&&i[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(i[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||i[o]!==a[c]){var d=`
`+i[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=c);break}}}finally{Ng=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Cd(e):""}function jM(e){switch(e.tag){case 5:return Cd(e.type);case 16:return Cd("Lazy");case 13:return Cd("Suspense");case 19:return Cd("SuspenseList");case 0:case 2:case 15:return e=Sg(e.type,!1),e;case 11:return e=Sg(e.type.render,!1),e;case 1:return e=Sg(e.type,!0),e;default:return""}}function Fv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bl:return"Fragment";case yl:return"Portal";case Mv:return"Profiler";case l0:return"StrictMode";case Iv:return"Suspense";case Dv:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V2:return(e.displayName||"Context")+".Consumer";case B2:return(e._context.displayName||"Context")+".Provider";case c0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case d0:return t=e.displayName||null,t!==null?t:Fv(e.type)||"Memo";case pa:t=e._payload,e=e._init;try{return Fv(e(t))}catch{}}return null}function _M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fv(t);case 8:return t===l0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ba(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NM(e){var t=q2(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ph(e){e._valueTracker||(e._valueTracker=NM(e))}function H2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=q2(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Ef(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $v(e,t){var s=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function Gj(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Ba(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W2(e,t){t=t.checked,t!=null&&o0(e,"checked",t,!1)}function zv(e,t){W2(e,t);var s=Ba(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bv(e,t.type,s):t.hasOwnProperty("defaultValue")&&Bv(e,t.type,Ba(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kj(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Bv(e,t,s){(t!=="number"||Ef(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ed=Array.isArray;function Fl(e,t,s,r){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Ba(s),t=null,i=0;i<e.length;i++){if(e[i].value===s){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yj(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Oe(92));if(Ed(s)){if(1<s.length)throw Error(Oe(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Ba(s)}}function Z2(e,t){var s=Ba(t.value),r=Ba(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function Xj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function G2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?G2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Th,K2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Th.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nu(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SM=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(e){SM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Md[t]=Md[e]})});function Y2(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Md.hasOwnProperty(e)&&Md[e]?(""+t).trim():t+"px"}function X2(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,i=Y2(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,i):e[s]=i}}var kM=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qv(e,t){if(t){if(kM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function Hv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wv=null;function u0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zv=null,$l=null,zl=null;function Qj(e){if(e=qu(e)){if(typeof Zv!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=$m(t),Zv(e.stateNode,e.type,t))}}function Q2(e){$l?zl?zl.push(e):zl=[e]:$l=e}function J2(){if($l){var e=$l,t=zl;if(zl=$l=null,Qj(e),t)for(e=0;e<t.length;e++)Qj(t[e])}}function ek(e,t){return e(t)}function tk(){}var kg=!1;function nk(e,t,s){if(kg)return e(t,s);kg=!0;try{return ek(e,t,s)}finally{kg=!1,($l!==null||zl!==null)&&(tk(),J2())}}function su(e,t){var s=e.stateNode;if(s===null)return null;var r=$m(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Oe(231,t,typeof s));return s}var Gv=!1;if(Wi)try{var dd={};Object.defineProperty(dd,"passive",{get:function(){Gv=!0}}),window.addEventListener("test",dd,dd),window.removeEventListener("test",dd,dd)}catch{Gv=!1}function CM(e,t,s,r,i,a,o,c,d){var h=Array.prototype.slice.call(arguments,3);try{t.apply(s,h)}catch(f){this.onError(f)}}var Id=!1,Pf=null,Tf=!1,Kv=null,EM={onError:function(e){Id=!0,Pf=e}};function PM(e,t,s,r,i,a,o,c,d){Id=!1,Pf=null,CM.apply(EM,arguments)}function TM(e,t,s,r,i,a,o,c,d){if(PM.apply(this,arguments),Id){if(Id){var h=Pf;Id=!1,Pf=null}else throw Error(Oe(198));Tf||(Tf=!0,Kv=h)}}function Jo(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function sk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jj(e){if(Jo(e)!==e)throw Error(Oe(188))}function AM(e){var t=e.alternate;if(!t){if(t=Jo(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var s=e,r=t;;){var i=s.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){s=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Jj(i),e;if(a===r)return Jj(i),t;a=a.sibling}throw Error(Oe(188))}if(s.return!==r.return)s=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===s){o=!0,s=i,r=a;break}if(c===r){o=!0,r=i,s=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===s){o=!0,s=a,r=i;break}if(c===r){o=!0,r=a,s=i;break}c=c.sibling}if(!o)throw Error(Oe(189))}}if(s.alternate!==r)throw Error(Oe(190))}if(s.tag!==3)throw Error(Oe(188));return s.stateNode.current===s?e:t}function rk(e){return e=AM(e),e!==null?ik(e):null}function ik(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ik(e);if(t!==null)return t;e=e.sibling}return null}var ak=Ws.unstable_scheduleCallback,e_=Ws.unstable_cancelCallback,OM=Ws.unstable_shouldYield,RM=Ws.unstable_requestPaint,Nn=Ws.unstable_now,LM=Ws.unstable_getCurrentPriorityLevel,h0=Ws.unstable_ImmediatePriority,ok=Ws.unstable_UserBlockingPriority,Af=Ws.unstable_NormalPriority,MM=Ws.unstable_LowPriority,lk=Ws.unstable_IdlePriority,Mm=null,ci=null;function IM(e){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Mm,e,void 0,(e.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:$M,DM=Math.log,FM=Math.LN2;function $M(e){return e>>>=0,e===0?32:31-(DM(e)/FM|0)|0}var Ah=64,Oh=4194304;function Pd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Of(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=s&268435455;if(o!==0){var c=o&~i;c!==0?r=Pd(c):(a&=o,a!==0&&(r=Pd(a)))}else o=s&~i,o!==0?r=Pd(o):a!==0&&(r=Pd(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-Lr(t),i=1<<s,r|=e[s],t&=~i;return r}function zM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BM(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Lr(a),c=1<<o,d=i[o];d===-1?(!(c&s)||c&r)&&(i[o]=zM(c,t)):d<=t&&(e.expiredLanes|=c),a&=~c}}function Yv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ck(){var e=Ah;return Ah<<=1,!(Ah&4194240)&&(Ah=64),e}function Cg(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Vu(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lr(t),e[t]=s}function VM(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-Lr(s),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,s&=~a}}function f0(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-Lr(s),i=1<<r;i&t|e[r]&t&&(e[r]|=t),s&=~i}}var Ft=0;function dk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uk,m0,hk,fk,mk,Xv=!1,Rh=[],Ea=null,Pa=null,Ta=null,ru=new Map,iu=new Map,xa=[],UM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function t_(e,t){switch(e){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":ru.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":iu.delete(t.pointerId)}}function ud(e,t,s,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=qu(t),t!==null&&m0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qM(e,t,s,r,i){switch(t){case"focusin":return Ea=ud(Ea,e,t,s,r,i),!0;case"dragenter":return Pa=ud(Pa,e,t,s,r,i),!0;case"mouseover":return Ta=ud(Ta,e,t,s,r,i),!0;case"pointerover":var a=i.pointerId;return ru.set(a,ud(ru.get(a)||null,e,t,s,r,i)),!0;case"gotpointercapture":return a=i.pointerId,iu.set(a,ud(iu.get(a)||null,e,t,s,r,i)),!0}return!1}function pk(e){var t=yo(e.target);if(t!==null){var s=Jo(t);if(s!==null){if(t=s.tag,t===13){if(t=sk(s),t!==null){e.blockedOn=t,mk(e.priority,function(){hk(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function of(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Qv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Wv=r,s.target.dispatchEvent(r),Wv=null}else return t=qu(s),t!==null&&m0(t),e.blockedOn=s,!1;t.shift()}return!0}function n_(e,t,s){of(e)&&s.delete(t)}function HM(){Xv=!1,Ea!==null&&of(Ea)&&(Ea=null),Pa!==null&&of(Pa)&&(Pa=null),Ta!==null&&of(Ta)&&(Ta=null),ru.forEach(n_),iu.forEach(n_)}function hd(e,t){e.blockedOn===t&&(e.blockedOn=null,Xv||(Xv=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,HM)))}function au(e){function t(i){return hd(i,e)}if(0<Rh.length){hd(Rh[0],e);for(var s=1;s<Rh.length;s++){var r=Rh[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Ea!==null&&hd(Ea,e),Pa!==null&&hd(Pa,e),Ta!==null&&hd(Ta,e),ru.forEach(t),iu.forEach(t),s=0;s<xa.length;s++)r=xa[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<xa.length&&(s=xa[0],s.blockedOn===null);)pk(s),s.blockedOn===null&&xa.shift()}var Bl=sa.ReactCurrentBatchConfig,Rf=!0;function WM(e,t,s,r){var i=Ft,a=Bl.transition;Bl.transition=null;try{Ft=1,p0(e,t,s,r)}finally{Ft=i,Bl.transition=a}}function ZM(e,t,s,r){var i=Ft,a=Bl.transition;Bl.transition=null;try{Ft=4,p0(e,t,s,r)}finally{Ft=i,Bl.transition=a}}function p0(e,t,s,r){if(Rf){var i=Qv(e,t,s,r);if(i===null)Dg(e,t,r,Lf,s),t_(e,r);else if(qM(i,e,t,s,r))r.stopPropagation();else if(t_(e,r),t&4&&-1<UM.indexOf(e)){for(;i!==null;){var a=qu(i);if(a!==null&&uk(a),a=Qv(e,t,s,r),a===null&&Dg(e,t,r,Lf,s),a===i)break;i=a}i!==null&&r.stopPropagation()}else Dg(e,t,r,null,s)}}var Lf=null;function Qv(e,t,s,r){if(Lf=null,e=u0(r),e=yo(e),e!==null)if(t=Jo(e),t===null)e=null;else if(s=t.tag,s===13){if(e=sk(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lf=e,null}function gk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LM()){case h0:return 1;case ok:return 4;case Af:case MM:return 16;case lk:return 536870912;default:return 16}default:return 16}}var Sa=null,g0=null,lf=null;function vk(){if(lf)return lf;var e,t=g0,s=t.length,r,i="value"in Sa?Sa.value:Sa.textContent,a=i.length;for(e=0;e<s&&t[e]===i[e];e++);var o=s-e;for(r=1;r<=o&&t[s-r]===i[a-r];r++);return lf=i.slice(e,1<r?1-r:void 0)}function cf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lh(){return!0}function s_(){return!1}function Gs(e){function t(s,r,i,a,o){this._reactName=s,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(s=e[c],this[c]=s?s(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lh:s_,this.isPropagationStopped=s_,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Lh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Lh)},persist:function(){},isPersistent:Lh}),t}var Tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v0=Gs(Tc),Uu=dn({},Tc,{view:0,detail:0}),GM=Gs(Uu),Eg,Pg,fd,Im=dn({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fd&&(fd&&e.type==="mousemove"?(Eg=e.screenX-fd.screenX,Pg=e.screenY-fd.screenY):Pg=Eg=0,fd=e),Eg)},movementY:function(e){return"movementY"in e?e.movementY:Pg}}),r_=Gs(Im),KM=dn({},Im,{dataTransfer:0}),YM=Gs(KM),XM=dn({},Uu,{relatedTarget:0}),Tg=Gs(XM),QM=dn({},Tc,{animationName:0,elapsedTime:0,pseudoElement:0}),JM=Gs(QM),e3=dn({},Tc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t3=Gs(e3),n3=dn({},Tc,{data:0}),i_=Gs(n3),s3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i3[e])?!!t[e]:!1}function x0(){return a3}var o3=dn({},Uu,{key:function(e){if(e.key){var t=s3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x0,charCode:function(e){return e.type==="keypress"?cf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l3=Gs(o3),c3=dn({},Im,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a_=Gs(c3),d3=dn({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x0}),u3=Gs(d3),h3=dn({},Tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),f3=Gs(h3),m3=dn({},Im,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p3=Gs(m3),g3=[9,13,27,32],y0=Wi&&"CompositionEvent"in window,Dd=null;Wi&&"documentMode"in document&&(Dd=document.documentMode);var v3=Wi&&"TextEvent"in window&&!Dd,xk=Wi&&(!y0||Dd&&8<Dd&&11>=Dd),o_=" ",l_=!1;function yk(e,t){switch(e){case"keyup":return g3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wl=!1;function x3(e,t){switch(e){case"compositionend":return bk(t);case"keypress":return t.which!==32?null:(l_=!0,o_);case"textInput":return e=t.data,e===o_&&l_?null:e;default:return null}}function y3(e,t){if(wl)return e==="compositionend"||!y0&&yk(e,t)?(e=vk(),lf=g0=Sa=null,wl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xk&&t.locale!=="ko"?null:t.data;default:return null}}var b3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!b3[e.type]:t==="textarea"}function wk(e,t,s,r){Q2(r),t=Mf(t,"onChange"),0<t.length&&(s=new v0("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Fd=null,ou=null;function w3(e){Ok(e,0)}function Dm(e){var t=Nl(e);if(H2(t))return e}function j3(e,t){if(e==="change")return t}var jk=!1;if(Wi){var Ag;if(Wi){var Og="oninput"in document;if(!Og){var d_=document.createElement("div");d_.setAttribute("oninput","return;"),Og=typeof d_.oninput=="function"}Ag=Og}else Ag=!1;jk=Ag&&(!document.documentMode||9<document.documentMode)}function u_(){Fd&&(Fd.detachEvent("onpropertychange",_k),ou=Fd=null)}function _k(e){if(e.propertyName==="value"&&Dm(ou)){var t=[];wk(t,ou,e,u0(e)),nk(w3,t)}}function _3(e,t,s){e==="focusin"?(u_(),Fd=t,ou=s,Fd.attachEvent("onpropertychange",_k)):e==="focusout"&&u_()}function N3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dm(ou)}function S3(e,t){if(e==="click")return Dm(t)}function k3(e,t){if(e==="input"||e==="change")return Dm(t)}function C3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:C3;function lu(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var i=s[r];if(!Lv.call(t,i)||!Dr(e[i],t[i]))return!1}return!0}function h_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function f_(e,t){var s=h_(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=h_(s)}}function Nk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sk(){for(var e=window,t=Ef();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ef(e.document)}return t}function b0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function E3(e){var t=Sk(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Nk(s.ownerDocument.documentElement,s)){if(r!==null&&b0(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=s.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=f_(s,a);var o=f_(s,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var P3=Wi&&"documentMode"in document&&11>=document.documentMode,jl=null,Jv=null,$d=null,ex=!1;function m_(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ex||jl==null||jl!==Ef(r)||(r=jl,"selectionStart"in r&&b0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$d&&lu($d,r)||($d=r,r=Mf(Jv,"onSelect"),0<r.length&&(t=new v0("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=jl)))}function Mh(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var _l={animationend:Mh("Animation","AnimationEnd"),animationiteration:Mh("Animation","AnimationIteration"),animationstart:Mh("Animation","AnimationStart"),transitionend:Mh("Transition","TransitionEnd")},Rg={},kk={};Wi&&(kk=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Fm(e){if(Rg[e])return Rg[e];if(!_l[e])return e;var t=_l[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in kk)return Rg[e]=t[s];return e}var Ck=Fm("animationend"),Ek=Fm("animationiteration"),Pk=Fm("animationstart"),Tk=Fm("transitionend"),Ak=new Map,p_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xa(e,t){Ak.set(e,t),Qo(t,[e])}for(var Lg=0;Lg<p_.length;Lg++){var Mg=p_[Lg],T3=Mg.toLowerCase(),A3=Mg[0].toUpperCase()+Mg.slice(1);Xa(T3,"on"+A3)}Xa(Ck,"onAnimationEnd");Xa(Ek,"onAnimationIteration");Xa(Pk,"onAnimationStart");Xa("dblclick","onDoubleClick");Xa("focusin","onFocus");Xa("focusout","onBlur");Xa(Tk,"onTransitionEnd");ac("onMouseEnter",["mouseout","mouseover"]);ac("onMouseLeave",["mouseout","mouseover"]);ac("onPointerEnter",["pointerout","pointerover"]);ac("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Td));function g_(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,TM(r,t,void 0,e),e.currentTarget=null}function Ok(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],d=c.instance,h=c.currentTarget;if(c=c.listener,d!==a&&i.isPropagationStopped())break e;g_(i,c,h),a=d}else for(o=0;o<r.length;o++){if(c=r[o],d=c.instance,h=c.currentTarget,c=c.listener,d!==a&&i.isPropagationStopped())break e;g_(i,c,h),a=d}}}if(Tf)throw e=Kv,Tf=!1,Kv=null,e}function Jt(e,t){var s=t[ix];s===void 0&&(s=t[ix]=new Set);var r=e+"__bubble";s.has(r)||(Rk(t,e,2,!1),s.add(r))}function Ig(e,t,s){var r=0;t&&(r|=4),Rk(s,e,r,t)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[Ih]){e[Ih]=!0,z2.forEach(function(s){s!=="selectionchange"&&(O3.has(s)||Ig(s,!1,e),Ig(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ih]||(t[Ih]=!0,Ig("selectionchange",!1,t))}}function Rk(e,t,s,r){switch(gk(t)){case 1:var i=WM;break;case 4:i=ZM;break;default:i=p0}s=i.bind(null,t,s,e),i=void 0,!Gv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):i!==void 0?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Dg(e,t,s,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;c!==null;){if(o=yo(c),o===null)return;if(d=o.tag,d===5||d===6){r=a=o;continue e}c=c.parentNode}}r=r.return}nk(function(){var h=a,f=u0(s),m=[];e:{var u=Ak.get(e);if(u!==void 0){var p=v0,y=e;switch(e){case"keypress":if(cf(s)===0)break e;case"keydown":case"keyup":p=l3;break;case"focusin":y="focus",p=Tg;break;case"focusout":y="blur",p=Tg;break;case"beforeblur":case"afterblur":p=Tg;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=YM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=u3;break;case Ck:case Ek:case Pk:p=JM;break;case Tk:p=f3;break;case"scroll":p=GM;break;case"wheel":p=p3;break;case"copy":case"cut":case"paste":p=t3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=a_}var v=(t&4)!==0,w=!v&&e==="scroll",x=v?u!==null?u+"Capture":null:u;v=[];for(var b=h,_;b!==null;){_=b;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,x!==null&&(N=su(b,x),N!=null&&v.push(du(b,N,_)))),w)break;b=b.return}0<v.length&&(u=new p(u,y,null,s,f),m.push({event:u,listeners:v}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",u&&s!==Wv&&(y=s.relatedTarget||s.fromElement)&&(yo(y)||y[Zi]))break e;if((p||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,p?(y=s.relatedTarget||s.toElement,p=h,y=y?yo(y):null,y!==null&&(w=Jo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=h),p!==y)){if(v=r_,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=a_,N="onPointerLeave",x="onPointerEnter",b="pointer"),w=p==null?u:Nl(p),_=y==null?u:Nl(y),u=new v(N,b+"leave",p,s,f),u.target=w,u.relatedTarget=_,N=null,yo(f)===h&&(v=new v(x,b+"enter",y,s,f),v.target=_,v.relatedTarget=w,N=v),w=N,p&&y)t:{for(v=p,x=y,b=0,_=v;_;_=hl(_))b++;for(_=0,N=x;N;N=hl(N))_++;for(;0<b-_;)v=hl(v),b--;for(;0<_-b;)x=hl(x),_--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=hl(v),x=hl(x)}v=null}else v=null;p!==null&&v_(m,u,p,v,!1),y!==null&&w!==null&&v_(m,w,y,v,!0)}}e:{if(u=h?Nl(h):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var C=j3;else if(c_(u))if(jk)C=k3;else{C=N3;var I=_3}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(C=S3);if(C&&(C=C(e,h))){wk(m,C,s,f);break e}I&&I(e,u,h),e==="focusout"&&(I=u._wrapperState)&&I.controlled&&u.type==="number"&&Bv(u,"number",u.value)}switch(I=h?Nl(h):window,e){case"focusin":(c_(I)||I.contentEditable==="true")&&(jl=I,Jv=h,$d=null);break;case"focusout":$d=Jv=jl=null;break;case"mousedown":ex=!0;break;case"contextmenu":case"mouseup":case"dragend":ex=!1,m_(m,s,f);break;case"selectionchange":if(P3)break;case"keydown":case"keyup":m_(m,s,f)}var k;if(y0)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else wl?yk(e,s)&&(P="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(P="onCompositionStart");P&&(xk&&s.locale!=="ko"&&(wl||P!=="onCompositionStart"?P==="onCompositionEnd"&&wl&&(k=vk()):(Sa=f,g0="value"in Sa?Sa.value:Sa.textContent,wl=!0)),I=Mf(h,P),0<I.length&&(P=new i_(P,e,null,s,f),m.push({event:P,listeners:I}),k?P.data=k:(k=bk(s),k!==null&&(P.data=k)))),(k=v3?x3(e,s):y3(e,s))&&(h=Mf(h,"onBeforeInput"),0<h.length&&(f=new i_("onBeforeInput","beforeinput",null,s,f),m.push({event:f,listeners:h}),f.data=k))}Ok(m,t)})}function du(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Mf(e,t){for(var s=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=su(e,s),a!=null&&r.unshift(du(e,a,i)),a=su(e,t),a!=null&&r.push(du(e,a,i))),e=e.return}return r}function hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v_(e,t,s,r,i){for(var a=t._reactName,o=[];s!==null&&s!==r;){var c=s,d=c.alternate,h=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&h!==null&&(c=h,i?(d=su(s,a),d!=null&&o.unshift(du(s,d,c))):i||(d=su(s,a),d!=null&&o.push(du(s,d,c)))),s=s.return}o.length!==0&&e.push({event:t,listeners:o})}var R3=/\r\n?/g,L3=/\u0000|\uFFFD/g;function x_(e){return(typeof e=="string"?e:""+e).replace(R3,`
`).replace(L3,"")}function Dh(e,t,s){if(t=x_(t),x_(e)!==t&&s)throw Error(Oe(425))}function If(){}var tx=null,nx=null;function sx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rx=typeof setTimeout=="function"?setTimeout:void 0,M3=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,I3=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(D3)}:rx;function D3(e){setTimeout(function(){throw e})}function Fg(e,t){var s=t,r=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&i.nodeType===8)if(s=i.data,s==="/$"){if(r===0){e.removeChild(i),au(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=i}while(s);au(t)}function Aa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function b_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Ac=Math.random().toString(36).slice(2),ri="__reactFiber$"+Ac,uu="__reactProps$"+Ac,Zi="__reactContainer$"+Ac,ix="__reactEvents$"+Ac,F3="__reactListeners$"+Ac,$3="__reactHandles$"+Ac;function yo(e){var t=e[ri];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Zi]||s[ri]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=b_(e);e!==null;){if(s=e[ri])return s;e=b_(e)}return t}e=s,s=e.parentNode}return null}function qu(e){return e=e[ri]||e[Zi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function $m(e){return e[uu]||null}var ax=[],Sl=-1;function Qa(e){return{current:e}}function tn(e){0>Sl||(e.current=ax[Sl],ax[Sl]=null,Sl--)}function Gt(e,t){Sl++,ax[Sl]=e.current,e.current=t}var Va={},os=Qa(Va),Rs=Qa(!1),$o=Va;function oc(e,t){var s=e.type.contextTypes;if(!s)return Va;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in s)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ls(e){return e=e.childContextTypes,e!=null}function Df(){tn(Rs),tn(os)}function w_(e,t,s){if(os.current!==Va)throw Error(Oe(168));Gt(os,t),Gt(Rs,s)}function Lk(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Oe(108,_M(e)||"Unknown",i));return dn({},s,r)}function Ff(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Va,$o=os.current,Gt(os,e),Gt(Rs,Rs.current),!0}function j_(e,t,s){var r=e.stateNode;if(!r)throw Error(Oe(169));s?(e=Lk(e,t,$o),r.__reactInternalMemoizedMergedChildContext=e,tn(Rs),tn(os),Gt(os,e)):tn(Rs),Gt(Rs,s)}var Di=null,zm=!1,$g=!1;function Mk(e){Di===null?Di=[e]:Di.push(e)}function z3(e){zm=!0,Mk(e)}function Ja(){if(!$g&&Di!==null){$g=!0;var e=0,t=Ft;try{var s=Di;for(Ft=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}Di=null,zm=!1}catch(i){throw Di!==null&&(Di=Di.slice(e+1)),ak(h0,Ja),i}finally{Ft=t,$g=!1}}return null}var kl=[],Cl=0,$f=null,zf=0,tr=[],nr=0,zo=null,Bi=1,Vi="";function fo(e,t){kl[Cl++]=zf,kl[Cl++]=$f,$f=e,zf=t}function Ik(e,t,s){tr[nr++]=Bi,tr[nr++]=Vi,tr[nr++]=zo,zo=e;var r=Bi;e=Vi;var i=32-Lr(r)-1;r&=~(1<<i),s+=1;var a=32-Lr(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bi=1<<32-Lr(t)+i|s<<i|r,Vi=a+e}else Bi=1<<a|s<<i|r,Vi=e}function w0(e){e.return!==null&&(fo(e,1),Ik(e,1,0))}function j0(e){for(;e===$f;)$f=kl[--Cl],kl[Cl]=null,zf=kl[--Cl],kl[Cl]=null;for(;e===zo;)zo=tr[--nr],tr[nr]=null,Vi=tr[--nr],tr[nr]=null,Bi=tr[--nr],tr[nr]=null}var qs=null,Us=null,nn=!1,Cr=null;function Dk(e,t){var s=sr(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function __(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qs=e,Us=Aa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qs=e,Us=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=zo!==null?{id:Bi,overflow:Vi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=sr(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,qs=e,Us=null,!0):!1;default:return!1}}function ox(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lx(e){if(nn){var t=Us;if(t){var s=t;if(!__(e,t)){if(ox(e))throw Error(Oe(418));t=Aa(s.nextSibling);var r=qs;t&&__(e,t)?Dk(r,s):(e.flags=e.flags&-4097|2,nn=!1,qs=e)}}else{if(ox(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,nn=!1,qs=e}}}function N_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qs=e}function Fh(e){if(e!==qs)return!1;if(!nn)return N_(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sx(e.type,e.memoizedProps)),t&&(t=Us)){if(ox(e))throw Fk(),Error(Oe(418));for(;t;)Dk(e,t),t=Aa(t.nextSibling)}if(N_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Us=Aa(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Us=null}}else Us=qs?Aa(e.stateNode.nextSibling):null;return!0}function Fk(){for(var e=Us;e;)e=Aa(e.nextSibling)}function lc(){Us=qs=null,nn=!1}function _0(e){Cr===null?Cr=[e]:Cr.push(e)}var B3=sa.ReactCurrentBatchConfig;function md(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Oe(309));var r=s.stateNode}if(!r)throw Error(Oe(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var c=i.refs;o===null?delete c[a]:c[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Oe(284));if(!s._owner)throw Error(Oe(290,e))}return e}function $h(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S_(e){var t=e._init;return t(e._payload)}function $k(e){function t(x,b){if(e){var _=x.deletions;_===null?(x.deletions=[b],x.flags|=16):_.push(b)}}function s(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Ma(x,b),x.index=0,x.sibling=null,x}function a(x,b,_){return x.index=_,e?(_=x.alternate,_!==null?(_=_.index,_<b?(x.flags|=2,b):_):(x.flags|=2,b)):(x.flags|=1048576,b)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function c(x,b,_,N){return b===null||b.tag!==6?(b=Wg(_,x.mode,N),b.return=x,b):(b=i(b,_),b.return=x,b)}function d(x,b,_,N){var C=_.type;return C===bl?f(x,b,_.props.children,N,_.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pa&&S_(C)===b.type)?(N=i(b,_.props),N.ref=md(x,b,_),N.return=x,N):(N=gf(_.type,_.key,_.props,null,x.mode,N),N.ref=md(x,b,_),N.return=x,N)}function h(x,b,_,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Zg(_,x.mode,N),b.return=x,b):(b=i(b,_.children||[]),b.return=x,b)}function f(x,b,_,N,C){return b===null||b.tag!==7?(b=Oo(_,x.mode,N,C),b.return=x,b):(b=i(b,_),b.return=x,b)}function m(x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Wg(""+b,x.mode,_),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:return _=gf(b.type,b.key,b.props,null,x.mode,_),_.ref=md(x,null,b),_.return=x,_;case yl:return b=Zg(b,x.mode,_),b.return=x,b;case pa:var N=b._init;return m(x,N(b._payload),_)}if(Ed(b)||cd(b))return b=Oo(b,x.mode,_,null),b.return=x,b;$h(x,b)}return null}function u(x,b,_,N){var C=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:c(x,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:return _.key===C?d(x,b,_,N):null;case yl:return _.key===C?h(x,b,_,N):null;case pa:return C=_._init,u(x,b,C(_._payload),N)}if(Ed(_)||cd(_))return C!==null?null:f(x,b,_,N,null);$h(x,_)}return null}function p(x,b,_,N,C){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(_)||null,c(b,x,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Eh:return x=x.get(N.key===null?_:N.key)||null,d(b,x,N,C);case yl:return x=x.get(N.key===null?_:N.key)||null,h(b,x,N,C);case pa:var I=N._init;return p(x,b,_,I(N._payload),C)}if(Ed(N)||cd(N))return x=x.get(_)||null,f(b,x,N,C,null);$h(b,N)}return null}function y(x,b,_,N){for(var C=null,I=null,k=b,P=b=0,R=null;k!==null&&P<_.length;P++){k.index>P?(R=k,k=null):R=k.sibling;var E=u(x,k,_[P],N);if(E===null){k===null&&(k=R);break}e&&k&&E.alternate===null&&t(x,k),b=a(E,b,P),I===null?C=E:I.sibling=E,I=E,k=R}if(P===_.length)return s(x,k),nn&&fo(x,P),C;if(k===null){for(;P<_.length;P++)k=m(x,_[P],N),k!==null&&(b=a(k,b,P),I===null?C=k:I.sibling=k,I=k);return nn&&fo(x,P),C}for(k=r(x,k);P<_.length;P++)R=p(k,x,P,_[P],N),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?P:R.key),b=a(R,b,P),I===null?C=R:I.sibling=R,I=R);return e&&k.forEach(function(T){return t(x,T)}),nn&&fo(x,P),C}function v(x,b,_,N){var C=cd(_);if(typeof C!="function")throw Error(Oe(150));if(_=C.call(_),_==null)throw Error(Oe(151));for(var I=C=null,k=b,P=b=0,R=null,E=_.next();k!==null&&!E.done;P++,E=_.next()){k.index>P?(R=k,k=null):R=k.sibling;var T=u(x,k,E.value,N);if(T===null){k===null&&(k=R);break}e&&k&&T.alternate===null&&t(x,k),b=a(T,b,P),I===null?C=T:I.sibling=T,I=T,k=R}if(E.done)return s(x,k),nn&&fo(x,P),C;if(k===null){for(;!E.done;P++,E=_.next())E=m(x,E.value,N),E!==null&&(b=a(E,b,P),I===null?C=E:I.sibling=E,I=E);return nn&&fo(x,P),C}for(k=r(x,k);!E.done;P++,E=_.next())E=p(k,x,P,E.value,N),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?P:E.key),b=a(E,b,P),I===null?C=E:I.sibling=E,I=E);return e&&k.forEach(function(A){return t(x,A)}),nn&&fo(x,P),C}function w(x,b,_,N){if(typeof _=="object"&&_!==null&&_.type===bl&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:e:{for(var C=_.key,I=b;I!==null;){if(I.key===C){if(C=_.type,C===bl){if(I.tag===7){s(x,I.sibling),b=i(I,_.props.children),b.return=x,x=b;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pa&&S_(C)===I.type){s(x,I.sibling),b=i(I,_.props),b.ref=md(x,I,_),b.return=x,x=b;break e}s(x,I);break}else t(x,I);I=I.sibling}_.type===bl?(b=Oo(_.props.children,x.mode,N,_.key),b.return=x,x=b):(N=gf(_.type,_.key,_.props,null,x.mode,N),N.ref=md(x,b,_),N.return=x,x=N)}return o(x);case yl:e:{for(I=_.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){s(x,b.sibling),b=i(b,_.children||[]),b.return=x,x=b;break e}else{s(x,b);break}else t(x,b);b=b.sibling}b=Zg(_,x.mode,N),b.return=x,x=b}return o(x);case pa:return I=_._init,w(x,b,I(_._payload),N)}if(Ed(_))return y(x,b,_,N);if(cd(_))return v(x,b,_,N);$h(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(s(x,b.sibling),b=i(b,_),b.return=x,x=b):(s(x,b),b=Wg(_,x.mode,N),b.return=x,x=b),o(x)):s(x,b)}return w}var cc=$k(!0),zk=$k(!1),Bf=Qa(null),Vf=null,El=null,N0=null;function S0(){N0=El=Vf=null}function k0(e){var t=Bf.current;tn(Bf),e._currentValue=t}function cx(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function Vl(e,t){Vf=e,N0=El=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ts=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(N0!==e)if(e={context:e,memoizedValue:t,next:null},El===null){if(Vf===null)throw Error(Oe(308));El=e,Vf.dependencies={lanes:0,firstContext:e}}else El=El.next=e;return t}var bo=null;function C0(e){bo===null?bo=[e]:bo.push(e)}function Bk(e,t,s,r){var i=t.interleaved;return i===null?(s.next=s,C0(t)):(s.next=i.next,i.next=s),t.interleaved=s,Gi(e,r)}function Gi(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var ga=!1;function E0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vk(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,At&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Gi(e,s)}return i=r.interleaved,i===null?(t.next=t,C0(r)):(t.next=i.next,i.next=t),r.interleaved=t,Gi(e,s)}function df(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,f0(e,s)}}function k_(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var i=null,a=null;if(s=s.firstBaseUpdate,s!==null){do{var o={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};a===null?i=a=o:a=a.next=o,s=s.next}while(s!==null);a===null?i=a=t:a=a.next=t}else i=a=t;s={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Uf(e,t,s,r){var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,h=d.next;d.next=null,o===null?a=h:o.next=h,o=d;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==o&&(c===null?f.firstBaseUpdate=h:c.next=h,f.lastBaseUpdate=d))}if(a!==null){var m=i.baseState;o=0,f=h=d=null,c=a;do{var u=c.lane,p=c.eventTime;if((r&u)===u){f!==null&&(f=f.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,v=c;switch(u=t,p=s,v.tag){case 1:if(y=v.payload,typeof y=="function"){m=y.call(p,m,u);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,u=typeof y=="function"?y.call(p,m,u):y,u==null)break e;m=dn({},m,u);break e;case 2:ga=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[c]:u.push(c))}else p={eventTime:p,lane:u,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(h=f=p,d=m):f=f.next=p,o|=u;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;u=c,c=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(f===null&&(d=m),i.baseState=d,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vo|=o,e.lanes=o,e.memoizedState=m}}function C_(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=s,typeof i!="function")throw Error(Oe(191,i));i.call(r)}}}var Hu={},di=Qa(Hu),hu=Qa(Hu),fu=Qa(Hu);function wo(e){if(e===Hu)throw Error(Oe(174));return e}function P0(e,t){switch(Gt(fu,t),Gt(hu,e),Gt(di,Hu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uv(t,e)}tn(di),Gt(di,t)}function dc(){tn(di),tn(hu),tn(fu)}function Uk(e){wo(fu.current);var t=wo(di.current),s=Uv(t,e.type);t!==s&&(Gt(hu,e),Gt(di,s))}function T0(e){hu.current===e&&(tn(di),tn(hu))}var an=Qa(0);function qf(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zg=[];function A0(){for(var e=0;e<zg.length;e++)zg[e]._workInProgressVersionPrimary=null;zg.length=0}var uf=sa.ReactCurrentDispatcher,Bg=sa.ReactCurrentBatchConfig,Bo=0,ln=null,Mn=null,$n=null,Hf=!1,zd=!1,mu=0,V3=0;function es(){throw Error(Oe(321))}function O0(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Dr(e[s],t[s]))return!1;return!0}function R0(e,t,s,r,i,a){if(Bo=a,ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uf.current=e===null||e.memoizedState===null?W3:Z3,e=s(r,i),zd){a=0;do{if(zd=!1,mu=0,25<=a)throw Error(Oe(301));a+=1,$n=Mn=null,t.updateQueue=null,uf.current=G3,e=s(r,i)}while(zd)}if(uf.current=Wf,t=Mn!==null&&Mn.next!==null,Bo=0,$n=Mn=ln=null,Hf=!1,t)throw Error(Oe(300));return e}function L0(){var e=mu!==0;return mu=0,e}function ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?ln.memoizedState=$n=e:$n=$n.next=e,$n}function dr(){if(Mn===null){var e=ln.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=$n===null?ln.memoizedState:$n.next;if(t!==null)$n=t,Mn=e;else{if(e===null)throw Error(Oe(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},$n===null?ln.memoizedState=$n=e:$n=$n.next=e}return $n}function pu(e,t){return typeof t=="function"?t(e):t}function Vg(e){var t=dr(),s=t.queue;if(s===null)throw Error(Oe(311));s.lastRenderedReducer=e;var r=Mn,i=r.baseQueue,a=s.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,s.pending=null}if(i!==null){a=i.next,r=r.baseState;var c=o=null,d=null,h=a;do{var f=h.lane;if((Bo&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(c=d=m,o=r):d=d.next=m,ln.lanes|=f,Vo|=f}h=h.next}while(h!==null&&h!==a);d===null?o=r:d.next=c,Dr(r,t.memoizedState)||(Ts=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=d,s.lastRenderedState=r}if(e=s.interleaved,e!==null){i=e;do a=i.lane,ln.lanes|=a,Vo|=a,i=i.next;while(i!==e)}else i===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ug(e){var t=dr(),s=t.queue;if(s===null)throw Error(Oe(311));s.lastRenderedReducer=e;var r=s.dispatch,i=s.pending,a=t.memoizedState;if(i!==null){s.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Dr(a,t.memoizedState)||(Ts=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),s.lastRenderedState=a}return[a,r]}function qk(){}function Hk(e,t){var s=ln,r=dr(),i=t(),a=!Dr(r.memoizedState,i);if(a&&(r.memoizedState=i,Ts=!0),r=r.queue,M0(Gk.bind(null,s,r,e),[e]),r.getSnapshot!==t||a||$n!==null&&$n.memoizedState.tag&1){if(s.flags|=2048,gu(9,Zk.bind(null,s,r,i,t),void 0,null),zn===null)throw Error(Oe(349));Bo&30||Wk(s,t,i)}return i}function Wk(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Zk(e,t,s,r){t.value=s,t.getSnapshot=r,Kk(t)&&Yk(e)}function Gk(e,t,s){return s(function(){Kk(t)&&Yk(e)})}function Kk(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Dr(e,s)}catch{return!0}}function Yk(e){var t=Gi(e,1);t!==null&&Mr(t,e,1,-1)}function E_(e){var t=ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:e},t.queue=e,e=e.dispatch=H3.bind(null,ln,e),[t.memoizedState,e]}function gu(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=ln.updateQueue,t===null?(t={lastEffect:null,stores:null},ln.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function Xk(){return dr().memoizedState}function hf(e,t,s,r){var i=ei();ln.flags|=e,i.memoizedState=gu(1|t,s,void 0,r===void 0?null:r)}function Bm(e,t,s,r){var i=dr();r=r===void 0?null:r;var a=void 0;if(Mn!==null){var o=Mn.memoizedState;if(a=o.destroy,r!==null&&O0(r,o.deps)){i.memoizedState=gu(t,s,a,r);return}}ln.flags|=e,i.memoizedState=gu(1|t,s,a,r)}function P_(e,t){return hf(8390656,8,e,t)}function M0(e,t){return Bm(2048,8,e,t)}function Qk(e,t){return Bm(4,2,e,t)}function Jk(e,t){return Bm(4,4,e,t)}function eC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tC(e,t,s){return s=s!=null?s.concat([e]):null,Bm(4,4,eC.bind(null,t,e),s)}function I0(){}function nC(e,t){var s=dr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&O0(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function sC(e,t){var s=dr();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&O0(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function rC(e,t,s){return Bo&21?(Dr(s,t)||(s=ck(),ln.lanes|=s,Vo|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ts=!0),e.memoizedState=s)}function U3(e,t){var s=Ft;Ft=s!==0&&4>s?s:4,e(!0);var r=Bg.transition;Bg.transition={};try{e(!1),t()}finally{Ft=s,Bg.transition=r}}function iC(){return dr().memoizedState}function q3(e,t,s){var r=La(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},aC(e))oC(t,s);else if(s=Bk(e,t,s,r),s!==null){var i=bs();Mr(s,e,r,i),lC(s,t,r)}}function H3(e,t,s){var r=La(e),i={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(aC(e))oC(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,c=a(o,s);if(i.hasEagerState=!0,i.eagerState=c,Dr(c,o)){var d=t.interleaved;d===null?(i.next=i,C0(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}s=Bk(e,t,i,r),s!==null&&(i=bs(),Mr(s,e,r,i),lC(s,t,r))}}function aC(e){var t=e.alternate;return e===ln||t!==null&&t===ln}function oC(e,t){zd=Hf=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function lC(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,f0(e,s)}}var Wf={readContext:cr,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useInsertionEffect:es,useLayoutEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useMutableSource:es,useSyncExternalStore:es,useId:es,unstable_isNewReconciler:!1},W3={readContext:cr,useCallback:function(e,t){return ei().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:P_,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,hf(4194308,4,eC.bind(null,t,e),s)},useLayoutEffect:function(e,t){return hf(4194308,4,e,t)},useInsertionEffect:function(e,t){return hf(4,2,e,t)},useMemo:function(e,t){var s=ei();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=ei();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=q3.bind(null,ln,e),[r.memoizedState,e]},useRef:function(e){var t=ei();return e={current:e},t.memoizedState=e},useState:E_,useDebugValue:I0,useDeferredValue:function(e){return ei().memoizedState=e},useTransition:function(){var e=E_(!1),t=e[0];return e=U3.bind(null,e[1]),ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=ln,i=ei();if(nn){if(s===void 0)throw Error(Oe(407));s=s()}else{if(s=t(),zn===null)throw Error(Oe(349));Bo&30||Wk(r,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,P_(Gk.bind(null,r,a,e),[e]),r.flags|=2048,gu(9,Zk.bind(null,r,a,s,t),void 0,null),s},useId:function(){var e=ei(),t=zn.identifierPrefix;if(nn){var s=Vi,r=Bi;s=(r&~(1<<32-Lr(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=mu++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=V3++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Z3={readContext:cr,useCallback:nC,useContext:cr,useEffect:M0,useImperativeHandle:tC,useInsertionEffect:Qk,useLayoutEffect:Jk,useMemo:sC,useReducer:Vg,useRef:Xk,useState:function(){return Vg(pu)},useDebugValue:I0,useDeferredValue:function(e){var t=dr();return rC(t,Mn.memoizedState,e)},useTransition:function(){var e=Vg(pu)[0],t=dr().memoizedState;return[e,t]},useMutableSource:qk,useSyncExternalStore:Hk,useId:iC,unstable_isNewReconciler:!1},G3={readContext:cr,useCallback:nC,useContext:cr,useEffect:M0,useImperativeHandle:tC,useInsertionEffect:Qk,useLayoutEffect:Jk,useMemo:sC,useReducer:Ug,useRef:Xk,useState:function(){return Ug(pu)},useDebugValue:I0,useDeferredValue:function(e){var t=dr();return Mn===null?t.memoizedState=e:rC(t,Mn.memoizedState,e)},useTransition:function(){var e=Ug(pu)[0],t=dr().memoizedState;return[e,t]},useMutableSource:qk,useSyncExternalStore:Hk,useId:iC,unstable_isNewReconciler:!1};function jr(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function dx(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:dn({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vm={isMounted:function(e){return(e=e._reactInternals)?Jo(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=bs(),i=La(e),a=qi(r,i);a.payload=t,s!=null&&(a.callback=s),t=Oa(e,a,i),t!==null&&(Mr(t,e,i,r),df(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=bs(),i=La(e),a=qi(r,i);a.tag=1,a.payload=t,s!=null&&(a.callback=s),t=Oa(e,a,i),t!==null&&(Mr(t,e,i,r),df(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=bs(),r=La(e),i=qi(s,r);i.tag=2,t!=null&&(i.callback=t),t=Oa(e,i,r),t!==null&&(Mr(t,e,r,s),df(t,e,r))}};function T_(e,t,s,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!lu(s,r)||!lu(i,a):!0}function cC(e,t,s){var r=!1,i=Va,a=t.contextType;return typeof a=="object"&&a!==null?a=cr(a):(i=Ls(t)?$o:os.current,r=t.contextTypes,a=(r=r!=null)?oc(e,i):Va),t=new t(s,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vm,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function A_(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Vm.enqueueReplaceState(t,t.state,null)}function ux(e,t,s,r){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},E0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=cr(a):(a=Ls(t)?$o:os.current,i.context=oc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(dx(e,t,a,s),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Vm.enqueueReplaceState(i,i.state,null),Uf(e,s,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function uc(e,t){try{var s="",r=t;do s+=jM(r),r=r.return;while(r);var i=s}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function qg(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function hx(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var K3=typeof WeakMap=="function"?WeakMap:Map;function dC(e,t,s){s=qi(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){Gf||(Gf=!0,jx=r),hx(e,t)},s}function uC(e,t,s){s=qi(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;s.payload=function(){return r(i)},s.callback=function(){hx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(s.callback=function(){hx(e,t),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),s}function O_(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new K3;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(s)||(i.add(s),e=cI.bind(null,e,t,s),t.then(e,e))}function R_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L_(e,t,s,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=qi(-1,1),t.tag=2,Oa(s,t,1))),s.lanes|=1),e)}var Y3=sa.ReactCurrentOwner,Ts=!1;function hs(e,t,s,r){t.child=e===null?zk(t,null,s,r):cc(t,e.child,s,r)}function M_(e,t,s,r,i){s=s.render;var a=t.ref;return Vl(t,i),r=R0(e,t,s,r,a,i),s=L0(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ki(e,t,i)):(nn&&s&&w0(t),t.flags|=1,hs(e,t,r,i),t.child)}function I_(e,t,s,r,i){if(e===null){var a=s.type;return typeof a=="function"&&!q0(a)&&a.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=a,hC(e,t,a,r,i)):(e=gf(s.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(s=s.compare,s=s!==null?s:lu,s(o,r)&&e.ref===t.ref)return Ki(e,t,i)}return t.flags|=1,e=Ma(a,r),e.ref=t.ref,e.return=t,t.child=e}function hC(e,t,s,r,i){if(e!==null){var a=e.memoizedProps;if(lu(a,r)&&e.ref===t.ref)if(Ts=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ts=!0);else return t.lanes=e.lanes,Ki(e,t,i)}return fx(e,t,s,r,i)}function fC(e,t,s){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Tl,$s),$s|=s;else{if(!(s&1073741824))return e=a!==null?a.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(Tl,$s),$s|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:s,Gt(Tl,$s),$s|=r}else a!==null?(r=a.baseLanes|s,t.memoizedState=null):r=s,Gt(Tl,$s),$s|=r;return hs(e,t,i,s),t.child}function mC(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function fx(e,t,s,r,i){var a=Ls(s)?$o:os.current;return a=oc(t,a),Vl(t,i),s=R0(e,t,s,r,a,i),r=L0(),e!==null&&!Ts?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ki(e,t,i)):(nn&&r&&w0(t),t.flags|=1,hs(e,t,s,i),t.child)}function D_(e,t,s,r,i){if(Ls(s)){var a=!0;Ff(t)}else a=!1;if(Vl(t,i),t.stateNode===null)ff(e,t),cC(t,s,r),ux(t,s,r,i),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var d=o.context,h=s.contextType;typeof h=="object"&&h!==null?h=cr(h):(h=Ls(s)?$o:os.current,h=oc(t,h));var f=s.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||d!==h)&&A_(t,o,r,h),ga=!1;var u=t.memoizedState;o.state=u,Uf(t,r,o,i),d=t.memoizedState,c!==r||u!==d||Rs.current||ga?(typeof f=="function"&&(dx(t,s,f,r),d=t.memoizedState),(c=ga||T_(t,s,c,r,u,d,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Vk(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:jr(t.type,c),o.props=h,m=t.pendingProps,u=o.context,d=s.contextType,typeof d=="object"&&d!==null?d=cr(d):(d=Ls(s)?$o:os.current,d=oc(t,d));var p=s.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==m||u!==d)&&A_(t,o,r,d),ga=!1,u=t.memoizedState,o.state=u,Uf(t,r,o,i);var y=t.memoizedState;c!==m||u!==y||Rs.current||ga?(typeof p=="function"&&(dx(t,s,p,r),y=t.memoizedState),(h=ga||T_(t,s,h,r,u,y,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=d,r=h):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return mx(e,t,s,r,a,i)}function mx(e,t,s,r,i,a){mC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&j_(t,s,!1),Ki(e,t,a);r=t.stateNode,Y3.current=t;var c=o&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=cc(t,e.child,null,a),t.child=cc(t,null,c,a)):hs(e,t,c,a),t.memoizedState=r.state,i&&j_(t,s,!0),t.child}function pC(e){var t=e.stateNode;t.pendingContext?w_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&w_(e,t.context,!1),P0(e,t.containerInfo)}function F_(e,t,s,r,i){return lc(),_0(i),t.flags|=256,hs(e,t,s,r),t.child}var px={dehydrated:null,treeContext:null,retryLane:0};function gx(e){return{baseLanes:e,cachePool:null,transitions:null}}function gC(e,t,s){var r=t.pendingProps,i=an.current,a=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Gt(an,i&1),e===null)return lx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Hm(o,r,0,null),e=Oo(e,r,s,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=gx(s),t.memoizedState=px,e):D0(t,o));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return X3(e,t,o,r,c,i,s);if(a){a=r.fallback,o=t.mode,i=e.child,c=i.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=Ma(i,d),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?a=Ma(c,a):(a=Oo(a,o,s,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?gx(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~s,t.memoizedState=px,r}return a=e.child,e=a.sibling,r=Ma(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function D0(e,t){return t=Hm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zh(e,t,s,r){return r!==null&&_0(r),cc(t,e.child,null,s),e=D0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X3(e,t,s,r,i,a,o){if(s)return t.flags&256?(t.flags&=-257,r=qg(Error(Oe(422))),zh(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Hm({mode:"visible",children:r.children},i,0,null),a=Oo(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&cc(t,e.child,null,o),t.child.memoizedState=gx(o),t.memoizedState=px,a);if(!(t.mode&1))return zh(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(Oe(419)),r=qg(a,r,void 0),zh(e,t,o,r)}if(c=(o&e.childLanes)!==0,Ts||c){if(r=zn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gi(e,i),Mr(r,e,i,-1))}return U0(),r=qg(Error(Oe(421))),zh(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dI.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Us=Aa(i.nextSibling),qs=t,nn=!0,Cr=null,e!==null&&(tr[nr++]=Bi,tr[nr++]=Vi,tr[nr++]=zo,Bi=e.id,Vi=e.overflow,zo=t),t=D0(t,r.children),t.flags|=4096,t)}function $_(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),cx(e.return,t,s)}function Hg(e,t,s,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=s,a.tailMode=i)}function vC(e,t,s){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(hs(e,t,r.children,s),r=an.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$_(e,s,t);else if(e.tag===19)$_(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gt(an,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;s!==null;)e=s.alternate,e!==null&&qf(e)===null&&(i=s),s=s.sibling;s=i,s===null?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),Hg(t,!1,i,s,a);break;case"backwards":for(s=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qf(e)===null){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}Hg(t,!0,s,null,a);break;case"together":Hg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ff(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ki(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,s=Ma(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Ma(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Q3(e,t,s){switch(t.tag){case 3:pC(t),lc();break;case 5:Uk(t);break;case 1:Ls(t.type)&&Ff(t);break;case 4:P0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Gt(Bf,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gt(an,an.current&1),t.flags|=128,null):s&t.child.childLanes?gC(e,t,s):(Gt(an,an.current&1),e=Ki(e,t,s),e!==null?e.sibling:null);Gt(an,an.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return vC(e,t,s);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(an,an.current),r)break;return null;case 22:case 23:return t.lanes=0,fC(e,t,s)}return Ki(e,t,s)}var xC,vx,yC,bC;xC=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};vx=function(){};yC=function(e,t,s,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,wo(di.current);var a=null;switch(s){case"input":i=$v(e,i),r=$v(e,r),a=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),a=[];break;case"textarea":i=Vv(e,i),r=Vv(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=If)}qv(s,r);var o;s=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var c=i[h];for(o in c)c.hasOwnProperty(o)&&(s||(s={}),s[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(tu.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var d=r[h];if(c=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&d!==c&&(d!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(s||(s={}),s[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(s||(s={}),s[o]=d[o])}else s||(a||(a=[]),a.push(h,s)),s=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(tu.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&Jt("scroll",e),a||c===d||(a=[])):(a=a||[]).push(h,d))}s&&(a=a||[]).push("style",s);var h=a;(t.updateQueue=h)&&(t.flags|=4)}};bC=function(e,t,s,r){s!==r&&(t.flags|=4)};function pd(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ts(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)s|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function J3(e,t,s){var r=t.pendingProps;switch(j0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(t),null;case 1:return Ls(t.type)&&Df(),ts(t),null;case 3:return r=t.stateNode,dc(),tn(Rs),tn(os),A0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cr!==null&&(Sx(Cr),Cr=null))),vx(e,t),ts(t),null;case 5:T0(t);var i=wo(fu.current);if(s=t.type,e!==null&&t.stateNode!=null)yC(e,t,s,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Oe(166));return ts(t),null}if(e=wo(di.current),Fh(t)){r=t.stateNode,s=t.type;var a=t.memoizedProps;switch(r[ri]=t,r[uu]=a,e=(t.mode&1)!==0,s){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<Td.length;i++)Jt(Td[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":Gj(r,a),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Jt("invalid",r);break;case"textarea":Yj(r,a),Jt("invalid",r)}qv(s,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&Dh(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Dh(r.textContent,c,e),i=["children",""+c]):tu.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Jt("scroll",r)}switch(s){case"input":Ph(r),Kj(r,a,!0);break;case"textarea":Ph(r),Xj(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=If)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=G2(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(s,{is:r.is}):(e=o.createElement(s),s==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,s),e[ri]=t,e[uu]=r,xC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hv(s,r),s){case"dialog":Jt("cancel",e),Jt("close",e),i=r;break;case"iframe":case"object":case"embed":Jt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Td.length;i++)Jt(Td[i],e);i=r;break;case"source":Jt("error",e),i=r;break;case"img":case"image":case"link":Jt("error",e),Jt("load",e),i=r;break;case"details":Jt("toggle",e),i=r;break;case"input":Gj(e,r),i=$v(e,r),Jt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Jt("invalid",e);break;case"textarea":Yj(e,r),i=Vv(e,r),Jt("invalid",e);break;default:i=r}qv(s,i),c=i;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?X2(e,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&K2(e,d)):a==="children"?typeof d=="string"?(s!=="textarea"||d!=="")&&nu(e,d):typeof d=="number"&&nu(e,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(tu.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Jt("scroll",e):d!=null&&o0(e,a,d,o))}switch(s){case"input":Ph(e),Kj(e,r,!1);break;case"textarea":Ph(e),Xj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ba(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Fl(e,!!r.multiple,a,!1):r.defaultValue!=null&&Fl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=If)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ts(t),null;case 6:if(e&&t.stateNode!=null)bC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Oe(166));if(s=wo(fu.current),wo(di.current),Fh(t)){if(r=t.stateNode,s=t.memoizedProps,r[ri]=t,(a=r.nodeValue!==s)&&(e=qs,e!==null))switch(e.tag){case 3:Dh(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dh(r.nodeValue,s,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[ri]=t,t.stateNode=r}return ts(t),null;case 13:if(tn(an),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&Us!==null&&t.mode&1&&!(t.flags&128))Fk(),lc(),t.flags|=98560,a=!1;else if(a=Fh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Oe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Oe(317));a[ri]=t}else lc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ts(t),a=!1}else Cr!==null&&(Sx(Cr),Cr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||an.current&1?In===0&&(In=3):U0())),t.updateQueue!==null&&(t.flags|=4),ts(t),null);case 4:return dc(),vx(e,t),e===null&&cu(t.stateNode.containerInfo),ts(t),null;case 10:return k0(t.type._context),ts(t),null;case 17:return Ls(t.type)&&Df(),ts(t),null;case 19:if(tn(an),a=t.memoizedState,a===null)return ts(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)pd(a,!1);else{if(In!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qf(e),o!==null){for(t.flags|=128,pd(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)a=s,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Gt(an,an.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nn()>hc&&(t.flags|=128,r=!0,pd(a,!1),t.lanes=4194304)}else{if(!r)if(e=qf(o),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),pd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!nn)return ts(t),null}else 2*Nn()-a.renderingStartTime>hc&&s!==1073741824&&(t.flags|=128,r=!0,pd(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(s=a.last,s!==null?s.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nn(),t.sibling=null,s=an.current,Gt(an,r?s&1|2:s&1),t):(ts(t),null);case 22:case 23:return V0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$s&1073741824&&(ts(t),t.subtreeFlags&6&&(t.flags|=8192)):ts(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function eI(e,t){switch(j0(t),t.tag){case 1:return Ls(t.type)&&Df(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dc(),tn(Rs),tn(os),A0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return T0(t),null;case 13:if(tn(an),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));lc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(an),null;case 4:return dc(),null;case 10:return k0(t.type._context),null;case 22:case 23:return V0(),null;case 24:return null;default:return null}}var Bh=!1,ss=!1,tI=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function Pl(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){pn(e,t,r)}else s.current=null}function xx(e,t,s){try{s()}catch(r){pn(e,t,r)}}var z_=!1;function nI(e,t){if(tx=Rf,e=Sk(),b0(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{s.nodeType,a.nodeType}catch{s=null;break e}var o=0,c=-1,d=-1,h=0,f=0,m=e,u=null;t:for(;;){for(var p;m!==s||i!==0&&m.nodeType!==3||(c=o+i),m!==a||r!==0&&m.nodeType!==3||(d=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)u=m,m=p;for(;;){if(m===e)break t;if(u===s&&++h===i&&(c=o),u===a&&++f===r&&(d=o),(p=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=p}s=c===-1||d===-1?null:{start:c,end:d}}else s=null}s=s||{start:0,end:0}}else s=null;for(nx={focusedElem:e,selectionRange:s},Rf=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:jr(t.type,v),w);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(N){pn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return y=z_,z_=!1,y}function Bd(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&xx(t,s,a)}i=i.next}while(i!==r)}}function Um(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function yx(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function wC(e){var t=e.alternate;t!==null&&(e.alternate=null,wC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ri],delete t[uu],delete t[ix],delete t[F3],delete t[$3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jC(e){return e.tag===5||e.tag===3||e.tag===4}function B_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=If));else if(r!==4&&(e=e.child,e!==null))for(bx(e,t,s),e=e.sibling;e!==null;)bx(e,t,s),e=e.sibling}function wx(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(wx(e,t,s),e=e.sibling;e!==null;)wx(e,t,s),e=e.sibling}var qn=null,kr=!1;function ca(e,t,s){for(s=s.child;s!==null;)_C(e,t,s),s=s.sibling}function _C(e,t,s){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Mm,s)}catch{}switch(s.tag){case 5:ss||Pl(s,t);case 6:var r=qn,i=kr;qn=null,ca(e,t,s),qn=r,kr=i,qn!==null&&(kr?(e=qn,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):qn.removeChild(s.stateNode));break;case 18:qn!==null&&(kr?(e=qn,s=s.stateNode,e.nodeType===8?Fg(e.parentNode,s):e.nodeType===1&&Fg(e,s),au(e)):Fg(qn,s.stateNode));break;case 4:r=qn,i=kr,qn=s.stateNode.containerInfo,kr=!0,ca(e,t,s),qn=r,kr=i;break;case 0:case 11:case 14:case 15:if(!ss&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&xx(s,t,o),i=i.next}while(i!==r)}ca(e,t,s);break;case 1:if(!ss&&(Pl(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(c){pn(s,t,c)}ca(e,t,s);break;case 21:ca(e,t,s);break;case 22:s.mode&1?(ss=(r=ss)||s.memoizedState!==null,ca(e,t,s),ss=r):ca(e,t,s);break;default:ca(e,t,s)}}function V_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new tI),t.forEach(function(r){var i=uI.bind(null,e,r);s.has(r)||(s.add(r),r.then(i,i))})}}function xr(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];try{var a=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:qn=c.stateNode,kr=!1;break e;case 3:qn=c.stateNode.containerInfo,kr=!0;break e;case 4:qn=c.stateNode.containerInfo,kr=!0;break e}c=c.return}if(qn===null)throw Error(Oe(160));_C(a,o,i),qn=null,kr=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(h){pn(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NC(t,e),t=t.sibling}function NC(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(t,e),Xr(e),r&4){try{Bd(3,e,e.return),Um(3,e)}catch(v){pn(e,e.return,v)}try{Bd(5,e,e.return)}catch(v){pn(e,e.return,v)}}break;case 1:xr(t,e),Xr(e),r&512&&s!==null&&Pl(s,s.return);break;case 5:if(xr(t,e),Xr(e),r&512&&s!==null&&Pl(s,s.return),e.flags&32){var i=e.stateNode;try{nu(i,"")}catch(v){pn(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=s!==null?s.memoizedProps:a,c=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&W2(i,a),Hv(c,o);var h=Hv(c,a);for(o=0;o<d.length;o+=2){var f=d[o],m=d[o+1];f==="style"?X2(i,m):f==="dangerouslySetInnerHTML"?K2(i,m):f==="children"?nu(i,m):o0(i,f,m,h)}switch(c){case"input":zv(i,a);break;case"textarea":Z2(i,a);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Fl(i,!!a.multiple,p,!1):u!==!!a.multiple&&(a.defaultValue!=null?Fl(i,!!a.multiple,a.defaultValue,!0):Fl(i,!!a.multiple,a.multiple?[]:"",!1))}i[uu]=a}catch(v){pn(e,e.return,v)}}break;case 6:if(xr(t,e),Xr(e),r&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){pn(e,e.return,v)}}break;case 3:if(xr(t,e),Xr(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{au(t.containerInfo)}catch(v){pn(e,e.return,v)}break;case 4:xr(t,e),Xr(e);break;case 13:xr(t,e),Xr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(z0=Nn())),r&4&&V_(e);break;case 22:if(f=s!==null&&s.memoizedState!==null,e.mode&1?(ss=(h=ss)||f,xr(t,e),ss=h):xr(t,e),Xr(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&e.mode&1)for(Ke=e,f=e.child;f!==null;){for(m=Ke=f;Ke!==null;){switch(u=Ke,p=u.child,u.tag){case 0:case 11:case 14:case 15:Bd(4,u,u.return);break;case 1:Pl(u,u.return);var y=u.stateNode;if(typeof y.componentWillUnmount=="function"){r=u,s=u.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){pn(r,s,v)}}break;case 5:Pl(u,u.return);break;case 22:if(u.memoizedState!==null){q_(m);continue}}p!==null?(p.return=u,Ke=p):q_(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,d=m.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Y2("display",o))}catch(v){pn(e,e.return,v)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(v){pn(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xr(t,e),Xr(e),r&4&&V_(e);break;case 21:break;default:xr(t,e),Xr(e)}}function Xr(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(jC(s)){var r=s;break e}s=s.return}throw Error(Oe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nu(i,""),r.flags&=-33);var a=B_(e);wx(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,c=B_(e);bx(e,c,o);break;default:throw Error(Oe(161))}}catch(d){pn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sI(e,t,s){Ke=e,SC(e)}function SC(e,t,s){for(var r=(e.mode&1)!==0;Ke!==null;){var i=Ke,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bh;if(!o){var c=i.alternate,d=c!==null&&c.memoizedState!==null||ss;c=Bh;var h=ss;if(Bh=o,(ss=d)&&!h)for(Ke=i;Ke!==null;)o=Ke,d=o.child,o.tag===22&&o.memoizedState!==null?H_(i):d!==null?(d.return=o,Ke=d):H_(i);for(;a!==null;)Ke=a,SC(a),a=a.sibling;Ke=i,Bh=c,ss=h}U_(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ke=a):U_(e)}}function U_(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ss||Um(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ss)if(s===null)r.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:jr(t.type,s.memoizedProps);r.componentDidUpdate(i,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&C_(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}C_(t,o,s)}break;case 5:var c=t.stateNode;if(s===null&&t.flags&4){s=c;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&s.focus();break;case"img":d.src&&(s.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&au(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}ss||t.flags&512&&yx(t)}catch(u){pn(t,t.return,u)}}if(t===e){Ke=null;break}if(s=t.sibling,s!==null){s.return=t.return,Ke=s;break}Ke=t.return}}function q_(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Ke=s;break}Ke=t.return}}function H_(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{Um(4,t)}catch(d){pn(t,s,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){pn(t,i,d)}}var a=t.return;try{yx(t)}catch(d){pn(t,a,d)}break;case 5:var o=t.return;try{yx(t)}catch(d){pn(t,o,d)}}}catch(d){pn(t,t.return,d)}if(t===e){Ke=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ke=c;break}Ke=t.return}}var rI=Math.ceil,Zf=sa.ReactCurrentDispatcher,F0=sa.ReactCurrentOwner,ir=sa.ReactCurrentBatchConfig,At=0,zn=null,Rn=null,Gn=0,$s=0,Tl=Qa(0),In=0,vu=null,Vo=0,qm=0,$0=0,Vd=null,Ps=null,z0=0,hc=1/0,Ii=null,Gf=!1,jx=null,Ra=null,Vh=!1,ka=null,Kf=0,Ud=0,_x=null,mf=-1,pf=0;function bs(){return At&6?Nn():mf!==-1?mf:mf=Nn()}function La(e){return e.mode&1?At&2&&Gn!==0?Gn&-Gn:B3.transition!==null?(pf===0&&(pf=ck()),pf):(e=Ft,e!==0||(e=window.event,e=e===void 0?16:gk(e.type)),e):1}function Mr(e,t,s,r){if(50<Ud)throw Ud=0,_x=null,Error(Oe(185));Vu(e,s,r),(!(At&2)||e!==zn)&&(e===zn&&(!(At&2)&&(qm|=s),In===4&&ya(e,Gn)),Ms(e,r),s===1&&At===0&&!(t.mode&1)&&(hc=Nn()+500,zm&&Ja()))}function Ms(e,t){var s=e.callbackNode;BM(e,t);var r=Of(e,e===zn?Gn:0);if(r===0)s!==null&&e_(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&e_(s),t===1)e.tag===0?z3(W_.bind(null,e)):Mk(W_.bind(null,e)),I3(function(){!(At&6)&&Ja()}),s=null;else{switch(dk(r)){case 1:s=h0;break;case 4:s=ok;break;case 16:s=Af;break;case 536870912:s=lk;break;default:s=Af}s=RC(s,kC.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function kC(e,t){if(mf=-1,pf=0,At&6)throw Error(Oe(327));var s=e.callbackNode;if(Ul()&&e.callbackNode!==s)return null;var r=Of(e,e===zn?Gn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yf(e,r);else{t=r;var i=At;At|=2;var a=EC();(zn!==e||Gn!==t)&&(Ii=null,hc=Nn()+500,Ao(e,t));do try{oI();break}catch(c){CC(e,c)}while(!0);S0(),Zf.current=a,At=i,Rn!==null?t=0:(zn=null,Gn=0,t=In)}if(t!==0){if(t===2&&(i=Yv(e),i!==0&&(r=i,t=Nx(e,i))),t===1)throw s=vu,Ao(e,0),ya(e,r),Ms(e,Nn()),s;if(t===6)ya(e,r);else{if(i=e.current.alternate,!(r&30)&&!iI(i)&&(t=Yf(e,r),t===2&&(a=Yv(e),a!==0&&(r=a,t=Nx(e,a))),t===1))throw s=vu,Ao(e,0),ya(e,r),Ms(e,Nn()),s;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Oe(345));case 2:mo(e,Ps,Ii);break;case 3:if(ya(e,r),(r&130023424)===r&&(t=z0+500-Nn(),10<t)){if(Of(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rx(mo.bind(null,e,Ps,Ii),t);break}mo(e,Ps,Ii);break;case 4:if(ya(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Lr(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Nn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rI(r/1960))-r,10<r){e.timeoutHandle=rx(mo.bind(null,e,Ps,Ii),r);break}mo(e,Ps,Ii);break;case 5:mo(e,Ps,Ii);break;default:throw Error(Oe(329))}}}return Ms(e,Nn()),e.callbackNode===s?kC.bind(null,e):null}function Nx(e,t){var s=Vd;return e.current.memoizedState.isDehydrated&&(Ao(e,t).flags|=256),e=Yf(e,t),e!==2&&(t=Ps,Ps=s,t!==null&&Sx(t)),e}function Sx(e){Ps===null?Ps=e:Ps.push.apply(Ps,e)}function iI(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var i=s[r],a=i.getSnapshot;i=i.value;try{if(!Dr(a(),i))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(e,t){for(t&=~$0,t&=~qm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Lr(t),r=1<<s;e[s]=-1,t&=~r}}function W_(e){if(At&6)throw Error(Oe(327));Ul();var t=Of(e,0);if(!(t&1))return Ms(e,Nn()),null;var s=Yf(e,t);if(e.tag!==0&&s===2){var r=Yv(e);r!==0&&(t=r,s=Nx(e,r))}if(s===1)throw s=vu,Ao(e,0),ya(e,t),Ms(e,Nn()),s;if(s===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,Ps,Ii),Ms(e,Nn()),null}function B0(e,t){var s=At;At|=1;try{return e(t)}finally{At=s,At===0&&(hc=Nn()+500,zm&&Ja())}}function Uo(e){ka!==null&&ka.tag===0&&!(At&6)&&Ul();var t=At;At|=1;var s=ir.transition,r=Ft;try{if(ir.transition=null,Ft=1,e)return e()}finally{Ft=r,ir.transition=s,At=t,!(At&6)&&Ja()}}function V0(){$s=Tl.current,tn(Tl)}function Ao(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,M3(s)),Rn!==null)for(s=Rn.return;s!==null;){var r=s;switch(j0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Df();break;case 3:dc(),tn(Rs),tn(os),A0();break;case 5:T0(r);break;case 4:dc();break;case 13:tn(an);break;case 19:tn(an);break;case 10:k0(r.type._context);break;case 22:case 23:V0()}s=s.return}if(zn=e,Rn=e=Ma(e.current,null),Gn=$s=t,In=0,vu=null,$0=qm=Vo=0,Ps=Vd=null,bo!==null){for(t=0;t<bo.length;t++)if(s=bo[t],r=s.interleaved,r!==null){s.interleaved=null;var i=r.next,a=s.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}s.pending=r}bo=null}return e}function CC(e,t){do{var s=Rn;try{if(S0(),uf.current=Wf,Hf){for(var r=ln.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hf=!1}if(Bo=0,$n=Mn=ln=null,zd=!1,mu=0,F0.current=null,s===null||s.return===null){In=1,vu=t,Rn=null;break}e:{var a=e,o=s.return,c=s,d=t;if(t=Gn,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=c,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=R_(o);if(p!==null){p.flags&=-257,L_(p,o,c,a,t),p.mode&1&&O_(a,h,t),t=p,d=h;var y=t.updateQueue;if(y===null){var v=new Set;v.add(d),t.updateQueue=v}else y.add(d);break e}else{if(!(t&1)){O_(a,h,t),U0();break e}d=Error(Oe(426))}}else if(nn&&c.mode&1){var w=R_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),L_(w,o,c,a,t),_0(uc(d,c));break e}}a=d=uc(d,c),In!==4&&(In=2),Vd===null?Vd=[a]:Vd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=dC(a,d,t);k_(a,x);break e;case 1:c=d;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ra===null||!Ra.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=uC(a,c,t);k_(a,N);break e}}a=a.return}while(a!==null)}TC(s)}catch(C){t=C,Rn===s&&s!==null&&(Rn=s=s.return);continue}break}while(!0)}function EC(){var e=Zf.current;return Zf.current=Wf,e===null?Wf:e}function U0(){(In===0||In===3||In===2)&&(In=4),zn===null||!(Vo&268435455)&&!(qm&268435455)||ya(zn,Gn)}function Yf(e,t){var s=At;At|=2;var r=EC();(zn!==e||Gn!==t)&&(Ii=null,Ao(e,t));do try{aI();break}catch(i){CC(e,i)}while(!0);if(S0(),At=s,Zf.current=r,Rn!==null)throw Error(Oe(261));return zn=null,Gn=0,In}function aI(){for(;Rn!==null;)PC(Rn)}function oI(){for(;Rn!==null&&!OM();)PC(Rn)}function PC(e){var t=OC(e.alternate,e,$s);e.memoizedProps=e.pendingProps,t===null?TC(e):Rn=t,F0.current=null}function TC(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=eI(s,t),s!==null){s.flags&=32767,Rn=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{In=6,Rn=null;return}}else if(s=J3(s,t,$s),s!==null){Rn=s;return}if(t=t.sibling,t!==null){Rn=t;return}Rn=t=e}while(t!==null);In===0&&(In=5)}function mo(e,t,s){var r=Ft,i=ir.transition;try{ir.transition=null,Ft=1,lI(e,t,s,r)}finally{ir.transition=i,Ft=r}return null}function lI(e,t,s,r){do Ul();while(ka!==null);if(At&6)throw Error(Oe(327));s=e.finishedWork;var i=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(VM(e,a),e===zn&&(Rn=zn=null,Gn=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Vh||(Vh=!0,RC(Af,function(){return Ul(),null})),a=(s.flags&15990)!==0,s.subtreeFlags&15990||a){a=ir.transition,ir.transition=null;var o=Ft;Ft=1;var c=At;At|=4,F0.current=null,nI(e,s),NC(s,e),E3(nx),Rf=!!tx,nx=tx=null,e.current=s,sI(s),RM(),At=c,Ft=o,ir.transition=a}else e.current=s;if(Vh&&(Vh=!1,ka=e,Kf=i),a=e.pendingLanes,a===0&&(Ra=null),IM(s.stateNode),Ms(e,Nn()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gf)throw Gf=!1,e=jx,jx=null,e;return Kf&1&&e.tag!==0&&Ul(),a=e.pendingLanes,a&1?e===_x?Ud++:(Ud=0,_x=e):Ud=0,Ja(),null}function Ul(){if(ka!==null){var e=dk(Kf),t=ir.transition,s=Ft;try{if(ir.transition=null,Ft=16>e?16:e,ka===null)var r=!1;else{if(e=ka,ka=null,Kf=0,At&6)throw Error(Oe(331));var i=At;for(At|=4,Ke=e.current;Ke!==null;){var a=Ke,o=a.child;if(Ke.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var h=c[d];for(Ke=h;Ke!==null;){var f=Ke;switch(f.tag){case 0:case 11:case 15:Bd(8,f,a)}var m=f.child;if(m!==null)m.return=f,Ke=m;else for(;Ke!==null;){f=Ke;var u=f.sibling,p=f.return;if(wC(f),f===h){Ke=null;break}if(u!==null){u.return=p,Ke=u;break}Ke=p}}}var y=a.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ke=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ke=o;else e:for(;Ke!==null;){if(a=Ke,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bd(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Ke=x;break e}Ke=a.return}}var b=e.current;for(Ke=b;Ke!==null;){o=Ke;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Ke=_;else e:for(o=b;Ke!==null;){if(c=Ke,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Um(9,c)}}catch(C){pn(c,c.return,C)}if(c===o){Ke=null;break e}var N=c.sibling;if(N!==null){N.return=c.return,Ke=N;break e}Ke=c.return}}if(At=i,Ja(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Mm,e)}catch{}r=!0}return r}finally{Ft=s,ir.transition=t}}return!1}function Z_(e,t,s){t=uc(s,t),t=dC(e,t,1),e=Oa(e,t,1),t=bs(),e!==null&&(Vu(e,1,t),Ms(e,t))}function pn(e,t,s){if(e.tag===3)Z_(e,e,s);else for(;t!==null;){if(t.tag===3){Z_(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ra===null||!Ra.has(r))){e=uc(s,e),e=uC(t,e,1),t=Oa(t,e,1),e=bs(),t!==null&&(Vu(t,1,e),Ms(t,e));break}}t=t.return}}function cI(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=bs(),e.pingedLanes|=e.suspendedLanes&s,zn===e&&(Gn&s)===s&&(In===4||In===3&&(Gn&130023424)===Gn&&500>Nn()-z0?Ao(e,0):$0|=s),Ms(e,t)}function AC(e,t){t===0&&(e.mode&1?(t=Oh,Oh<<=1,!(Oh&130023424)&&(Oh=4194304)):t=1);var s=bs();e=Gi(e,t),e!==null&&(Vu(e,t,s),Ms(e,s))}function dI(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),AC(e,s)}function uI(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(s=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Oe(314))}r!==null&&r.delete(t),AC(e,s)}var OC;OC=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rs.current)Ts=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ts=!1,Q3(e,t,s);Ts=!!(e.flags&131072)}else Ts=!1,nn&&t.flags&1048576&&Ik(t,zf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ff(e,t),e=t.pendingProps;var i=oc(t,os.current);Vl(t,s),i=R0(null,t,r,e,i,s);var a=L0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(r)?(a=!0,Ff(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,E0(t),i.updater=Vm,t.stateNode=i,i._reactInternals=t,ux(t,r,e,s),t=mx(null,t,r,!0,a,s)):(t.tag=0,nn&&a&&w0(t),hs(null,t,i,s),t=t.child),t;case 16:r=t.elementType;e:{switch(ff(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fI(r),e=jr(r,e),i){case 0:t=fx(null,t,r,e,s);break e;case 1:t=D_(null,t,r,e,s);break e;case 11:t=M_(null,t,r,e,s);break e;case 14:t=I_(null,t,r,jr(r.type,e),s);break e}throw Error(Oe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),fx(e,t,r,i,s);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),D_(e,t,r,i,s);case 3:e:{if(pC(t),e===null)throw Error(Oe(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Vk(e,t),Uf(t,r,null,s);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=uc(Error(Oe(423)),t),t=F_(e,t,r,s,i);break e}else if(r!==i){i=uc(Error(Oe(424)),t),t=F_(e,t,r,s,i);break e}else for(Us=Aa(t.stateNode.containerInfo.firstChild),qs=t,nn=!0,Cr=null,s=zk(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(lc(),r===i){t=Ki(e,t,s);break e}hs(e,t,r,s)}t=t.child}return t;case 5:return Uk(t),e===null&&lx(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,sx(r,i)?o=null:a!==null&&sx(r,a)&&(t.flags|=32),mC(e,t),hs(e,t,o,s),t.child;case 6:return e===null&&lx(t),null;case 13:return gC(e,t,s);case 4:return P0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cc(t,null,r,s):hs(e,t,r,s),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),M_(e,t,r,i,s);case 7:return hs(e,t,t.pendingProps,s),t.child;case 8:return hs(e,t,t.pendingProps.children,s),t.child;case 12:return hs(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Gt(Bf,r._currentValue),r._currentValue=o,a!==null)if(Dr(a.value,o)){if(a.children===i.children&&!Rs.current){t=Ki(e,t,s);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=qi(-1,s&-s),d.tag=2;var h=a.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}a.lanes|=s,d=a.alternate,d!==null&&(d.lanes|=s),cx(a.return,s,t),c.lanes|=s;break}d=d.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Oe(341));o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),cx(o,s,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hs(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vl(t,s),i=cr(i),r=r(i),t.flags|=1,hs(e,t,r,s),t.child;case 14:return r=t.type,i=jr(r,t.pendingProps),i=jr(r.type,i),I_(e,t,r,i,s);case 15:return hC(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:jr(r,i),ff(e,t),t.tag=1,Ls(r)?(e=!0,Ff(t)):e=!1,Vl(t,s),cC(t,r,i),ux(t,r,i,s),mx(null,t,r,!0,e,s);case 19:return vC(e,t,s);case 22:return fC(e,t,s)}throw Error(Oe(156,t.tag))};function RC(e,t){return ak(e,t)}function hI(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(e,t,s,r){return new hI(e,t,s,r)}function q0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fI(e){if(typeof e=="function")return q0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===c0)return 11;if(e===d0)return 14}return 2}function Ma(e,t){var s=e.alternate;return s===null?(s=sr(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function gf(e,t,s,r,i,a){var o=2;if(r=e,typeof e=="function")q0(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bl:return Oo(s.children,i,a,t);case l0:o=8,i|=8;break;case Mv:return e=sr(12,s,t,i|2),e.elementType=Mv,e.lanes=a,e;case Iv:return e=sr(13,s,t,i),e.elementType=Iv,e.lanes=a,e;case Dv:return e=sr(19,s,t,i),e.elementType=Dv,e.lanes=a,e;case U2:return Hm(s,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B2:o=10;break e;case V2:o=9;break e;case c0:o=11;break e;case d0:o=14;break e;case pa:o=16,r=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=sr(o,s,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Oo(e,t,s,r){return e=sr(7,e,r,t),e.lanes=s,e}function Hm(e,t,s,r){return e=sr(22,e,r,t),e.elementType=U2,e.lanes=s,e.stateNode={isHidden:!1},e}function Wg(e,t,s){return e=sr(6,e,null,t),e.lanes=s,e}function Zg(e,t,s){return t=sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mI(e,t,s,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cg(0),this.expirationTimes=Cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function H0(e,t,s,r,i,a,o,c,d){return e=new mI(e,t,s,c,d),t===1?(t=1,a===!0&&(t|=8)):t=0,a=sr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},E0(a),e}function pI(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function LC(e){if(!e)return Va;e=e._reactInternals;e:{if(Jo(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var s=e.type;if(Ls(s))return Lk(e,s,t)}return t}function MC(e,t,s,r,i,a,o,c,d){return e=H0(s,r,!0,e,i,a,o,c,d),e.context=LC(null),s=e.current,r=bs(),i=La(s),a=qi(r,i),a.callback=t??null,Oa(s,a,i),e.current.lanes=i,Vu(e,i,r),Ms(e,r),e}function Wm(e,t,s,r){var i=t.current,a=bs(),o=La(i);return s=LC(s),t.context===null?t.context=s:t.pendingContext=s,t=qi(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oa(i,t,o),e!==null&&(Mr(e,i,o,a),df(e,i,o)),o}function Xf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function W0(e,t){G_(e,t),(e=e.alternate)&&G_(e,t)}function gI(){return null}var IC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Z0(e){this._internalRoot=e}Zm.prototype.render=Z0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));Wm(e,t,null,null)};Zm.prototype.unmount=Z0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uo(function(){Wm(null,e,null,null)}),t[Zi]=null}};function Zm(e){this._internalRoot=e}Zm.prototype.unstable_scheduleHydration=function(e){if(e){var t=fk();e={blockedOn:null,target:e,priority:t};for(var s=0;s<xa.length&&t!==0&&t<xa[s].priority;s++);xa.splice(s,0,e),s===0&&pk(e)}};function G0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K_(){}function vI(e,t,s,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var h=Xf(o);a.call(h)}}var o=MC(t,r,e,0,null,!1,!1,"",K_);return e._reactRootContainer=o,e[Zi]=o.current,cu(e.nodeType===8?e.parentNode:e),Uo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var h=Xf(d);c.call(h)}}var d=H0(e,0,!1,null,null,!1,!1,"",K_);return e._reactRootContainer=d,e[Zi]=d.current,cu(e.nodeType===8?e.parentNode:e),Uo(function(){Wm(t,d,s,r)}),d}function Km(e,t,s,r,i){var a=s._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var c=i;i=function(){var d=Xf(o);c.call(d)}}Wm(t,o,e,i)}else o=vI(s,t,e,i,r);return Xf(o)}uk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Pd(t.pendingLanes);s!==0&&(f0(t,s|1),Ms(t,Nn()),!(At&6)&&(hc=Nn()+500,Ja()))}break;case 13:Uo(function(){var r=Gi(e,1);if(r!==null){var i=bs();Mr(r,e,1,i)}}),W0(e,1)}};m0=function(e){if(e.tag===13){var t=Gi(e,134217728);if(t!==null){var s=bs();Mr(t,e,134217728,s)}W0(e,134217728)}};hk=function(e){if(e.tag===13){var t=La(e),s=Gi(e,t);if(s!==null){var r=bs();Mr(s,e,t,r)}W0(e,t)}};fk=function(){return Ft};mk=function(e,t){var s=Ft;try{return Ft=e,t()}finally{Ft=s}};Zv=function(e,t,s){switch(t){case"input":if(zv(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var i=$m(r);if(!i)throw Error(Oe(90));H2(r),zv(r,i)}}}break;case"textarea":Z2(e,s);break;case"select":t=s.value,t!=null&&Fl(e,!!s.multiple,t,!1)}};ek=B0;tk=Uo;var xI={usingClientEntryPoint:!1,Events:[qu,Nl,$m,Q2,J2,B0]},gd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yI={bundleType:gd.bundleType,version:gd.version,rendererPackageName:gd.rendererPackageName,rendererConfig:gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rk(e),e===null?null:e.stateNode},findFiberByHostInstance:gd.findFiberByHostInstance||gI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uh.isDisabled&&Uh.supportsFiber)try{Mm=Uh.inject(yI),ci=Uh}catch{}}Zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xI;Zs.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(t))throw Error(Oe(200));return pI(e,t,null,s)};Zs.createRoot=function(e,t){if(!G0(e))throw Error(Oe(299));var s=!1,r="",i=IC;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=H0(e,1,!1,null,null,s,!1,r,i),e[Zi]=t.current,cu(e.nodeType===8?e.parentNode:e),new Z0(t)};Zs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=rk(t),e=e===null?null:e.stateNode,e};Zs.flushSync=function(e){return Uo(e)};Zs.hydrate=function(e,t,s){if(!Gm(t))throw Error(Oe(200));return Km(null,e,t,!0,s)};Zs.hydrateRoot=function(e,t,s){if(!G0(e))throw Error(Oe(405));var r=s!=null&&s.hydratedSources||null,i=!1,a="",o=IC;if(s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(o=s.onRecoverableError)),t=MC(t,null,e,1,s??null,i,!1,a,o),e[Zi]=t.current,cu(e),r)for(e=0;e<r.length;e++)s=r[e],i=s._getVersion,i=i(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Zm(t)};Zs.render=function(e,t,s){if(!Gm(t))throw Error(Oe(200));return Km(null,e,t,!1,s)};Zs.unmountComponentAtNode=function(e){if(!Gm(e))throw Error(Oe(40));return e._reactRootContainer?(Uo(function(){Km(null,null,e,!1,function(){e._reactRootContainer=null,e[Zi]=null})}),!0):!1};Zs.unstable_batchedUpdates=B0;Zs.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Gm(s))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return Km(e,t,s,!1,r)};Zs.version="18.3.1-next-f1338f8080-20240426";function DC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DC)}catch(e){console.error(e)}}DC(),D2.exports=Zs;var eo=D2.exports;const FC=Rm(eo);var $C,Y_=eo;$C=Y_.createRoot,Y_.hydrateRoot;const bI=1,wI=1e6;let Gg=0;function jI(){return Gg=(Gg+1)%Number.MAX_SAFE_INTEGER,Gg.toString()}const Kg=new Map,X_=e=>{if(Kg.has(e))return;const t=setTimeout(()=>{Kg.delete(e),qd({type:"REMOVE_TOAST",toastId:e})},wI);Kg.set(e,t)},_I=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?X_(s):e.toasts.forEach(r=>{X_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},vf=[];let xf={toasts:[]};function qd(e){xf=_I(xf,e),vf.forEach(t=>{t(xf)})}function yf({...e}){const t=jI(),s=i=>qd({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>qd({type:"DISMISS_TOAST",toastId:t});return qd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:s}}function un(){const[e,t]=j.useState(xf);return j.useEffect(()=>(vf.push(t),()=>{const s=vf.indexOf(t);s>-1&&vf.splice(s,1)}),[e]),{...e,toast:yf,dismiss:s=>qd({type:"DISMISS_TOAST",toastId:s})}}function Me(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Q_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ym(...e){return t=>{let s=!1;const r=e.map(i=>{const a=Q_(i,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Q_(e[i],null)}}}}function ht(...e){return j.useCallback(Ym(...e),e)}function NI(e,t){const s=j.createContext(t),r=a=>{const{children:o,...c}=a,d=j.useMemo(()=>c,Object.values(c));return n.jsx(s.Provider,{value:d,children:o})};r.displayName=e+"Provider";function i(a){const o=j.useContext(s);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function ls(e,t=[]){let s=[];function r(a,o){const c=j.createContext(o),d=s.length;s=[...s,o];const h=m=>{var x;const{scope:u,children:p,...y}=m,v=((x=u==null?void 0:u[e])==null?void 0:x[d])||c,w=j.useMemo(()=>y,Object.values(y));return n.jsx(v.Provider,{value:w,children:p})};h.displayName=a+"Provider";function f(m,u){var v;const p=((v=u==null?void 0:u[e])==null?void 0:v[d])||c,y=j.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=s.map(o=>j.createContext(o));return function(c){const d=(c==null?void 0:c[e])||a;return j.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return i.scopeName=e,[r,SI(i,...t)]}function SI(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((c,{useScope:d,scopeName:h})=>{const m=d(a)[`__scope${h}`];return{...c,...m}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return s.scopeName=t.scopeName,s}function qo(e){const t=CI(e),s=j.forwardRef((r,i)=>{const{children:a,...o}=r,c=j.Children.toArray(a),d=c.find(PI);if(d){const h=d.props.children,f=c.map(m=>m===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:m);return n.jsx(t,{...o,ref:i,children:j.isValidElement(h)?j.cloneElement(h,void 0,f):null})}return n.jsx(t,{...o,ref:i,children:a})});return s.displayName=`${e}.Slot`,s}var kI=qo("Slot");function CI(e){const t=j.forwardRef((s,r)=>{const{children:i,...a}=s;if(j.isValidElement(i)){const o=AI(i),c=TI(a,i.props);return i.type!==j.Fragment&&(c.ref=r?Ym(r,o):o),j.cloneElement(i,c)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zC=Symbol("radix.slottable");function EI(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=zC,t}function PI(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zC}function TI(e,t){const s={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?s[r]=(...c)=>{const d=a(...c);return i(...c),d}:i&&(s[r]=i):r==="style"?s[r]={...i,...a}:r==="className"&&(s[r]=[i,a].filter(Boolean).join(" "))}return{...e,...s}}function AI(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Xm(e){const t=e+"CollectionProvider",[s,r]=ls(t),[i,a]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:x}=v,b=Ne.useRef(null),_=Ne.useRef(new Map).current;return n.jsx(i,{scope:w,itemMap:_,collectionRef:b,children:x})};o.displayName=t;const c=e+"CollectionSlot",d=qo(c),h=Ne.forwardRef((v,w)=>{const{scope:x,children:b}=v,_=a(c,x),N=ht(w,_.collectionRef);return n.jsx(d,{ref:N,children:b})});h.displayName=c;const f=e+"CollectionItemSlot",m="data-radix-collection-item",u=qo(f),p=Ne.forwardRef((v,w)=>{const{scope:x,children:b,..._}=v,N=Ne.useRef(null),C=ht(w,N),I=a(f,x);return Ne.useEffect(()=>(I.itemMap.set(N,{ref:N,..._}),()=>void I.itemMap.delete(N))),n.jsx(u,{[m]:"",ref:C,children:b})});p.displayName=f;function y(v){const w=a(e+"CollectionConsumer",v);return Ne.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((I,k)=>_.indexOf(I.ref.current)-_.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:h,ItemSlot:p},y,r]}var OI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=OI.reduce((e,t)=>{const s=qo(`Primitive.${t}`),r=j.forwardRef((i,a)=>{const{asChild:o,...c}=i,d=o?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function K0(e,t){e&&eo.flushSync(()=>e.dispatchEvent(t))}function gn(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function RI(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var LI="DismissableLayer",kx="dismissableLayer.update",MI="dismissableLayer.pointerDownOutside",II="dismissableLayer.focusOutside",J_,BC=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Oc=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:c,...d}=e,h=j.useContext(BC),[f,m]=j.useState(null),u=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),y=ht(t,k=>m(k)),v=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(w),b=f?v.indexOf(f):-1,_=h.layersWithOutsidePointerEventsDisabled.size>0,N=b>=x,C=FI(k=>{const P=k.target,R=[...h.branches].some(E=>E.contains(P));!N||R||(i==null||i(k),o==null||o(k),k.defaultPrevented||c==null||c())},u),I=$I(k=>{const P=k.target;[...h.branches].some(E=>E.contains(P))||(a==null||a(k),o==null||o(k),k.defaultPrevented||c==null||c())},u);return RI(k=>{b===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},u),j.useEffect(()=>{if(f)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(J_=u.body.style.pointerEvents,u.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),eN(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(u.body.style.pointerEvents=J_)}},[f,u,s,h]),j.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),eN())},[f,h]),j.useEffect(()=>{const k=()=>p({});return document.addEventListener(kx,k),()=>document.removeEventListener(kx,k)},[]),n.jsx(Xe.div,{...d,ref:y,style:{pointerEvents:_?N?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,I.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,C.onPointerDownCapture)})});Oc.displayName=LI;var DI="DismissableLayerBranch",VC=j.forwardRef((e,t)=>{const s=j.useContext(BC),r=j.useRef(null),i=ht(t,r);return j.useEffect(()=>{const a=r.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(Xe.div,{...e,ref:i})});VC.displayName=DI;function FI(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){UC(MI,s,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=d,t.addEventListener("click",i.current,{once:!0})):d()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function $I(e,t=globalThis==null?void 0:globalThis.document){const s=gn(e),r=j.useRef(!1);return j.useEffect(()=>{const i=a=>{a.target&&!r.current&&UC(II,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eN(){const e=new CustomEvent(kx);document.dispatchEvent(e)}function UC(e,t,s,{discrete:r}){const i=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?K0(i,a):i.dispatchEvent(a)}var zI=Oc,BI=VC,Cn=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},VI="Portal",Wu=j.forwardRef((e,t)=>{var c;const{container:s,...r}=e,[i,a]=j.useState(!1);Cn(()=>a(!0),[]);const o=s||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return o?FC.createPortal(n.jsx(Xe.div,{...r,ref:t}),o):null});Wu.displayName=VI;function UI(e,t){return j.useReducer((s,r)=>t[s][r]??s,e)}var Xn=e=>{const{present:t,children:s}=e,r=qI(t),i=typeof s=="function"?s({present:r.isPresent}):j.Children.only(s),a=ht(r.ref,HI(i));return typeof s=="function"||r.isPresent?j.cloneElement(i,{ref:a}):null};Xn.displayName="Presence";function qI(e){const[t,s]=j.useState(),r=j.useRef(null),i=j.useRef(e),a=j.useRef("none"),o=e?"mounted":"unmounted",[c,d]=UI(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=qh(r.current);a.current=c==="mounted"?h:"none"},[c]),Cn(()=>{const h=r.current,f=i.current;if(f!==e){const u=a.current,p=qh(h);e?d("MOUNT"):p==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(f&&u!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,d]),Cn(()=>{if(t){let h;const f=t.ownerDocument.defaultView??window,m=p=>{const v=qh(r.current).includes(p.animationName);if(p.target===t&&v&&(d("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",h=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},u=p=>{p.target===t&&(a.current=qh(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(h),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:j.useCallback(h=>{r.current=h?getComputedStyle(h):null,s(h)},[])}}function qh(e){return(e==null?void 0:e.animationName)||"none"}function HI(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var WI=r0[" useInsertionEffect ".trim().toString()]||Cn;function Fr({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[i,a,o]=ZI({defaultProp:t,onChange:s}),c=e!==void 0,d=c?e:i;{const f=j.useRef(e!==void 0);j.useEffect(()=>{const m=f.current;m!==c&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,r])}const h=j.useCallback(f=>{var m;if(c){const u=GI(f)?f(e):f;u!==e&&((m=o.current)==null||m.call(o,u))}else a(f)},[c,e,a,o]);return[d,h]}function ZI({defaultProp:e,onChange:t}){const[s,r]=j.useState(e),i=j.useRef(s),a=j.useRef(t);return WI(()=>{a.current=t},[t]),j.useEffect(()=>{var o;i.current!==s&&((o=a.current)==null||o.call(a,s),i.current=s)},[s,i]),[s,r,a]}function GI(e){return typeof e=="function"}var qC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KI="VisuallyHidden",Qm=j.forwardRef((e,t)=>n.jsx(Xe.span,{...e,ref:t,style:{...qC,...e.style}}));Qm.displayName=KI;var YI=Qm,Y0="ToastProvider",[X0,XI,QI]=Xm("Toast"),[HC,pse]=ls("Toast",[QI]),[JI,Jm]=HC(Y0),WC=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[c,d]=j.useState(null),[h,f]=j.useState(0),m=j.useRef(!1),u=j.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Y0}\`. Expected non-empty \`string\`.`),n.jsx(X0.Provider,{scope:t,children:n.jsx(JI,{scope:t,label:s,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:j.useCallback(()=>f(p=>p+1),[]),onToastRemove:j.useCallback(()=>f(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:u,children:o})})};WC.displayName=Y0;var ZC="ToastViewport",eD=["F8"],Cx="toast.viewportPause",Ex="toast.viewportResume",GC=j.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=eD,label:i="Notifications ({hotkey})",...a}=e,o=Jm(ZC,s),c=XI(s),d=j.useRef(null),h=j.useRef(null),f=j.useRef(null),m=j.useRef(null),u=ht(t,m,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;j.useEffect(()=>{const w=x=>{var _;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((_=m.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),j.useEffect(()=>{const w=d.current,x=m.current;if(y&&w&&x){const b=()=>{if(!o.isClosePausedRef.current){const I=new CustomEvent(Cx);x.dispatchEvent(I),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const I=new CustomEvent(Ex);x.dispatchEvent(I),o.isClosePausedRef.current=!1}},N=I=>{!w.contains(I.relatedTarget)&&_()},C=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",b),w.addEventListener("focusout",N),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",C),window.addEventListener("blur",b),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",b),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const v=j.useCallback(({tabbingDirection:w})=>{const b=c().map(_=>{const N=_.ref.current,C=[N,...fD(N)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?b.reverse():b).flat()},[c]);return j.useEffect(()=>{const w=m.current;if(w){const x=b=>{var C,I,k;const _=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!_){const P=document.activeElement,R=b.shiftKey;if(b.target===w&&R){(C=h.current)==null||C.focus();return}const A=v({tabbingDirection:R?"backwards":"forwards"}),$=A.findIndex(O=>O===P);Yg(A.slice($+1))?b.preventDefault():R?(I=h.current)==null||I.focus():(k=f.current)==null||k.focus()}};return w.addEventListener("keydown",x),()=>w.removeEventListener("keydown",x)}},[c,v]),n.jsxs(BI,{ref:d,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(Px,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});Yg(w)}}),n.jsx(X0.Slot,{scope:s,children:n.jsx(Xe.ol,{tabIndex:-1,...a,ref:u})}),y&&n.jsx(Px,{ref:f,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});Yg(w)}})]})});GC.displayName=ZC;var KC="ToastFocusProxy",Px=j.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...i}=e,a=Jm(KC,s);return n.jsx(Qm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var h;const c=o.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&r()}})});Px.displayName=KC;var Zu="Toast",tD="toast.swipeStart",nD="toast.swipeMove",sD="toast.swipeCancel",rD="toast.swipeEnd",YC=j.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[c,d]=Fr({prop:r,defaultProp:i??!0,onChange:a,caller:Zu});return n.jsx(Xn,{present:s||c,children:n.jsx(oD,{open:c,...o,ref:t,onClose:()=>d(!1),onPause:gn(e.onPause),onResume:gn(e.onResume),onSwipeStart:Me(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Me(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,h=>{const{x:f,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});YC.displayName=Zu;var[iD,aD]=HC(Zu,{onClose(){}}),oD=j.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:u,onSwipeEnd:p,...y}=e,v=Jm(Zu,s),[w,x]=j.useState(null),b=ht(t,O=>x(O)),_=j.useRef(null),N=j.useRef(null),C=i||v.duration,I=j.useRef(0),k=j.useRef(C),P=j.useRef(0),{onToastAdd:R,onToastRemove:E}=v,T=gn(()=>{var F;(w==null?void 0:w.contains(document.activeElement))&&((F=v.viewport)==null||F.focus()),o()}),A=j.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),I.current=new Date().getTime(),P.current=window.setTimeout(T,O))},[T]);j.useEffect(()=>{const O=v.viewport;if(O){const F=()=>{A(k.current),h==null||h()},G=()=>{const Y=new Date().getTime()-I.current;k.current=k.current-Y,window.clearTimeout(P.current),d==null||d()};return O.addEventListener(Cx,G),O.addEventListener(Ex,F),()=>{O.removeEventListener(Cx,G),O.removeEventListener(Ex,F)}}},[v.viewport,C,d,h,A]),j.useEffect(()=>{a&&!v.isClosePausedRef.current&&A(C)},[a,C,v.isClosePausedRef,A]),j.useEffect(()=>(R(),()=>E()),[R,E]);const $=j.useMemo(()=>w?sE(w):null,[w]);return v.viewport?n.jsxs(n.Fragment,{children:[$&&n.jsx(lD,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),n.jsx(iD,{scope:s,onClose:T,children:eo.createPortal(n.jsx(X0.ItemSlot,{scope:s,children:n.jsx(zI,{asChild:!0,onEscapeKeyDown:Me(c,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,O=>{O.key==="Escape"&&(c==null||c(O.nativeEvent),O.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:Me(e.onPointerDown,O=>{O.button===0&&(_.current={x:O.clientX,y:O.clientY})}),onPointerMove:Me(e.onPointerMove,O=>{if(!_.current)return;const F=O.clientX-_.current.x,G=O.clientY-_.current.y,Y=!!N.current,K=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,B=K?U(0,F):0,M=K?0:U(0,G),z=O.pointerType==="touch"?10:2,Z={x:B,y:M},W={originalEvent:O,delta:Z};Y?(N.current=Z,Hh(nD,m,W,{discrete:!1})):tN(Z,v.swipeDirection,z)?(N.current=Z,Hh(tD,f,W,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(F)>z||Math.abs(G)>z)&&(_.current=null)}),onPointerUp:Me(e.onPointerUp,O=>{const F=N.current,G=O.target;if(G.hasPointerCapture(O.pointerId)&&G.releasePointerCapture(O.pointerId),N.current=null,_.current=null,F){const Y=O.currentTarget,K={originalEvent:O,delta:F};tN(F,v.swipeDirection,v.swipeThreshold)?Hh(rD,p,K,{discrete:!0}):Hh(sD,u,K,{discrete:!0}),Y.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),lD=e=>{const{__scopeToast:t,children:s,...r}=e,i=Jm(Zu,t),[a,o]=j.useState(!1),[c,d]=j.useState(!1);return uD(()=>o(!0)),j.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:n.jsx(Wu,{asChild:!0,children:n.jsx(Qm,{...r,children:a&&n.jsxs(n.Fragment,{children:[i.label," ",s]})})})},cD="ToastTitle",XC=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Xe.div,{...r,ref:t})});XC.displayName=cD;var dD="ToastDescription",QC=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(Xe.div,{...r,ref:t})});QC.displayName=dD;var JC="ToastAction",eE=j.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(nE,{altText:s,asChild:!0,children:n.jsx(Q0,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${JC}\`. Expected non-empty \`string\`.`),null)});eE.displayName=JC;var tE="ToastClose",Q0=j.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,i=aD(tE,s);return n.jsx(nE,{asChild:!0,children:n.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,i.onClose)})})});Q0.displayName=tE;var nE=j.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...i}=e;return n.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function sE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),hD(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...sE(r))}}),t}function Hh(e,t,s,{discrete:r}){const i=s.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?K0(i,a):i.dispatchEvent(a)}var tN=(e,t,s=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>s:!a&&i>s};function uD(e=()=>{}){const t=gn(e);Cn(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function hD(e){return e.nodeType===e.ELEMENT_NODE}function fD(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Yg(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var mD=WC,rE=GC,iE=YC,aE=XC,oE=QC,lE=eE,cE=Q0;function dE(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=dE(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function uE(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=dE(e))&&(r&&(r+=" "),r+=t);return r}const nN=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,sN=uE,Gu=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return sN(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(h=>{const f=s==null?void 0:s[h],m=a==null?void 0:a[h];if(f===null)return null;const u=nN(f)||nN(m);return i[h][u]}),c=s&&Object.entries(s).reduce((h,f)=>{let[m,u]=f;return u===void 0||(h[m]=u),h},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,f)=>{let{class:m,className:u,...p}=f;return Object.entries(p).every(y=>{let[v,w]=y;return Array.isArray(w)?w.includes({...a,...c}[v]):{...a,...c}[v]===w})?[...h,m,u]:h},[]);return sN(e,o,d,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hE=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>j.createElement("svg",{ref:d,...gD,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:hE("lucide",i),...c},[...o.map(([h,f])=>j.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const s=j.forwardRef(({className:r,...i},a)=>j.createElement(vD,{ref:a,iconNode:t,className:hE(`lucide-${pD(e)}`,r),...i}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=$e("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=$e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=$e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=$e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=$e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=$e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=$e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=$e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=$e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=$e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=$e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=$e("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=$e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=$e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=$e("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=$e("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=$e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=$e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=$e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=$e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=$e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=$e("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=$e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=$e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=$e("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=$e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=$e("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=$e("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=$e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=$e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=$e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=$e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=$e("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=$e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=$e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=$e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=$e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=$e("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=$e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=$e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=$e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=$e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ib="-",MD=e=>{const t=DD(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const c=o.split(ib);return c[0]===""&&c.length!==1&&c.shift(),_E(c,t)||ID(o)},getConflictingClassGroupIds:(o,c)=>{const d=s[o]||[];return c&&r[o]?[...d,...r[o]]:d}}},_E=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),i=r?_E(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(ib);return(o=t.validators.find(({validator:c})=>c(a)))==null?void 0:o.classGroupId},aN=/^\[(.+)\]$/,ID=e=>{if(aN.test(e)){const t=aN.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},DD=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return $D(Object.entries(e.classGroups),s).forEach(([a,o])=>{Ax(o,r,a,t)}),r},Ax=(e,t,s,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:oN(t,i);a.classGroupId=s;return}if(typeof i=="function"){if(FD(i)){Ax(i(r),t,s,r);return}t.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([a,o])=>{Ax(o,oN(t,a),s,r)})})},oN=(e,t)=>{let s=e;return t.split(ib).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},FD=e=>e.isThemeGetter,$D=(e,t)=>t?e.map(([s,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[t+o,c])):a);return[s,i]}):e,zD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const i=(a,o)=>{s.set(a,o),t++,t>e&&(t=0,r=s,s=new Map)};return{get(a){let o=s.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){s.has(a)?s.set(a,o):i(a,o)}}},NE="!",BD=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,i=t[0],a=t.length,o=c=>{const d=[];let h=0,f=0,m;for(let w=0;w<c.length;w++){let x=c[w];if(h===0){if(x===i&&(r||c.slice(w,w+a)===t)){d.push(c.slice(f,w)),f=w+a;continue}if(x==="/"){m=w;continue}}x==="["?h++:x==="]"&&h--}const u=d.length===0?c:c.substring(f),p=u.startsWith(NE),y=p?u.substring(1):u,v=m&&m>f?m-f:void 0;return{modifiers:d,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:v}};return s?c=>s({className:c,parseClassName:o}):o},VD=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},UD=e=>({cache:zD(e.cacheSize),parseClassName:BD(e),...MD(e)}),qD=/\s+/,HD=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(qD);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{modifiers:f,hasImportantModifier:m,baseClassName:u,maybePostfixModifierPosition:p}=s(h);let y=!!p,v=r(y?u.substring(0,p):u);if(!v){if(!y){c=h+(c.length>0?" "+c:c);continue}if(v=r(u),!v){c=h+(c.length>0?" "+c:c);continue}y=!1}const w=VD(f).join(":"),x=m?w+NE:w,b=x+v;if(a.includes(b))continue;a.push(b);const _=i(v,y);for(let N=0;N<_.length;++N){const C=_[N];a.push(x+C)}c=h+(c.length>0?" "+c:c)}return c};function WD(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=SE(t))&&(r&&(r+=" "),r+=s);return r}const SE=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=SE(e[r]))&&(s&&(s+=" "),s+=t);return s};function ZD(e,...t){let s,r,i,a=o;function o(d){const h=t.reduce((f,m)=>m(f),e());return s=UD(h),r=s.cache.get,i=s.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const f=HD(d,s);return i(d,f),f}return function(){return a(WD.apply(null,arguments))}}const Qt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},kE=/^\[(?:([a-z-]+):)?(.+)\]$/i,GD=/^\d+\/\d+$/,KD=new Set(["px","full","screen"]),YD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=e=>Wl(e)||KD.has(e)||GD.test(e),da=e=>Lc(e,"length",lF),Wl=e=>!!e&&!Number.isNaN(Number(e)),Xg=e=>Lc(e,"number",Wl),vd=e=>!!e&&Number.isInteger(Number(e)),tF=e=>e.endsWith("%")&&Wl(e.slice(0,-1)),gt=e=>kE.test(e),ua=e=>YD.test(e),nF=new Set(["length","size","percentage"]),sF=e=>Lc(e,nF,CE),rF=e=>Lc(e,"position",CE),iF=new Set(["image","url"]),aF=e=>Lc(e,iF,dF),oF=e=>Lc(e,"",cF),xd=()=>!0,Lc=(e,t,s)=>{const r=kE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},lF=e=>XD.test(e)&&!QD.test(e),CE=()=>!1,cF=e=>JD.test(e),dF=e=>eF.test(e),uF=()=>{const e=Qt("colors"),t=Qt("spacing"),s=Qt("blur"),r=Qt("brightness"),i=Qt("borderColor"),a=Qt("borderRadius"),o=Qt("borderSpacing"),c=Qt("borderWidth"),d=Qt("contrast"),h=Qt("grayscale"),f=Qt("hueRotate"),m=Qt("invert"),u=Qt("gap"),p=Qt("gradientColorStops"),y=Qt("gradientColorStopPositions"),v=Qt("inset"),w=Qt("margin"),x=Qt("opacity"),b=Qt("padding"),_=Qt("saturate"),N=Qt("scale"),C=Qt("sepia"),I=Qt("skew"),k=Qt("space"),P=Qt("translate"),R=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",gt,t],A=()=>[gt,t],$=()=>["",Ai,da],O=()=>["auto",Wl,gt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",gt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Wl,gt];return{cacheSize:500,separator:":",theme:{colors:[xd],spacing:[Ai,da],blur:["none","",ua,gt],brightness:M(),borderColor:[e],borderRadius:["none","","full",ua,gt],borderSpacing:A(),borderWidth:$(),contrast:M(),grayscale:U(),hueRotate:M(),invert:U(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[tF,da],inset:T(),margin:T(),opacity:M(),padding:A(),saturate:M(),scale:M(),sepia:U(),skew:M(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",gt]}],container:["container"],columns:[{columns:[ua]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),gt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vd,gt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",gt]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",vd,gt]}],"grid-cols":[{"grid-cols":[xd]}],"col-start-end":[{col:["auto",{span:["full",vd,gt]},gt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[xd]}],"row-start-end":[{row:["auto",{span:[vd,gt]},gt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",gt]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",gt,t]}],"min-w":[{"min-w":[gt,t,"min","max","fit"]}],"max-w":[{"max-w":[gt,t,"none","full","min","max","fit","prose",{screen:[ua]},ua]}],h:[{h:[gt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[gt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[gt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ua,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xg]}],"font-family":[{font:[xd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",gt]}],"line-clamp":[{"line-clamp":["none",Wl,Xg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ai,gt]}],"list-image":[{"list-image":["none",gt]}],"list-style-type":[{list:["none","disc","decimal",gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ai,da]}],"underline-offset":[{"underline-offset":["auto",Ai,gt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),rF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ai,gt]}],"outline-w":[{outline:[Ai,da]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Ai,da]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ua,oF]}],"shadow-color":[{shadow:[xd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ua,gt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",gt]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",gt]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[vd,gt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",gt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",gt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",gt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ai,da,Xg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hF=ZD(uF);function Ge(...e){return hF(uE(e))}const fF=mD,EE=j.forwardRef(({className:e,...t},s)=>n.jsx(rE,{ref:s,className:Ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));EE.displayName=rE.displayName;const mF=Gu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PE=j.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(iE,{ref:r,className:Ge(mF({variant:t}),e),...s}));PE.displayName=iE.displayName;const pF=j.forwardRef(({className:e,...t},s)=>n.jsx(lE,{ref:s,className:Ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pF.displayName=lE.displayName;const TE=j.forwardRef(({className:e,...t},s)=>n.jsx(cE,{ref:s,className:Ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(is,{className:"h-4 w-4"})}));TE.displayName=cE.displayName;const AE=j.forwardRef(({className:e,...t},s)=>n.jsx(aE,{ref:s,className:Ge("text-sm font-semibold",e),...t}));AE.displayName=aE.displayName;const OE=j.forwardRef(({className:e,...t},s)=>n.jsx(oE,{ref:s,className:Ge("text-sm opacity-90",e),...t}));OE.displayName=oE.displayName;function gF(){const{toasts:e}=un();return n.jsxs(fF,{children:[e.map(function({id:t,title:s,description:r,action:i,...a}){return n.jsxs(PE,{...a,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(AE,{children:s}),r&&n.jsx(OE,{children:r})]}),i,n.jsx(TE,{})]},t)}),n.jsx(EE,{})]})}var lN=["light","dark"],vF="(prefers-color-scheme: dark)",xF=j.createContext(void 0),yF={setTheme:e=>{},themes:[]},bF=()=>{var e;return(e=j.useContext(xF))!=null?e:yF};j.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,attrs:c,nonce:d})=>{let h=a==="system",f=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,m=i?lN.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(y,v=!1,w=!0)=>{let x=o?o[y]:y,b=v?y+"|| ''":`'${x}'`,_="";return i&&w&&!v&&lN.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),s==="class"?v||x?_+=`c.add(${b})`:_+="null":x&&(_+=`d[s](n,${b})`),_},p=e?`!function(){${f}${u(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${h})){var t='${vF}',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}${h?"":"else{"+u(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${u(o?"x[e]":"e",!0)}}else{${u(a,!1,!1)};}${m}}catch(t){}}();`;return j.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:p}})});var wF=e=>{switch(e){case"success":return NF;case"info":return kF;case"warning":return SF;case"error":return CF;default:return null}},jF=Array(12).fill(0),_F=({visible:e,className:t})=>Ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ne.createElement("div",{className:"sonner-spinner"},jF.map((s,r)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),NF=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),SF=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kF=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),CF=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EF=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),PF=()=>{let[e,t]=Ne.useState(document.hidden);return Ne.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Ox=1,TF=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,i=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ox++,a=this.toasts.find(c=>c.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:s}),{...c,...e,id:i,dismissible:o,title:s}):c):this.addToast({title:s,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=s!==void 0,a,o=r.then(async d=>{if(a=["resolve",d],Ne.isValidElement(d))i=!1,this.create({id:s,type:"default",message:d});else if(OF(d)&&!d.ok){i=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:s,type:"error",message:h,description:f})}else if(t.success!==void 0){i=!1;let h=typeof t.success=="function"?await t.success(d):t.success,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"success",message:h,description:f})}}).catch(async d=>{if(a=["reject",d],t.error!==void 0){i=!1;let h=typeof t.error=="function"?await t.error(d):t.error,f=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(s),s=void 0),(d=t.finally)==null||d.call(t)}),c=()=>new Promise((d,h)=>o.then(()=>a[0]==="reject"?h(a[1]):d(a[1])).catch(h));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Ox++;return this.create({jsx:e(s),id:s,...t}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Es=new TF,AF=(e,t)=>{let s=(t==null?void 0:t.id)||Ox++;return Es.addToast({title:e,...t,id:s}),s},OF=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",RF=AF,LF=()=>Es.toasts,MF=()=>Es.getActiveToasts(),Hn=Object.assign(RF,{success:Es.success,info:Es.info,warning:Es.warning,error:Es.error,custom:Es.custom,message:Es.message,promise:Es.promise,dismiss:Es.dismiss,loading:Es.loading},{getHistory:LF,getToasts:MF});function IF(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}IF(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wh(e){return e.label!==void 0}var DF=3,FF="32px",$F="16px",cN=4e3,zF=356,BF=14,VF=20,UF=200;function yr(...e){return e.filter(Boolean).join(" ")}function qF(e){let[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}var HF=e=>{var t,s,r,i,a,o,c,d,h,f,m;let{invert:u,toast:p,unstyled:y,interacting:v,setHeights:w,visibleToasts:x,heights:b,index:_,toasts:N,expanded:C,removeToast:I,defaultRichColors:k,closeButton:P,style:R,cancelButtonStyle:E,actionButtonStyle:T,className:A="",descriptionClassName:$="",duration:O,position:F,gap:G,loadingIcon:Y,expandByDefault:K,classNames:U,icons:B,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:z}=e,[Z,W]=Ne.useState(null),[X,V]=Ne.useState(null),[H,se]=Ne.useState(!1),[Q,ie]=Ne.useState(!1),[fe,te]=Ne.useState(!1),[ve,Ce]=Ne.useState(!1),[he,je]=Ne.useState(!1),[_e,de]=Ne.useState(0),[me,ee]=Ne.useState(0),ae=Ne.useRef(p.duration||O||cN),oe=Ne.useRef(null),be=Ne.useRef(null),we=_===0,xe=_+1<=x,re=p.type,Se=p.dismissible!==!1,Te=p.className||"",nt=p.descriptionClassName||"",ot=Ne.useMemo(()=>b.findIndex(Ve=>Ve.toastId===p.id)||0,[b,p.id]),$t=Ne.useMemo(()=>{var Ve;return(Ve=p.closeButton)!=null?Ve:P},[p.closeButton,P]),le=Ne.useMemo(()=>p.duration||O||cN,[p.duration,O]),He=Ne.useRef(0),Ze=Ne.useRef(0),dt=Ne.useRef(0),ze=Ne.useRef(null),[Ie,It]=F.split("-"),Ot=Ne.useMemo(()=>b.reduce((Ve,pt,kt)=>kt>=ot?Ve:Ve+pt.height,0),[b,ot]),xn=PF(),En=p.invert||u,cs=re==="loading";Ze.current=Ne.useMemo(()=>ot*G+Ot,[ot,Ot]),Ne.useEffect(()=>{ae.current=le},[le]),Ne.useEffect(()=>{se(!0)},[]),Ne.useEffect(()=>{let Ve=be.current;if(Ve){let pt=Ve.getBoundingClientRect().height;return ee(pt),w(kt=>[{toastId:p.id,height:pt,position:p.position},...kt]),()=>w(kt=>kt.filter(yn=>yn.toastId!==p.id))}},[w,p.id]),Ne.useLayoutEffect(()=>{if(!H)return;let Ve=be.current,pt=Ve.style.height;Ve.style.height="auto";let kt=Ve.getBoundingClientRect().height;Ve.style.height=pt,ee(kt),w(yn=>yn.find(Xt=>Xt.toastId===p.id)?yn.map(Xt=>Xt.toastId===p.id?{...Xt,height:kt}:Xt):[{toastId:p.id,height:kt,position:p.position},...yn])},[H,p.title,p.description,w,p.id]);let Qn=Ne.useCallback(()=>{ie(!0),de(Ze.current),w(Ve=>Ve.filter(pt=>pt.toastId!==p.id)),setTimeout(()=>{I(p)},UF)},[p,I,w,Ze]);Ne.useEffect(()=>{if(p.promise&&re==="loading"||p.duration===1/0||p.type==="loading")return;let Ve;return C||v||z&&xn?(()=>{if(dt.current<He.current){let pt=new Date().getTime()-He.current;ae.current=ae.current-pt}dt.current=new Date().getTime()})():ae.current!==1/0&&(He.current=new Date().getTime(),Ve=setTimeout(()=>{var pt;(pt=p.onAutoClose)==null||pt.call(p,p),Qn()},ae.current)),()=>clearTimeout(Ve)},[C,v,p,re,z,xn,Qn]),Ne.useEffect(()=>{p.delete&&Qn()},[Qn,p.delete]);function aa(){var Ve,pt,kt;return B!=null&&B.loading?Ne.createElement("div",{className:yr(U==null?void 0:U.loader,(Ve=p==null?void 0:p.classNames)==null?void 0:Ve.loader,"sonner-loader"),"data-visible":re==="loading"},B.loading):Y?Ne.createElement("div",{className:yr(U==null?void 0:U.loader,(pt=p==null?void 0:p.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":re==="loading"},Y):Ne.createElement(_F,{className:yr(U==null?void 0:U.loader,(kt=p==null?void 0:p.classNames)==null?void 0:kt.loader),visible:re==="loading"})}return Ne.createElement("li",{tabIndex:0,ref:be,className:yr(A,Te,U==null?void 0:U.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[re],(s=p==null?void 0:p.classNames)==null?void 0:s[re]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":H,"data-promise":!!p.promise,"data-swiped":he,"data-removed":Q,"data-visible":xe,"data-y-position":Ie,"data-x-position":It,"data-index":_,"data-front":we,"data-swiping":fe,"data-dismissible":Se,"data-type":re,"data-invert":En,"data-swipe-out":ve,"data-swipe-direction":X,"data-expanded":!!(C||K&&H),style:{"--index":_,"--toasts-before":_,"--z-index":N.length-_,"--offset":`${Q?_e:Ze.current}px`,"--initial-height":K?"auto":`${me}px`,...R,...p.style},onDragEnd:()=>{te(!1),W(null),ze.current=null},onPointerDown:Ve=>{cs||!Se||(oe.current=new Date,de(Ze.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(te(!0),ze.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,pt,kt,yn;if(ve||!Se)return;ze.current=null;let Xt=Number(((Ve=be.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qr=Number(((pt=be.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ki=new Date().getTime()-((kt=oe.current)==null?void 0:kt.getTime()),Fs=Z==="x"?Xt:qr,Hr=Math.abs(Fs)/ki;if(Math.abs(Fs)>=VF||Hr>.11){de(Ze.current),(yn=p.onDismiss)==null||yn.call(p,p),V(Z==="x"?Xt>0?"right":"left":qr>0?"down":"up"),Qn(),Ce(!0),je(!1);return}te(!1),W(null)},onPointerMove:Ve=>{var pt,kt,yn,Xt;if(!ze.current||!Se||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let qr=Ve.clientY-ze.current.y,ki=Ve.clientX-ze.current.x,Fs=(kt=e.swipeDirections)!=null?kt:qF(F);!Z&&(Math.abs(ki)>1||Math.abs(qr)>1)&&W(Math.abs(ki)>Math.abs(qr)?"x":"y");let Hr={x:0,y:0};Z==="y"?(Fs.includes("top")||Fs.includes("bottom"))&&(Fs.includes("top")&&qr<0||Fs.includes("bottom")&&qr>0)&&(Hr.y=qr):Z==="x"&&(Fs.includes("left")||Fs.includes("right"))&&(Fs.includes("left")&&ki<0||Fs.includes("right")&&ki>0)&&(Hr.x=ki),(Math.abs(Hr.x)>0||Math.abs(Hr.y)>0)&&je(!0),(yn=be.current)==null||yn.style.setProperty("--swipe-amount-x",`${Hr.x}px`),(Xt=be.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Hr.y}px`)}},$t&&!p.jsx?Ne.createElement("button",{"aria-label":M,"data-disabled":cs,"data-close-button":!0,onClick:cs||!Se?()=>{}:()=>{var Ve;Qn(),(Ve=p.onDismiss)==null||Ve.call(p,p)},className:yr(U==null?void 0:U.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=B==null?void 0:B.close)!=null?a:EF):null,p.jsx||j.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:Ne.createElement(Ne.Fragment,null,re||p.icon||p.promise?Ne.createElement("div",{"data-icon":"",className:yr(U==null?void 0:U.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||aa():null,p.type!=="loading"?p.icon||(B==null?void 0:B[re])||wF(re):null):null,Ne.createElement("div",{"data-content":"",className:yr(U==null?void 0:U.content,(c=p==null?void 0:p.classNames)==null?void 0:c.content)},Ne.createElement("div",{"data-title":"",className:yr(U==null?void 0:U.title,(d=p==null?void 0:p.classNames)==null?void 0:d.title)},typeof p.title=="function"?p.title():p.title),p.description?Ne.createElement("div",{"data-description":"",className:yr($,nt,U==null?void 0:U.description,(h=p==null?void 0:p.classNames)==null?void 0:h.description)},typeof p.description=="function"?p.description():p.description):null),j.isValidElement(p.cancel)?p.cancel:p.cancel&&Wh(p.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||E,onClick:Ve=>{var pt,kt;Wh(p.cancel)&&Se&&((kt=(pt=p.cancel).onClick)==null||kt.call(pt,Ve),Qn())},className:yr(U==null?void 0:U.cancelButton,(f=p==null?void 0:p.classNames)==null?void 0:f.cancelButton)},p.cancel.label):null,j.isValidElement(p.action)?p.action:p.action&&Wh(p.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:Ve=>{var pt,kt;Wh(p.action)&&((kt=(pt=p.action).onClick)==null||kt.call(pt,Ve),!Ve.defaultPrevented&&Qn())},className:yr(U==null?void 0:U.actionButton,(m=p==null?void 0:p.classNames)==null?void 0:m.actionButton)},p.action.label):null))};function dN(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function WF(e,t){let s={};return[e,t].forEach((r,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",c=a?$F:FF;function d(h){["top","right","bottom","left"].forEach(f=>{s[`${o}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?s[`${o}-${h}`]=c:s[`${o}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),s}var ZF=j.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:c,offset:d,mobileOffset:h,theme:f="light",richColors:m,duration:u,style:p,visibleToasts:y=DF,toastOptions:v,dir:w=dN(),gap:x=BF,loadingIcon:b,icons:_,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:C}=e,[I,k]=Ne.useState([]),P=Ne.useMemo(()=>Array.from(new Set([r].concat(I.filter(z=>z.position).map(z=>z.position)))),[I,r]),[R,E]=Ne.useState([]),[T,A]=Ne.useState(!1),[$,O]=Ne.useState(!1),[F,G]=Ne.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Ne.useRef(null),K=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Ne.useRef(null),B=Ne.useRef(!1),M=Ne.useCallback(z=>{k(Z=>{var W;return(W=Z.find(X=>X.id===z.id))!=null&&W.delete||Es.dismiss(z.id),Z.filter(({id:X})=>X!==z.id)})},[]);return Ne.useEffect(()=>Es.subscribe(z=>{if(z.dismiss){k(Z=>Z.map(W=>W.id===z.id?{...W,delete:!0}:W));return}setTimeout(()=>{FC.flushSync(()=>{k(Z=>{let W=Z.findIndex(X=>X.id===z.id);return W!==-1?[...Z.slice(0,W),{...Z[W],...z},...Z.slice(W+1)]:[z,...Z]})})})}),[]),Ne.useEffect(()=>{if(f!=="system"){G(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;let z=window.matchMedia("(prefers-color-scheme: dark)");try{z.addEventListener("change",({matches:Z})=>{G(Z?"dark":"light")})}catch{z.addListener(({matches:W})=>{try{G(W?"dark":"light")}catch(X){console.error(X)}})}},[f]),Ne.useEffect(()=>{I.length<=1&&A(!1)},[I]),Ne.useEffect(()=>{let z=Z=>{var W,X;i.every(V=>Z[V]||Z.code===V)&&(A(!0),(W=Y.current)==null||W.focus()),Z.code==="Escape"&&(document.activeElement===Y.current||(X=Y.current)!=null&&X.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[i]),Ne.useEffect(()=>{if(Y.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,B.current=!1)}},[Y.current]),Ne.createElement("section",{ref:t,"aria-label":`${N} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((z,Z)=>{var W;let[X,V]=z.split("-");return I.length?Ne.createElement("ol",{key:z,dir:w==="auto"?dN():w,tabIndex:-1,ref:Y,className:c,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":X,"data-lifted":T&&I.length>1&&!a,"data-x-position":V,style:{"--front-toast-height":`${((W=R[0])==null?void 0:W.height)||0}px`,"--width":`${zF}px`,"--gap":`${x}px`,...p,...WF(d,h)},onBlur:H=>{B.current&&!H.currentTarget.contains(H.relatedTarget)&&(B.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||B.current||(B.current=!0,U.current=H.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{$||A(!1)},onDragEnd:()=>A(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},I.filter(H=>!H.position&&Z===0||H.position===z).map((H,se)=>{var Q,ie;return Ne.createElement(HF,{key:H.id,icons:_,index:se,toast:H,defaultRichColors:m,duration:(Q=v==null?void 0:v.duration)!=null?Q:u,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:s,visibleToasts:y,closeButton:(ie=v==null?void 0:v.closeButton)!=null?ie:o,interacting:$,position:z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:M,toasts:I.filter(fe=>fe.position==H.position),heights:R.filter(fe=>fe.position==H.position),setHeights:E,expandByDefault:a,gap:x,loadingIcon:b,expanded:T,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const GF=({...e})=>{const{theme:t="system"}=bF();return n.jsx(ZF,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var KF=r0[" useId ".trim().toString()]||(()=>{}),YF=0;function Ir(e){const[t,s]=j.useState(KF());return Cn(()=>{e||s(r=>r??String(YF++))},[e]),e||(t?`radix-${t}`:"")}const XF=["top","right","bottom","left"],qa=Math.min,Bs=Math.max,em=Math.round,Zh=Math.floor,ui=e=>({x:e,y:e}),QF={left:"right",right:"left",bottom:"top",top:"bottom"},JF={start:"end",end:"start"};function Rx(e,t,s){return Bs(e,qa(t,s))}function Yi(e,t){return typeof e=="function"?e(t):e}function Xi(e){return e.split("-")[0]}function Mc(e){return e.split("-")[1]}function ab(e){return e==="x"?"y":"x"}function ob(e){return e==="y"?"height":"width"}const e6=new Set(["top","bottom"]);function oi(e){return e6.has(Xi(e))?"y":"x"}function lb(e){return ab(oi(e))}function t6(e,t,s){s===void 0&&(s=!1);const r=Mc(e),i=lb(e),a=ob(i);let o=i==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=tm(o)),[o,tm(o)]}function n6(e){const t=tm(e);return[Lx(e),t,Lx(t)]}function Lx(e){return e.replace(/start|end/g,t=>JF[t])}const uN=["left","right"],hN=["right","left"],s6=["top","bottom"],r6=["bottom","top"];function i6(e,t,s){switch(e){case"top":case"bottom":return s?t?hN:uN:t?uN:hN;case"left":case"right":return t?s6:r6;default:return[]}}function a6(e,t,s,r){const i=Mc(e);let a=i6(Xi(e),s==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Lx)))),a}function tm(e){return e.replace(/left|right|bottom|top/g,t=>QF[t])}function o6(e){return{top:0,right:0,bottom:0,left:0,...e}}function RE(e){return typeof e!="number"?o6(e):{top:e,right:e,bottom:e,left:e}}function nm(e){const{x:t,y:s,width:r,height:i}=e;return{width:r,height:i,top:s,left:t,right:t+r,bottom:s+i,x:t,y:s}}function fN(e,t,s){let{reference:r,floating:i}=e;const a=oi(t),o=lb(t),c=ob(o),d=Xi(t),h=a==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,u=r[c]/2-i[c]/2;let p;switch(d){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-i.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Mc(t)){case"start":p[o]-=u*(s&&h?-1:1);break;case"end":p[o]+=u*(s&&h?-1:1);break}return p}const l6=async(e,t,s)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=s,c=a.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let h=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:m}=fN(h,r,d),u=r,p={},y=0;for(let v=0;v<c.length;v++){const{name:w,fn:x}=c[v],{x:b,y:_,data:N,reset:C}=await x({x:f,y:m,initialPlacement:r,placement:u,strategy:i,middlewareData:p,rects:h,platform:o,elements:{reference:e,floating:t}});f=b??f,m=_??m,p={...p,[w]:{...p[w],...N}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(u=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:f,y:m}=fN(h,u,d)),v=-1)}return{x:f,y:m,placement:u,strategy:i,middlewareData:p}};async function ju(e,t){var s;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:c,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:u=!1,padding:p=0}=Yi(t,e),y=RE(p),w=c[u?m==="floating"?"reference":"floating":m],x=nm(await a.getClippingRect({element:(s=await(a.isElement==null?void 0:a.isElement(w)))==null||s?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:f,strategy:d})),b=m==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),N=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},C=nm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:_,strategy:d}):b);return{top:(x.top-C.top+y.top)/N.y,bottom:(C.bottom-x.bottom+y.bottom)/N.y,left:(x.left-C.left+y.left)/N.x,right:(C.right-x.right+y.right)/N.x}}const c6=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:i,rects:a,platform:o,elements:c,middlewareData:d}=t,{element:h,padding:f=0}=Yi(e,t)||{};if(h==null)return{};const m=RE(f),u={x:s,y:r},p=lb(i),y=ob(p),v=await o.getDimensions(h),w=p==="y",x=w?"top":"left",b=w?"bottom":"right",_=w?"clientHeight":"clientWidth",N=a.reference[y]+a.reference[p]-u[p]-a.floating[y],C=u[p]-a.reference[p],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let k=I?I[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(I)))&&(k=c.floating[_]||a.floating[y]);const P=N/2-C/2,R=k/2-v[y]/2-1,E=qa(m[x],R),T=qa(m[b],R),A=E,$=k-v[y]-T,O=k/2-v[y]/2+P,F=Rx(A,O,$),G=!d.arrow&&Mc(i)!=null&&O!==F&&a.reference[y]/2-(O<A?E:T)-v[y]/2<0,Y=G?O<A?O-A:O-$:0;return{[p]:u[p]+Y,data:{[p]:F,centerOffset:O-F-Y,...G&&{alignmentOffset:Y}},reset:G}}}),d6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:c,platform:d,elements:h}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:u,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=Yi(e,t);if((s=a.arrow)!=null&&s.alignmentOffset)return{};const x=Xi(i),b=oi(c),_=Xi(c)===c,N=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=u||(_||!v?[tm(c)]:n6(c)),I=y!=="none";!u&&I&&C.push(...a6(c,v,y,N));const k=[c,...C],P=await ju(t,w),R=[];let E=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&R.push(P[x]),m){const O=t6(i,o,N);R.push(P[O[0]],P[O[1]])}if(E=[...E,{placement:i,overflows:R}],!R.every(O=>O<=0)){var T,A;const O=(((T=a.flip)==null?void 0:T.index)||0)+1,F=k[O];if(F&&(!(m==="alignment"?b!==oi(F):!1)||E.every(K=>K.overflows[0]>0&&oi(K.placement)===b)))return{data:{index:O,overflows:E},reset:{placement:F}};let G=(A=E.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:A.placement;if(!G)switch(p){case"bestFit":{var $;const Y=($=E.filter(K=>{if(I){const U=oi(K.placement);return U===b||U==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(U=>U>0).reduce((U,B)=>U+B,0)]).sort((K,U)=>K[1]-U[1])[0])==null?void 0:$[0];Y&&(G=Y);break}case"initialPlacement":G=c;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function mN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pN(e){return XF.some(t=>e[t]>=0)}const u6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...i}=Yi(e,t);switch(r){case"referenceHidden":{const a=await ju(t,{...i,elementContext:"reference"}),o=mN(a,s.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:pN(o)}}}case"escaped":{const a=await ju(t,{...i,altBoundary:!0}),o=mN(a,s.floating);return{data:{escapedOffsets:o,escaped:pN(o)}}}default:return{}}}}},LE=new Set(["left","top"]);async function h6(e,t){const{placement:s,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xi(s),c=Mc(s),d=oi(s)==="y",h=LE.has(o)?-1:1,f=a&&d?-1:1,m=Yi(t,e);let{mainAxis:u,crossAxis:p,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof y=="number"&&(p=c==="end"?y*-1:y),d?{x:p*f,y:u*h}:{x:u*h,y:p*f}}const f6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:i,y:a,placement:o,middlewareData:c}=t,d=await h6(t,e);return o===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:a+d.y,data:{...d,placement:o}}}}},m6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:c={fn:w=>{let{x,y:b}=w;return{x,y:b}}},...d}=Yi(e,t),h={x:s,y:r},f=await ju(t,d),m=oi(Xi(i)),u=ab(m);let p=h[u],y=h[m];if(a){const w=u==="y"?"top":"left",x=u==="y"?"bottom":"right",b=p+f[w],_=p-f[x];p=Rx(b,p,_)}if(o){const w=m==="y"?"top":"left",x=m==="y"?"bottom":"right",b=y+f[w],_=y-f[x];y=Rx(b,y,_)}const v=c.fn({...t,[u]:p,[m]:y});return{...v,data:{x:v.x-s,y:v.y-r,enabled:{[u]:a,[m]:o}}}}}},p6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Yi(e,t),f={x:s,y:r},m=oi(i),u=ab(m);let p=f[u],y=f[m];const v=Yi(c,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(d){const _=u==="y"?"height":"width",N=a.reference[u]-a.floating[_]+w.mainAxis,C=a.reference[u]+a.reference[_]-w.mainAxis;p<N?p=N:p>C&&(p=C)}if(h){var x,b;const _=u==="y"?"width":"height",N=LE.has(Xi(i)),C=a.reference[m]-a.floating[_]+(N&&((x=o.offset)==null?void 0:x[m])||0)+(N?0:w.crossAxis),I=a.reference[m]+a.reference[_]+(N?0:((b=o.offset)==null?void 0:b[m])||0)-(N?w.crossAxis:0);y<C?y=C:y>I&&(y=I)}return{[u]:p,[m]:y}}}},g6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:i,rects:a,platform:o,elements:c}=t,{apply:d=()=>{},...h}=Yi(e,t),f=await ju(t,h),m=Xi(i),u=Mc(i),p=oi(i)==="y",{width:y,height:v}=a.floating;let w,x;m==="top"||m==="bottom"?(w=m,x=u===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(x=m,w=u==="end"?"top":"bottom");const b=v-f.top-f.bottom,_=y-f.left-f.right,N=qa(v-f[w],b),C=qa(y-f[x],_),I=!t.middlewareData.shift;let k=N,P=C;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(P=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=b),I&&!u){const E=Bs(f.left,0),T=Bs(f.right,0),A=Bs(f.top,0),$=Bs(f.bottom,0);p?P=y-2*(E!==0||T!==0?E+T:Bs(f.left,f.right)):k=v-2*(A!==0||$!==0?A+$:Bs(f.top,f.bottom))}await d({...t,availableWidth:P,availableHeight:k});const R=await o.getDimensions(c.floating);return y!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function tp(){return typeof window<"u"}function Ic(e){return ME(e)?(e.nodeName||"").toLowerCase():"#document"}function Hs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _i(e){var t;return(t=(ME(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ME(e){return tp()?e instanceof Node||e instanceof Hs(e).Node:!1}function zr(e){return tp()?e instanceof Element||e instanceof Hs(e).Element:!1}function bi(e){return tp()?e instanceof HTMLElement||e instanceof Hs(e).HTMLElement:!1}function gN(e){return!tp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hs(e).ShadowRoot}const v6=new Set(["inline","contents"]);function Qu(e){const{overflow:t,overflowX:s,overflowY:r,display:i}=Br(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!v6.has(i)}const x6=new Set(["table","td","th"]);function y6(e){return x6.has(Ic(e))}const b6=[":popover-open",":modal"];function np(e){return b6.some(t=>{try{return e.matches(t)}catch{return!1}})}const w6=["transform","translate","scale","rotate","perspective"],j6=["transform","translate","scale","rotate","perspective","filter"],_6=["paint","layout","strict","content"];function cb(e){const t=db(),s=zr(e)?Br(e):e;return w6.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||j6.some(r=>(s.willChange||"").includes(r))||_6.some(r=>(s.contain||"").includes(r))}function N6(e){let t=Ha(e);for(;bi(t)&&!mc(t);){if(cb(t))return t;if(np(t))return null;t=Ha(t)}return null}function db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const S6=new Set(["html","body","#document"]);function mc(e){return S6.has(Ic(e))}function Br(e){return Hs(e).getComputedStyle(e)}function sp(e){return zr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ha(e){if(Ic(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gN(e)&&e.host||_i(e);return gN(t)?t.host:t}function IE(e){const t=Ha(e);return mc(t)?e.ownerDocument?e.ownerDocument.body:e.body:bi(t)&&Qu(t)?t:IE(t)}function _u(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const i=IE(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Hs(i);if(a){const c=Mx(o);return t.concat(o,o.visualViewport||[],Qu(i)?i:[],c&&s?_u(c):[])}return t.concat(i,_u(i,[],s))}function Mx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DE(e){const t=Br(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=bi(e),a=i?e.offsetWidth:s,o=i?e.offsetHeight:r,c=em(s)!==a||em(r)!==o;return c&&(s=a,r=o),{width:s,height:r,$:c}}function ub(e){return zr(e)?e:e.contextElement}function Zl(e){const t=ub(e);if(!bi(t))return ui(1);const s=t.getBoundingClientRect(),{width:r,height:i,$:a}=DE(t);let o=(a?em(s.width):s.width)/r,c=(a?em(s.height):s.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const k6=ui(0);function FE(e){const t=Hs(e);return!db()||!t.visualViewport?k6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function C6(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Hs(e)?!1:t}function Wo(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const i=e.getBoundingClientRect(),a=ub(e);let o=ui(1);t&&(r?zr(r)&&(o=Zl(r)):o=Zl(e));const c=C6(a,s,r)?FE(a):ui(0);let d=(i.left+c.x)/o.x,h=(i.top+c.y)/o.y,f=i.width/o.x,m=i.height/o.y;if(a){const u=Hs(a),p=r&&zr(r)?Hs(r):r;let y=u,v=Mx(y);for(;v&&r&&p!==y;){const w=Zl(v),x=v.getBoundingClientRect(),b=Br(v),_=x.left+(v.clientLeft+parseFloat(b.paddingLeft))*w.x,N=x.top+(v.clientTop+parseFloat(b.paddingTop))*w.y;d*=w.x,h*=w.y,f*=w.x,m*=w.y,d+=_,h+=N,y=Hs(v),v=Mx(y)}}return nm({width:f,height:m,x:d,y:h})}function hb(e,t){const s=sp(e).scrollLeft;return t?t.left+s:Wo(_i(e)).left+s}function $E(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(s?0:hb(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function E6(e){let{elements:t,rect:s,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=_i(r),c=t?np(t.floating):!1;if(r===o||c&&a)return s;let d={scrollLeft:0,scrollTop:0},h=ui(1);const f=ui(0),m=bi(r);if((m||!m&&!a)&&((Ic(r)!=="body"||Qu(o))&&(d=sp(r)),bi(r))){const p=Wo(r);h=Zl(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const u=o&&!m&&!a?$E(o,d,!0):ui(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-d.scrollLeft*h.x+f.x+u.x,y:s.y*h.y-d.scrollTop*h.y+f.y+u.y}}function P6(e){return Array.from(e.getClientRects())}function T6(e){const t=_i(e),s=sp(e),r=e.ownerDocument.body,i=Bs(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Bs(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-s.scrollLeft+hb(e);const c=-s.scrollTop;return Br(r).direction==="rtl"&&(o+=Bs(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:c}}function A6(e,t){const s=Hs(e),r=_i(e),i=s.visualViewport;let a=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){a=i.width,o=i.height;const h=db();(!h||h&&t==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:a,height:o,x:c,y:d}}const O6=new Set(["absolute","fixed"]);function R6(e,t){const s=Wo(e,!0,t==="fixed"),r=s.top+e.clientTop,i=s.left+e.clientLeft,a=bi(e)?Zl(e):ui(1),o=e.clientWidth*a.x,c=e.clientHeight*a.y,d=i*a.x,h=r*a.y;return{width:o,height:c,x:d,y:h}}function vN(e,t,s){let r;if(t==="viewport")r=A6(e,s);else if(t==="document")r=T6(_i(e));else if(zr(t))r=R6(t,s);else{const i=FE(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return nm(r)}function zE(e,t){const s=Ha(e);return s===t||!zr(s)||mc(s)?!1:Br(s).position==="fixed"||zE(s,t)}function L6(e,t){const s=t.get(e);if(s)return s;let r=_u(e,[],!1).filter(c=>zr(c)&&Ic(c)!=="body"),i=null;const a=Br(e).position==="fixed";let o=a?Ha(e):e;for(;zr(o)&&!mc(o);){const c=Br(o),d=cb(o);!d&&c.position==="fixed"&&(i=null),(a?!d&&!i:!d&&c.position==="static"&&!!i&&O6.has(i.position)||Qu(o)&&!d&&zE(e,o))?r=r.filter(f=>f!==o):i=c,o=Ha(o)}return t.set(e,r),r}function M6(e){let{element:t,boundary:s,rootBoundary:r,strategy:i}=e;const o=[...s==="clippingAncestors"?np(t)?[]:L6(t,this._c):[].concat(s),r],c=o[0],d=o.reduce((h,f)=>{const m=vN(t,f,i);return h.top=Bs(m.top,h.top),h.right=qa(m.right,h.right),h.bottom=qa(m.bottom,h.bottom),h.left=Bs(m.left,h.left),h},vN(t,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function I6(e){const{width:t,height:s}=DE(e);return{width:t,height:s}}function D6(e,t,s){const r=bi(t),i=_i(t),a=s==="fixed",o=Wo(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const d=ui(0);function h(){d.x=hb(i)}if(r||!r&&!a)if((Ic(t)!=="body"||Qu(i))&&(c=sp(t)),r){const p=Wo(t,!0,a,t);d.x=p.x+t.clientLeft,d.y=p.y+t.clientTop}else i&&h();a&&!r&&i&&h();const f=i&&!r&&!a?$E(i,c):ui(0),m=o.left+c.scrollLeft-d.x-f.x,u=o.top+c.scrollTop-d.y-f.y;return{x:m,y:u,width:o.width,height:o.height}}function Qg(e){return Br(e).position==="static"}function xN(e,t){if(!bi(e)||Br(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return _i(e)===s&&(s=s.ownerDocument.body),s}function BE(e,t){const s=Hs(e);if(np(e))return s;if(!bi(e)){let i=Ha(e);for(;i&&!mc(i);){if(zr(i)&&!Qg(i))return i;i=Ha(i)}return s}let r=xN(e,t);for(;r&&y6(r)&&Qg(r);)r=xN(r,t);return r&&mc(r)&&Qg(r)&&!cb(r)?s:r||N6(e)||s}const F6=async function(e){const t=this.getOffsetParent||BE,s=this.getDimensions,r=await s(e.floating);return{reference:D6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $6(e){return Br(e).direction==="rtl"}const z6={convertOffsetParentRelativeRectToViewportRelativeRect:E6,getDocumentElement:_i,getClippingRect:M6,getOffsetParent:BE,getElementRects:F6,getClientRects:P6,getDimensions:I6,getScale:Zl,isElement:zr,isRTL:$6};function VE(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function B6(e,t){let s=null,r;const i=_i(e);function a(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=e.getBoundingClientRect(),{left:f,top:m,width:u,height:p}=h;if(c||t(),!u||!p)return;const y=Zh(m),v=Zh(i.clientWidth-(f+u)),w=Zh(i.clientHeight-(m+p)),x=Zh(f),_={rootMargin:-y+"px "+-v+"px "+-w+"px "+-x+"px",threshold:Bs(0,qa(1,d))||1};let N=!0;function C(I){const k=I[0].intersectionRatio;if(k!==d){if(!N)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!VE(h,e.getBoundingClientRect())&&o(),N=!1}try{s=new IntersectionObserver(C,{..._,root:i.ownerDocument})}catch{s=new IntersectionObserver(C,_)}s.observe(e)}return o(!0),a}function V6(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=ub(e),f=i||a?[...h?_u(h):[],..._u(t)]:[];f.forEach(x=>{i&&x.addEventListener("scroll",s,{passive:!0}),a&&x.addEventListener("resize",s)});const m=h&&c?B6(h,s):null;let u=-1,p=null;o&&(p=new ResizeObserver(x=>{let[b]=x;b&&b.target===h&&p&&(p.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),s()}),h&&!d&&p.observe(h),p.observe(t));let y,v=d?Wo(e):null;d&&w();function w(){const x=Wo(e);v&&!VE(v,x)&&s(),v=x,y=requestAnimationFrame(w)}return s(),()=>{var x;f.forEach(b=>{i&&b.removeEventListener("scroll",s),a&&b.removeEventListener("resize",s)}),m==null||m(),(x=p)==null||x.disconnect(),p=null,d&&cancelAnimationFrame(y)}}const U6=f6,q6=m6,H6=d6,W6=g6,Z6=u6,yN=c6,G6=p6,K6=(e,t,s)=>{const r=new Map,i={platform:z6,...s},a={...i.platform,_c:r};return l6(e,t,{...i,platform:a})};var Y6=typeof document<"u",X6=function(){},bf=Y6?j.useLayoutEffect:X6;function sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!sm(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),s=i.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=s;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!sm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function UE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bN(e,t){const s=UE(e);return Math.round(t*s)/s}function Jg(e){const t=j.useRef(e);return bf(()=>{t.current=e}),t}function Q6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=e,[f,m]=j.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[u,p]=j.useState(r);sm(u,r)||p(r);const[y,v]=j.useState(null),[w,x]=j.useState(null),b=j.useCallback(K=>{K!==I.current&&(I.current=K,v(K))},[]),_=j.useCallback(K=>{K!==k.current&&(k.current=K,x(K))},[]),N=a||y,C=o||w,I=j.useRef(null),k=j.useRef(null),P=j.useRef(f),R=d!=null,E=Jg(d),T=Jg(i),A=Jg(h),$=j.useCallback(()=>{if(!I.current||!k.current)return;const K={placement:t,strategy:s,middleware:u};T.current&&(K.platform=T.current),K6(I.current,k.current,K).then(U=>{const B={...U,isPositioned:A.current!==!1};O.current&&!sm(P.current,B)&&(P.current=B,eo.flushSync(()=>{m(B)}))})},[u,t,s,T,A]);bf(()=>{h===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(K=>({...K,isPositioned:!1})))},[h]);const O=j.useRef(!1);bf(()=>(O.current=!0,()=>{O.current=!1}),[]),bf(()=>{if(N&&(I.current=N),C&&(k.current=C),N&&C){if(E.current)return E.current(N,C,$);$()}},[N,C,$,E,R]);const F=j.useMemo(()=>({reference:I,floating:k,setReference:b,setFloating:_}),[b,_]),G=j.useMemo(()=>({reference:N,floating:C}),[N,C]),Y=j.useMemo(()=>{const K={position:s,left:0,top:0};if(!G.floating)return K;const U=bN(G.floating,f.x),B=bN(G.floating,f.y);return c?{...K,transform:"translate("+U+"px, "+B+"px)",...UE(G.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:U,top:B}},[s,c,G.floating,f.x,f.y]);return j.useMemo(()=>({...f,update:$,refs:F,elements:G,floatingStyles:Y}),[f,$,F,G,Y])}const J6=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:i}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?yN({element:r.current,padding:i}).fn(s):{}:r?yN({element:r,padding:i}).fn(s):{}}}},e8=(e,t)=>({...U6(e),options:[e,t]}),t8=(e,t)=>({...q6(e),options:[e,t]}),n8=(e,t)=>({...G6(e),options:[e,t]}),s8=(e,t)=>({...H6(e),options:[e,t]}),r8=(e,t)=>({...W6(e),options:[e,t]}),i8=(e,t)=>({...Z6(e),options:[e,t]}),a8=(e,t)=>({...J6(e),options:[e,t]});var o8="Arrow",qE=j.forwardRef((e,t)=>{const{children:s,width:r=10,height:i=5,...a}=e;return n.jsx(Xe.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});qE.displayName=o8;var l8=qE;function rp(e){const[t,s]=j.useState(void 0);return Cn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=e.offsetWidth,c=e.offsetHeight;s({width:o,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var fb="Popper",[HE,Dc]=ls(fb),[c8,WE]=HE(fb),ZE=e=>{const{__scopePopper:t,children:s}=e,[r,i]=j.useState(null);return n.jsx(c8,{scope:t,anchor:r,onAnchorChange:i,children:s})};ZE.displayName=fb;var GE="PopperAnchor",KE=j.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...i}=e,a=WE(GE,s),o=j.useRef(null),c=ht(t,o);return j.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:n.jsx(Xe.div,{...i,ref:c})});KE.displayName=GE;var mb="PopperContent",[d8,u8]=HE(mb),YE=j.forwardRef((e,t)=>{var H,se,Q,ie,fe,te;const{__scopePopper:s,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:u=!1,updatePositionStrategy:p="optimized",onPlaced:y,...v}=e,w=WE(mb,s),[x,b]=j.useState(null),_=ht(t,ve=>b(ve)),[N,C]=j.useState(null),I=rp(N),k=(I==null?void 0:I.width)??0,P=(I==null?void 0:I.height)??0,R=r+(a!=="center"?"-"+a:""),E=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(h)?h:[h],A=T.length>0,$={padding:E,boundary:T.filter(f8),altBoundary:A},{refs:O,floatingStyles:F,placement:G,isPositioned:Y,middlewareData:K}=Q6({strategy:"fixed",placement:R,whileElementsMounted:(...ve)=>V6(...ve,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[e8({mainAxis:i+P,alignmentAxis:o}),d&&t8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?n8():void 0,...$}),d&&s8({...$}),r8({...$,apply:({elements:ve,rects:Ce,availableWidth:he,availableHeight:je})=>{const{width:_e,height:de}=Ce.reference,me=ve.floating.style;me.setProperty("--radix-popper-available-width",`${he}px`),me.setProperty("--radix-popper-available-height",`${je}px`),me.setProperty("--radix-popper-anchor-width",`${_e}px`),me.setProperty("--radix-popper-anchor-height",`${de}px`)}}),N&&a8({element:N,padding:c}),m8({arrowWidth:k,arrowHeight:P}),u&&i8({strategy:"referenceHidden",...$})]}),[U,B]=JE(G),M=gn(y);Cn(()=>{Y&&(M==null||M())},[Y,M]);const z=(H=K.arrow)==null?void 0:H.x,Z=(se=K.arrow)==null?void 0:se.y,W=((Q=K.arrow)==null?void 0:Q.centerOffset)!==0,[X,V]=j.useState();return Cn(()=>{x&&V(window.getComputedStyle(x).zIndex)},[x]),n.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:Y?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(ie=K.transformOrigin)==null?void 0:ie.x,(fe=K.transformOrigin)==null?void 0:fe.y].join(" "),...((te=K.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(d8,{scope:s,placedSide:U,onArrowChange:C,arrowX:z,arrowY:Z,shouldHideArrow:W,children:n.jsx(Xe.div,{"data-side":U,"data-align":B,...v,ref:_,style:{...v.style,animation:Y?void 0:"none"}})})})});YE.displayName=mb;var XE="PopperArrow",h8={top:"bottom",right:"left",bottom:"top",left:"right"},QE=j.forwardRef(function(t,s){const{__scopePopper:r,...i}=t,a=u8(XE,r),o=h8[a.placedSide];return n.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:n.jsx(l8,{...i,ref:s,style:{...i.style,display:"block"}})})});QE.displayName=XE;function f8(e){return e!==null}var m8=e=>({name:"transformOrigin",options:e,fn(t){var w,x,b;const{placement:s,rects:r,middlewareData:i}=t,o=((w=i.arrow)==null?void 0:w.centerOffset)!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[h,f]=JE(s),m={start:"0%",center:"50%",end:"100%"}[f],u=(((x=i.arrow)==null?void 0:x.x)??0)+c/2,p=(((b=i.arrow)==null?void 0:b.y)??0)+d/2;let y="",v="";return h==="bottom"?(y=o?m:`${u}px`,v=`${-d}px`):h==="top"?(y=o?m:`${u}px`,v=`${r.floating.height+d}px`):h==="right"?(y=`${-d}px`,v=o?m:`${p}px`):h==="left"&&(y=`${r.floating.width+d}px`,v=o?m:`${p}px`),{data:{x:y,y:v}}}});function JE(e){const[t,s="center"]=e.split("-");return[t,s]}var pb=ZE,gb=KE,vb=YE,xb=QE,[ip,gse]=ls("Tooltip",[Dc]),ap=Dc(),eP="TooltipProvider",p8=700,Ix="tooltip.open",[g8,yb]=ip(eP),tP=e=>{const{__scopeTooltip:t,delayDuration:s=p8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=j.useRef(!0),c=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),n.jsx(g8,{scope:t,isOpenDelayedRef:o,delayDuration:s,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:j.useCallback(h=>{c.current=h},[]),disableHoverableContent:i,children:a})};tP.displayName=eP;var Nu="Tooltip",[v8,op]=ip(Nu),nP=e=>{const{__scopeTooltip:t,children:s,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:c}=e,d=yb(Nu,e.__scopeTooltip),h=ap(t),[f,m]=j.useState(null),u=Ir(),p=j.useRef(0),y=o??d.disableHoverableContent,v=c??d.delayDuration,w=j.useRef(!1),[x,b]=Fr({prop:r,defaultProp:i??!1,onChange:k=>{k?(d.onOpen(),document.dispatchEvent(new CustomEvent(Ix))):d.onClose(),a==null||a(k)},caller:Nu}),_=j.useMemo(()=>x?w.current?"delayed-open":"instant-open":"closed",[x]),N=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,w.current=!1,b(!0)},[b]),C=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),I=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{w.current=!0,b(!0),p.current=0},v)},[v,b]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(pb,{...h,children:n.jsx(v8,{scope:t,contentId:u,open:x,stateAttribute:_,trigger:f,onTriggerChange:m,onTriggerEnter:j.useCallback(()=>{d.isOpenDelayedRef.current?I():N()},[d.isOpenDelayedRef,I,N]),onTriggerLeave:j.useCallback(()=>{y?C():(window.clearTimeout(p.current),p.current=0)},[C,y]),onOpen:N,onClose:C,disableHoverableContent:y,children:s})})};nP.displayName=Nu;var Dx="TooltipTrigger",sP=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=op(Dx,s),a=yb(Dx,s),o=ap(s),c=j.useRef(null),d=ht(t,c,i.onTriggerChange),h=j.useRef(!1),f=j.useRef(!1),m=j.useCallback(()=>h.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(gb,{asChild:!0,...o,children:n.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:d,onPointerMove:Me(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Me(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:Me(e.onBlur,i.onClose),onClick:Me(e.onClick,i.onClose)})})});sP.displayName=Dx;var x8="TooltipPortal",[vse,y8]=ip(x8,{forceMount:void 0}),pc="TooltipContent",rP=j.forwardRef((e,t)=>{const s=y8(pc,e.__scopeTooltip),{forceMount:r=s.forceMount,side:i="top",...a}=e,o=op(pc,e.__scopeTooltip);return n.jsx(Xn,{present:r||o.open,children:o.disableHoverableContent?n.jsx(iP,{side:i,...a,ref:t}):n.jsx(b8,{side:i,...a,ref:t})})}),b8=j.forwardRef((e,t)=>{const s=op(pc,e.__scopeTooltip),r=yb(pc,e.__scopeTooltip),i=j.useRef(null),a=ht(t,i),[o,c]=j.useState(null),{trigger:d,onClose:h}=s,f=i.current,{onPointerInTransitChange:m}=r,u=j.useCallback(()=>{c(null),m(!1)},[m]),p=j.useCallback((y,v)=>{const w=y.currentTarget,x={x:y.clientX,y:y.clientY},b=S8(x,w.getBoundingClientRect()),_=k8(x,b),N=C8(v.getBoundingClientRect()),C=P8([..._,...N]);c(C),m(!0)},[m]);return j.useEffect(()=>()=>u(),[u]),j.useEffect(()=>{if(d&&f){const y=w=>p(w,f),v=w=>p(w,d);return d.addEventListener("pointerleave",y),f.addEventListener("pointerleave",v),()=>{d.removeEventListener("pointerleave",y),f.removeEventListener("pointerleave",v)}}},[d,f,p,u]),j.useEffect(()=>{if(o){const y=v=>{const w=v.target,x={x:v.clientX,y:v.clientY},b=(d==null?void 0:d.contains(w))||(f==null?void 0:f.contains(w)),_=!E8(x,o);b?u():_&&(u(),h())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[d,f,o,h,u]),n.jsx(iP,{...e,ref:a})}),[w8,j8]=ip(Nu,{isInside:!1}),_8=EI("TooltipContent"),iP=j.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...c}=e,d=op(pc,s),h=ap(s),{onClose:f}=d;return j.useEffect(()=>(document.addEventListener(Ix,f),()=>document.removeEventListener(Ix,f)),[f]),j.useEffect(()=>{if(d.trigger){const m=u=>{const p=u.target;p!=null&&p.contains(d.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,f]),n.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:n.jsxs(vb,{"data-state":d.stateAttribute,...h,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(_8,{children:r}),n.jsx(w8,{scope:s,isInside:!0,children:n.jsx(YI,{id:d.contentId,role:"tooltip",children:i||r})})]})})});rP.displayName=pc;var aP="TooltipArrow",N8=j.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,i=ap(s);return j8(aP,s).isInside?null:n.jsx(xb,{...i,...r,ref:t})});N8.displayName=aP;function S8(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(s,r,i,a)){case a:return"left";case i:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function k8(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function C8(e){const{top:t,right:s,bottom:r,left:i}=e;return[{x:i,y:t},{x:s,y:t},{x:s,y:r},{x:i,y:r}]}function E8(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>r!=u>r&&s<(m-h)*(r-f)/(u-f)+h&&(i=!i)}return i}function P8(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),T8(t)}function T8(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;s.length>=2;){const a=s[s.length-1],o=s[s.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))s.pop();else break}s.push(i)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var A8=tP,O8=nP,R8=sP,oP=rP;const L8=A8,wN=O8,jN=R8,Fx=j.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(oP,{ref:r,sideOffset:t,className:Ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));Fx.displayName=oP.displayName;var lp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cp=typeof window>"u"||"Deno"in globalThis;function _r(){}function M8(e,t){return typeof e=="function"?e(t):e}function I8(e){return typeof e=="number"&&e>=0&&e!==1/0}function D8(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $x(e,t){return typeof e=="function"?e(t):e}function F8(e,t){return typeof e=="function"?e(t):e}function _N(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:c}=e;if(o){if(r){if(t.queryHash!==bb(o,t.options))return!1}else if(!ku(t.queryKey,o))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||a&&!a(t))}function NN(e,t){const{exact:s,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(s){if(Su(t.options.mutationKey)!==Su(a))return!1}else if(!ku(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function bb(e,t){return((t==null?void 0:t.queryKeyHashFn)||Su)(e)}function Su(e){return JSON.stringify(e,(t,s)=>zx(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function ku(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>ku(e[s],t[s])):!1}function lP(e,t){if(e===t)return e;const s=SN(e)&&SN(t);if(s||zx(e)&&zx(t)){const r=s?e:Object.keys(e),i=r.length,a=s?t:Object.keys(t),o=a.length,c=s?[]:{},d=new Set(r);let h=0;for(let f=0;f<o;f++){const m=s?f:a[f];(!s&&d.has(m)||s)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,h++):(c[m]=lP(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&h++)}return i===o&&h===i?e:c}return t}function SN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zx(e){if(!kN(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!kN(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kN(e){return Object.prototype.toString.call(e)==="[object Object]"}function $8(e){return new Promise(t=>{setTimeout(t,e)})}function z8(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?lP(e,t):t}function B8(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function V8(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var wb=Symbol();function cP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===wb?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var So,ba,Ql,x2,U8=(x2=class extends lp{constructor(){super();Lt(this,So);Lt(this,ba);Lt(this,Ql);ft(this,Ql,t=>{if(!cp&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){ke(this,ba)||this.setEventListener(ke(this,Ql))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,ba))==null||t.call(this),ft(this,ba,void 0))}setEventListener(t){var s;ft(this,Ql,t),(s=ke(this,ba))==null||s.call(this),ft(this,ba,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){ke(this,So)!==t&&(ft(this,So,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof ke(this,So)=="boolean"?ke(this,So):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},So=new WeakMap,ba=new WeakMap,Ql=new WeakMap,x2),dP=new U8,Jl,wa,ec,y2,q8=(y2=class extends lp{constructor(){super();Lt(this,Jl,!0);Lt(this,wa);Lt(this,ec);ft(this,ec,t=>{if(!cp&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){ke(this,wa)||this.setEventListener(ke(this,ec))}onUnsubscribe(){var t;this.hasListeners()||((t=ke(this,wa))==null||t.call(this),ft(this,wa,void 0))}setEventListener(t){var s;ft(this,ec,t),(s=ke(this,wa))==null||s.call(this),ft(this,wa,t(this.setOnline.bind(this)))}setOnline(t){ke(this,Jl)!==t&&(ft(this,Jl,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return ke(this,Jl)}},Jl=new WeakMap,wa=new WeakMap,ec=new WeakMap,y2),rm=new q8;function H8(){let e,t;const s=new Promise((i,a)=>{e=i,t=a});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}function W8(e){return Math.min(1e3*2**e,3e4)}function uP(e){return(e??"online")==="online"?rm.isOnline():!0}var hP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ev(e){return e instanceof hP}function fP(e){let t=!1,s=0,r=!1,i;const a=H8(),o=v=>{var w;r||(u(new hP(v)),(w=e.abort)==null||w.call(e))},c=()=>{t=!0},d=()=>{t=!1},h=()=>dP.isFocused()&&(e.networkMode==="always"||rm.isOnline())&&e.canRun(),f=()=>uP(e.networkMode)&&e.canRun(),m=v=>{var w;r||(r=!0,(w=e.onSuccess)==null||w.call(e,v),i==null||i(),a.resolve(v))},u=v=>{var w;r||(r=!0,(w=e.onError)==null||w.call(e,v),i==null||i(),a.reject(v))},p=()=>new Promise(v=>{var w;i=x=>{(r||h())&&v(x)},(w=e.onPause)==null||w.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),y=()=>{if(r)return;let v;const w=s===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(m).catch(x=>{var I;if(r)return;const b=e.retry??(cp?0:3),_=e.retryDelay??W8,N=typeof _=="function"?_(s,x):_,C=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,x);if(t||!C){u(x);return}s++,(I=e.onFail)==null||I.call(e,s,x),$8(N).then(()=>h()?void 0:p()).then(()=>{t?u(x):y()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?y():p().then(y),a)}}var Z8=e=>setTimeout(e,0);function G8(){let e=[],t=0,s=c=>{c()},r=c=>{c()},i=Z8;const a=c=>{t?e.push(c):i(()=>{s(c)})},o=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{s(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var ms=G8(),ko,b2,mP=(b2=class{constructor(){Lt(this,ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I8(this.gcTime)&&ft(this,ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cp?1/0:5*60*1e3))}clearGcTimeout(){ke(this,ko)&&(clearTimeout(ke(this,ko)),ft(this,ko,void 0))}},ko=new WeakMap,b2),tc,Co,er,Eo,ns,$u,Po,Nr,Ri,w2,K8=(w2=class extends mP{constructor(t){super();Lt(this,Nr);Lt(this,tc);Lt(this,Co);Lt(this,er);Lt(this,Eo);Lt(this,ns);Lt(this,$u);Lt(this,Po);ft(this,Po,!1),ft(this,$u,t.defaultOptions),this.setOptions(t.options),this.observers=[],ft(this,Eo,t.client),ft(this,er,ke(this,Eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ft(this,tc,X8(this.options)),this.state=t.state??ke(this,tc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ke(this,ns))==null?void 0:t.promise}setOptions(t){this.options={...ke(this,$u),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ke(this,er).remove(this)}setData(t,s){const r=z8(this.state.data,t,this.options);return Jn(this,Nr,Ri).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){Jn(this,Nr,Ri).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,i;const s=(r=ke(this,ns))==null?void 0:r.promise;return(i=ke(this,ns))==null||i.cancel(t),s?s.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ke(this,tc))}isActive(){return this.observers.some(t=>F8(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wb||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$x(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!D8(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=ke(this,ns))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=ke(this,ns))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ke(this,er).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(ke(this,ns)&&(ke(this,Po)?ke(this,ns).cancel({revert:!0}):ke(this,ns).cancelRetry()),this.scheduleGc()),ke(this,er).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jn(this,Nr,Ri).call(this,{type:"invalidate"})}fetch(t,s){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(ke(this,ns))return ke(this,ns).continueRetry(),ke(this,ns).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(p=>p.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(ft(this,Po,!0),r.signal)})},a=()=>{const u=cP(this.options,s),y=(()=>{const v={client:ke(this,Eo),queryKey:this.queryKey,meta:this.meta};return i(v),v})();return ft(this,Po,!1),this.options.persister?this.options.persister(u,y,this):u(y)},c=(()=>{const u={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:ke(this,Eo),state:this.state,fetchFn:a};return i(u),u})();(h=this.options.behavior)==null||h.onFetch(c,this),ft(this,Co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Jn(this,Nr,Ri).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=u=>{var p,y,v,w;ev(u)&&u.silent||Jn(this,Nr,Ri).call(this,{type:"error",error:u}),ev(u)||((y=(p=ke(this,er).config).onError)==null||y.call(p,u,this),(w=(v=ke(this,er).config).onSettled)==null||w.call(v,this.state.data,u,this)),this.scheduleGc()};return ft(this,ns,fP({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var p,y,v,w;if(u===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(x){d(x);return}(y=(p=ke(this,er).config).onSuccess)==null||y.call(p,u,this),(w=(v=ke(this,er).config).onSettled)==null||w.call(v,u,this.state.error,this),this.scheduleGc()},onError:d,onFail:(u,p)=>{Jn(this,Nr,Ri).call(this,{type:"failed",failureCount:u,error:p})},onPause:()=>{Jn(this,Nr,Ri).call(this,{type:"pause"})},onContinue:()=>{Jn(this,Nr,Ri).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),ke(this,ns).start()}},tc=new WeakMap,Co=new WeakMap,er=new WeakMap,Eo=new WeakMap,ns=new WeakMap,$u=new WeakMap,Po=new WeakMap,Nr=new WeakSet,Ri=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Y8(r.data,this.options),fetchMeta:t.meta??null};case"success":return ft(this,Co,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return ev(i)&&i.revert&&ke(this,Co)?{...ke(this,Co),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),ms.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ke(this,er).notify({query:this,type:"updated",action:t})})},w2);function Y8(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function X8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ti,j2,Q8=(j2=class extends lp{constructor(t={}){super();Lt(this,ti);this.config=t,ft(this,ti,new Map)}build(t,s,r){const i=s.queryKey,a=s.queryHash??bb(i,s);let o=this.get(a);return o||(o=new K8({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){ke(this,ti).has(t.queryHash)||(ke(this,ti).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=ke(this,ti).get(t.queryHash);s&&(t.destroy(),s===t&&ke(this,ti).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ke(this,ti).get(t)}getAll(){return[...ke(this,ti).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>_N(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>_N(t,r)):s}notify(t){ms.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ti=new WeakMap,j2),ni,us,To,si,ha,_2,J8=(_2=class extends mP{constructor(t){super();Lt(this,si);Lt(this,ni);Lt(this,us);Lt(this,To);this.mutationId=t.mutationId,ft(this,us,t.mutationCache),ft(this,ni,[]),this.state=t.state||e$(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ke(this,ni).includes(t)||(ke(this,ni).push(t),this.clearGcTimeout(),ke(this,us).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ft(this,ni,ke(this,ni).filter(s=>s!==t)),this.scheduleGc(),ke(this,us).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ke(this,ni).length||(this.state.status==="pending"?this.scheduleGc():ke(this,us).remove(this))}continue(){var t;return((t=ke(this,To))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,d,h,f,m,u,p,y,v,w,x,b,_,N,C,I,k,P;const s=()=>{Jn(this,si,ha).call(this,{type:"continue"})};ft(this,To,fP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,E)=>{Jn(this,si,ha).call(this,{type:"failed",failureCount:R,error:E})},onPause:()=>{Jn(this,si,ha).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ke(this,us).canRun(this)}));const r=this.state.status==="pending",i=!ke(this,To).canStart();try{if(r)s();else{Jn(this,si,ha).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=ke(this,us).config).onMutate)==null?void 0:o.call(a,t,this));const E=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));E!==this.state.context&&Jn(this,si,ha).call(this,{type:"pending",context:E,variables:t,isPaused:i})}const R=await ke(this,To).start();return await((f=(h=ke(this,us).config).onSuccess)==null?void 0:f.call(h,R,t,this.state.context,this)),await((u=(m=this.options).onSuccess)==null?void 0:u.call(m,R,t,this.state.context)),await((y=(p=ke(this,us).config).onSettled)==null?void 0:y.call(p,R,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,R,null,t,this.state.context)),Jn(this,si,ha).call(this,{type:"success",data:R}),R}catch(R){try{throw await((b=(x=ke(this,us).config).onError)==null?void 0:b.call(x,R,t,this.state.context,this)),await((N=(_=this.options).onError)==null?void 0:N.call(_,R,t,this.state.context)),await((I=(C=ke(this,us).config).onSettled)==null?void 0:I.call(C,void 0,R,this.state.variables,this.state.context,this)),await((P=(k=this.options).onSettled)==null?void 0:P.call(k,void 0,R,t,this.state.context)),R}finally{Jn(this,si,ha).call(this,{type:"error",error:R})}}finally{ke(this,us).runNext(this)}}},ni=new WeakMap,us=new WeakMap,To=new WeakMap,si=new WeakSet,ha=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ms.batch(()=>{ke(this,ni).forEach(r=>{r.onMutationUpdate(t)}),ke(this,us).notify({mutation:this,type:"updated",action:t})})},_2);function e$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fi,Sr,zu,N2,t$=(N2=class extends lp{constructor(t={}){super();Lt(this,Fi);Lt(this,Sr);Lt(this,zu);this.config=t,ft(this,Fi,new Set),ft(this,Sr,new Map),ft(this,zu,0)}build(t,s,r){const i=new J8({mutationCache:this,mutationId:++kh(this,zu)._,options:t.defaultMutationOptions(s),state:r});return this.add(i),i}add(t){ke(this,Fi).add(t);const s=Gh(t);if(typeof s=="string"){const r=ke(this,Sr).get(s);r?r.push(t):ke(this,Sr).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ke(this,Fi).delete(t)){const s=Gh(t);if(typeof s=="string"){const r=ke(this,Sr).get(s);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&ke(this,Sr).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Gh(t);if(typeof s=="string"){const r=ke(this,Sr).get(s),i=r==null?void 0:r.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const s=Gh(t);if(typeof s=="string"){const i=(r=ke(this,Sr).get(s))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ms.batch(()=>{ke(this,Fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),ke(this,Fi).clear(),ke(this,Sr).clear()})}getAll(){return Array.from(ke(this,Fi))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>NN(s,r))}findAll(t={}){return this.getAll().filter(s=>NN(t,s))}notify(t){ms.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ms.batch(()=>Promise.all(t.map(s=>s.continue().catch(_r))))}},Fi=new WeakMap,Sr=new WeakMap,zu=new WeakMap,N2);function Gh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function CN(e){return{onFetch:(t,s)=>{var f,m,u,p,y;const r=t.options,i=(u=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:u.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let v=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},x=cP(t.options,t.fetchOptions),b=async(_,N,C)=>{if(v)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const k=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:N,direction:C?"backward":"forward",meta:t.options.meta};return w(T),T})(),P=await x(k),{maxPages:R}=t.options,E=C?V8:B8;return{pages:E(_.pages,P,R),pageParams:E(_.pageParams,N,R)}};if(i&&a.length){const _=i==="backward",N=_?n$:EN,C={pages:a,pageParams:o},I=N(r,C);c=await b(C,I,_)}else{const _=e??a.length;do{const N=d===0?o[0]??r.initialPageParam:EN(r,c);if(d>0&&N==null)break;c=await b(c,N),d++}while(d<_)}return c};t.options.persister?t.fetchFn=()=>{var v,w;return(w=(v=t.options).persister)==null?void 0:w.call(v,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=h}}}function EN(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function n$(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var hn,ja,_a,nc,sc,Na,rc,ic,S2,s$=(S2=class{constructor(e={}){Lt(this,hn);Lt(this,ja);Lt(this,_a);Lt(this,nc);Lt(this,sc);Lt(this,Na);Lt(this,rc);Lt(this,ic);ft(this,hn,e.queryCache||new Q8),ft(this,ja,e.mutationCache||new t$),ft(this,_a,e.defaultOptions||{}),ft(this,nc,new Map),ft(this,sc,new Map),ft(this,Na,0)}mount(){kh(this,Na)._++,ke(this,Na)===1&&(ft(this,rc,dP.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,hn).onFocus())})),ft(this,ic,rm.subscribe(async e=>{e&&(await this.resumePausedMutations(),ke(this,hn).onOnline())})))}unmount(){var e,t;kh(this,Na)._--,ke(this,Na)===0&&((e=ke(this,rc))==null||e.call(this),ft(this,rc,void 0),(t=ke(this,ic))==null||t.call(this),ft(this,ic,void 0))}isFetching(e){return ke(this,hn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ke(this,ja).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=ke(this,hn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=ke(this,hn).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime($x(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return ke(this,hn).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=ke(this,hn).get(r.queryHash),a=i==null?void 0:i.state.data,o=M8(t,a);if(o!==void 0)return ke(this,hn).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return ms.batch(()=>ke(this,hn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=ke(this,hn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=ke(this,hn);ms.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=ke(this,hn);return ms.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=ms.batch(()=>ke(this,hn).findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(_r).catch(_r)}invalidateQueries(e,t={}){return ms.batch(()=>(ke(this,hn).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=ms.batch(()=>ke(this,hn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(_r)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(_r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=ke(this,hn).build(this,t);return s.isStaleByTime($x(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_r).catch(_r)}fetchInfiniteQuery(e){return e.behavior=CN(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_r).catch(_r)}ensureInfiniteQueryData(e){return e.behavior=CN(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return rm.isOnline()?ke(this,ja).resumePausedMutations():Promise.resolve()}getQueryCache(){return ke(this,hn)}getMutationCache(){return ke(this,ja)}getDefaultOptions(){return ke(this,_a)}setDefaultOptions(e){ft(this,_a,e)}setQueryDefaults(e,t){ke(this,nc).set(Su(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ke(this,nc).values()],s={};return t.forEach(r=>{ku(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){ke(this,sc).set(Su(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ke(this,sc).values()],s={};return t.forEach(r=>{ku(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ke(this,_a).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bb(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===wb&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ke(this,_a).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ke(this,hn).clear(),ke(this,ja).clear()}},hn=new WeakMap,ja=new WeakMap,_a=new WeakMap,nc=new WeakMap,sc=new WeakMap,Na=new WeakMap,rc=new WeakMap,ic=new WeakMap,S2),r$=j.createContext(void 0),i$=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(r$.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Cu.apply(this,arguments)}var Ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ca||(Ca={}));const PN="popstate";function a$(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:c}=r.location;return Bx("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:gP(i)}return l$(t,s,null,e)}function Dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pP(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o$(){return Math.random().toString(36).substr(2,8)}function TN(e,t){return{usr:e.state,key:e.key,idx:t}}function Bx(e,t,s,r){return s===void 0&&(s=null),Cu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fc(t):t,{state:s,key:t&&t.key||r||o$()})}function gP(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fc(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function l$(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c=Ca.Pop,d=null,h=f();h==null&&(h=0,o.replaceState(Cu({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function m(){c=Ca.Pop;let w=f(),x=w==null?null:w-h;h=w,d&&d({action:c,location:v.location,delta:x})}function u(w,x){c=Ca.Push;let b=Bx(v.location,w,x);h=f()+1;let _=TN(b,h),N=v.createHref(b);try{o.pushState(_,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(N)}a&&d&&d({action:c,location:v.location,delta:1})}function p(w,x){c=Ca.Replace;let b=Bx(v.location,w,x);h=f();let _=TN(b,h),N=v.createHref(b);o.replaceState(_,"",N),a&&d&&d({action:c,location:v.location,delta:0})}function y(w){let x=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:gP(w);return b=b.replace(/ $/,"%20"),Dn(x,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,x)}let v={get action(){return c},get location(){return e(i,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(PN,m),d=w,()=>{i.removeEventListener(PN,m),d=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let x=y(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:u,replace:p,go(w){return o.go(w)}};return v}var AN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(AN||(AN={}));function c$(e,t,s){return s===void 0&&(s="/"),d$(e,t,s,!1)}function d$(e,t,s,r){let i=typeof t=="string"?Fc(t):t,a=yP(i.pathname||"/",s);if(a==null)return null;let o=vP(e);u$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=j$(a);c=b$(o[d],h,r)}return c}function vP(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};d.relativePath.startsWith("/")&&(Dn(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Mo([r,d.relativePath]),f=s.concat(d);a.children&&a.children.length>0&&(Dn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),vP(a.children,t,f,h)),!(a.path==null&&!a.index)&&t.push({path:h,score:x$(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let d of xP(a.path))i(a,o,d)}),t}function xP(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=xP(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function u$(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:y$(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const h$=/^:[\w-]+$/,f$=3,m$=2,p$=1,g$=10,v$=-2,ON=e=>e==="*";function x$(e,t){let s=e.split("/"),r=s.length;return s.some(ON)&&(r+=v$),t&&(r+=m$),s.filter(i=>!ON(i)).reduce((i,a)=>i+(h$.test(a)?f$:a===""?p$:g$),r)}function y$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function b$(e,t,s){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=RN({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),u=d.route;if(!m&&h&&s&&!r[r.length-1].route.index&&(m=RN({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Mo([a,m.pathname]),pathnameBase:E$(Mo([a,m.pathnameBase])),route:u}),m.pathnameBase!=="/"&&(a=Mo([a,m.pathnameBase]))}return o}function RN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=w$(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:u,isOptional:p}=f;if(u==="*"){let v=c[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[m];return p&&!y?h[u]=void 0:h[u]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:e}}function w$(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),pP(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function j$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pP(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function yP(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function _$(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?Fc(e):e;return{pathname:s?s.startsWith("/")?s:N$(s,t):t,search:P$(r),hash:T$(i)}}function N$(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function tv(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S$(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function k$(e,t){let s=S$(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function C$(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fc(e):(i=Cu({},e),Dn(!i.pathname||!i.pathname.includes("?"),tv("?","pathname","search",i)),Dn(!i.pathname||!i.pathname.includes("#"),tv("#","pathname","hash",i)),Dn(!i.search||!i.search.includes("#"),tv("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=s;else{let m=t.length-1;if(!r&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),m-=1;i.pathname=u.join("/")}c=m>=0?t[m]:"/"}let d=_$(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&s.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const Mo=e=>e.join("/").replace(/\/\/+/g,"/"),E$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function A$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bP=["post","put","patch","delete"];new Set(bP);const O$=["get",...bP];new Set(O$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eu(){return Eu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Eu.apply(this,arguments)}const jb=j.createContext(null),R$=j.createContext(null),dp=j.createContext(null),up=j.createContext(null),el=j.createContext({outlet:null,matches:[],isDataRoute:!1}),wP=j.createContext(null);function hp(){return j.useContext(up)!=null}function hr(){return hp()||Dn(!1),j.useContext(up).location}function jP(e){j.useContext(dp).static||j.useLayoutEffect(e)}function rt(){let{isDataRoute:e}=j.useContext(el);return e?W$():L$()}function L$(){hp()||Dn(!1);let e=j.useContext(jb),{basename:t,future:s,navigator:r}=j.useContext(dp),{matches:i}=j.useContext(el),{pathname:a}=hr(),o=JSON.stringify(k$(i,s.v7_relativeSplatPath)),c=j.useRef(!1);return jP(()=>{c.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let m=C$(h,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mo([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,o,a,e])}function fp(){let{matches:e}=j.useContext(el),t=e[e.length-1];return t?t.params:{}}function M$(e,t){return I$(e,t)}function I$(e,t,s,r){hp()||Dn(!1);let{navigator:i}=j.useContext(dp),{matches:a}=j.useContext(el),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let h=hr(),f;if(t){var m;let w=typeof t=="string"?Fc(t):t;d==="/"||(m=w.pathname)!=null&&m.startsWith(d)||Dn(!1),f=w}else f=h;let u=f.pathname||"/",p=u;if(d!=="/"){let w=d.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=c$(e,{pathname:p}),v=B$(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:Mo([d,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:Mo([d,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,s,r);return t&&v?j.createElement(up.Provider,{value:{location:Eu({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Ca.Pop}},v):v}function D$(){let e=H$(),t=A$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:i},s):null,null)}const F$=j.createElement(D$,null);class $$ extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(el.Provider,{value:this.props.routeContext},j.createElement(wP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z$(e){let{routeContext:t,match:s,children:r}=e,i=j.useContext(jb);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(el.Provider,{value:t},r)}function B$(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,c=(i=s)==null?void 0:i.errors;if(c!=null){let f=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);f>=0||Dn(!1),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,h=-1;if(s&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:u,errors:p}=s,y=m.route.loader&&u[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||y){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,u)=>{let p,y=!1,v=null,w=null;s&&(p=c&&m.route.id?c[m.route.id]:void 0,v=m.route.errorElement||F$,d&&(h<0&&u===0?(y=!0,w=null):h===u&&(y=!0,w=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,u+1)),b=()=>{let _;return p?_=v:y?_=w:m.route.Component?_=j.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,j.createElement(z$,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:s!=null},children:_})};return s&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?j.createElement($$,{location:s.location,revalidation:s.revalidation,component:v,error:p,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}var _P=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_P||{}),im=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(im||{});function V$(e){let t=j.useContext(jb);return t||Dn(!1),t}function U$(e){let t=j.useContext(R$);return t||Dn(!1),t}function q$(e){let t=j.useContext(el);return t||Dn(!1),t}function NP(e){let t=q$(),s=t.matches[t.matches.length-1];return s.route.id||Dn(!1),s.route.id}function H$(){var e;let t=j.useContext(wP),s=U$(im.UseRouteError),r=NP(im.UseRouteError);return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function W$(){let{router:e}=V$(_P.UseNavigateStable),t=NP(im.UseNavigateStable),s=j.useRef(!1);return jP(()=>{s.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Eu({fromRouteId:t},a)))},[e,t])}function Z$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function et(e){Dn(!1)}function G$(e){let{basename:t="/",children:s=null,location:r,navigationType:i=Ca.Pop,navigator:a,static:o=!1,future:c}=e;hp()&&Dn(!1);let d=t.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:d,navigator:a,static:o,future:Eu({v7_relativeSplatPath:!1},c)}),[d,c,a,o]);typeof r=="string"&&(r=Fc(r));let{pathname:f="/",search:m="",hash:u="",state:p=null,key:y="default"}=r,v=j.useMemo(()=>{let w=yP(f,d);return w==null?null:{location:{pathname:w,search:m,hash:u,state:p,key:y},navigationType:i}},[d,f,m,u,p,y,i]);return v==null?null:j.createElement(dp.Provider,{value:h},j.createElement(up.Provider,{children:s,value:v}))}function K$(e){let{children:t,location:s}=e;return M$(Vx(t),s)}new Promise(()=>{});function Vx(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){s.push.apply(s,Vx(r.props.children,a));return}r.type!==et&&Dn(!1),!r.props.index||!r.props.children||Dn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vx(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ux(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function Y$(e,t){let s=Ux(e);return t&&t.forEach((r,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const X$="6";try{window.__reactRouterVersion=X$}catch{}const Q$="startTransition",LN=r0[Q$];function J$(e){let{basename:t,children:s,future:r,window:i}=e,a=j.useRef();a.current==null&&(a.current=a$({window:i,v5Compat:!0}));let o=a.current,[c,d]=j.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},f=j.useCallback(m=>{h&&LN?LN(()=>d(m)):d(m)},[d,h]);return j.useLayoutEffect(()=>o.listen(f),[o,f]),j.useEffect(()=>Z$(r),[r]),j.createElement(G$,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}var MN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MN||(MN={}));var IN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(IN||(IN={}));function _b(e){let t=j.useRef(Ux(e)),s=j.useRef(!1),r=hr(),i=j.useMemo(()=>Y$(r.search,s.current?null:t.current),[r.search]),a=rt(),o=j.useCallback((c,d)=>{const h=Ux(typeof c=="function"?c(i):c);s.current=!0,a("?"+h,d)},[a,i]);return[i,o]}const ez="modulepreload",tz=function(e){return"/"+e},DN={},Je=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(d=>{if(d=tz(d),d in DN)return;DN[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":ez,h||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),h)return new Promise((u,p)=>{m.addEventListener("load",u),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var gc;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(gc||(gc={}));class Gl extends Error{constructor(t,s,r){super(t),this.message=t,this.code=s,this.data=r}}const nz=e=>{var t,s;return e!=null&&e.androidBridge?"android":!((s=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},sz=e=>{const t=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},r=s.Plugins=s.Plugins||{},i=()=>t!==null?t.name:nz(e),a=()=>i()!=="web",o=m=>{const u=h.get(m);return!!(u!=null&&u.platforms.has(i())||c(m))},c=m=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(p=>p.name===m)},d=m=>e.console.error(m),h=new Map,f=(m,u={})=>{const p=h.get(m);if(p)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),p.proxy;const y=i(),v=c(m);let w;const x=async()=>(!w&&y in u?w=typeof u[y]=="function"?w=await u[y]():w=u[y]:t!==null&&!w&&"web"in u&&(w=typeof u.web=="function"?w=await u.web():w=u.web),w),b=(P,R)=>{var E,T;if(v){const A=v==null?void 0:v.methods.find($=>R===$.name);if(A)return A.rtype==="promise"?$=>s.nativePromise(m,R.toString(),$):($,O)=>s.nativeCallback(m,R.toString(),$,O);if(P)return(E=P[R])===null||E===void 0?void 0:E.bind(P)}else{if(P)return(T=P[R])===null||T===void 0?void 0:T.bind(P);throw new Gl(`"${m}" plugin is not implemented on ${y}`,gc.Unimplemented)}},_=P=>{let R;const E=(...T)=>{const A=x().then($=>{const O=b($,P);if(O){const F=O(...T);return R=F==null?void 0:F.remove,F}else throw new Gl(`"${m}.${P}()" is not implemented on ${y}`,gc.Unimplemented)});return P==="addListener"&&(A.remove=async()=>R()),A};return E.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:P,writable:!1,configurable:!1}),E},N=_("addListener"),C=_("removeListener"),I=(P,R)=>{const E=N({eventName:P},R),T=async()=>{const $=await E;C({eventName:P,callbackId:$},R)},A=new Promise($=>E.then(()=>$({remove:T})));return A.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await T()},A},k=new Proxy({},{get(P,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?I:N;case"removeListener":return C;default:return _(R)}}});return r[m]=k,h.set(m,{name:m,proxy:k,platforms:new Set([...Object.keys(u),...v?[y]:[]])}),k};return s.convertFileSrc||(s.convertFileSrc=m=>m),s.getPlatform=i,s.handleError=d,s.isNativePlatform=a,s.isPluginAvailable=o,s.registerPlugin=f,s.Exception=Gl,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},rz=e=>e.Capacitor=sz(e),vt=rz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}),no=vt.registerPlugin;class Nb{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,s){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(s);const a=this.windowListeners[t];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,s);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,s,r){const i=this.listeners[t];if(!i){if(r){let a=this.retainedEventArguments[t];a||(a=[]),a.push(s),this.retainedEventArguments[t]=a}return}i.forEach(a=>a(s))}hasListeners(t){var s;return!!(!((s=this.listeners[t])===null||s===void 0)&&s.length)}registerWindowListener(t,s){this.windowListeners[s]={registered:!1,windowEventName:t,pluginEventName:s,handler:r=>{this.notifyListeners(s,r)}}}unimplemented(t="not implemented"){return new vt.Exception(t,gc.Unimplemented)}unavailable(t="not available"){return new vt.Exception(t,gc.Unavailable)}async removeListener(t,s){const r=this.listeners[t];if(!r)return;const i=r.indexOf(s);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const s=this.retainedEventArguments[t];s&&(delete this.retainedEventArguments[t],s.forEach(r=>{this.notifyListeners(t,r)}))}}const FN=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$N=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class iz extends Nb{async getCookies(){const t=document.cookie,s={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[i,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=$N(i).trim(),a=$N(a).trim(),s[i]=a}),s}async setCookie(t){try{const s=FN(t.key),r=FN(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,a=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${s}=${r||""}${i}; path=${a}; ${o};`}catch(s){return Promise.reject(s)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const s of t)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}no("CapacitorCookies",{web:()=>new iz});const az=async e=>new Promise((t,s)=>{const r=new FileReader;r.onload=()=>{const i=r.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>s(i),r.readAsDataURL(e)}),oz=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,a,o)=>(i[a]=e[t[o]],i),{})},lz=(e,t=!0)=>e?Object.entries(e).reduce((r,i)=>{const[a,o]=i;let c,d;return Array.isArray(o)?(d="",o.forEach(h=>{c=t?encodeURIComponent(h):h,d+=`${a}=${c}&`}),d.slice(0,-1)):(c=t?encodeURIComponent(o):o,d=`${a}=${c}`),`${r}&${d}`},"").substr(1):null,cz=(e,t={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},t),i=oz(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[o,c]of Object.entries(e.data||{}))a.set(o,c);s.body=a.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const a=new FormData;if(e.data instanceof FormData)e.data.forEach((c,d)=>{a.append(d,c)});else for(const c of Object.keys(e.data))a.append(c,e.data[c]);s.body=a;const o=new Headers(s.headers);o.delete("content-type"),s.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class dz extends Nb{async request(t){const s=cz(t,t.webFetchExtra),r=lz(t.params,t.shouldEncodeUrlParams),i=r?`${t.url}?${r}`:t.url,a=await fetch(i,s),o=a.headers.get("content-type")||"";let{responseType:c="text"}=a.ok?t:{};o.includes("application/json")&&(c="json");let d,h;switch(c){case"arraybuffer":case"blob":h=await a.blob(),d=await az(h);break;case"json":d=await a.json();break;case"document":case"text":default:d=await a.text()}const f={};return a.headers.forEach((m,u)=>{f[u]=m}),{data:d,headers:f,status:a.status,url:a.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}no("CapacitorHttp",{web:()=>new dz});function uz(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return new Proxy({},{get(r,i){return(a,o,c)=>{const d=e.Capacitor.Plugins[s];if(d===void 0){c(new Error(`Capacitor plugin ${s} not found`));return}if(typeof d[i]!="function"){c(new Error(`Method ${i} not found in Capacitor plugin ${s}`));return}(async()=>{try{const h=await d[i](a);o(h)}catch(h){c(h)}})()}}})}})}function hz(e){e.CapacitorUtils.Synapse=new Proxy({},{get(t,s){return e.cordova.plugins[s]}})}function fz(e=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!e?uz(window):window.cordova!==void 0&&hz(window))}const nv=no("Geolocation",{web:()=>Je(()=>import("./web-DCokJL78.js"),[]).then(e=>new e.GeolocationWeb)});fz();var Al;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Al||(Al={}));var Hd;(function(e){e.Rear="REAR",e.Front="FRONT"})(Hd||(Hd={}));var zN;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(zN||(zN={}));class mz extends Nb{async getPhoto(t){return new Promise(async(s,r)=>{if(t.webUseInput||t.source===Al.Photos)this.fileInputExperience(t,s,r);else if(t.source===Al.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=t.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",async a=>{a.detail===0?this.fileInputExperience(t,s,r):this.cameraExperience(t,s,r)})}else this.cameraExperience(t,s,r)})}async pickImages(t){return new Promise(async(s,r)=>{this.multipleFileInputExperience(s,r)})}async cameraExperience(t,s,r){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=t.direction===Hd.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",async a=>{const o=a.detail;o===null?r(new Gl("User cancelled photos app")):o instanceof Error?r(o):s(await this._getCameraPhoto(o,t)),i.dismiss(),document.body.removeChild(i)}),i.present()}catch{this.fileInputExperience(t,s,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,s,r)}fileInputExperience(t,s,r){let i=document.querySelector("#_capacitor-camera-input");const a=()=>{var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",o=>{const c=i.files[0];let d="jpeg";if(c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const h=new FileReader;h.addEventListener("load",()=>{if(t.resultType==="dataUrl")s({dataUrl:h.result,format:d});else if(t.resultType==="base64"){const f=h.result.split(",")[1];s({base64String:f,format:d})}a()}),h.readAsDataURL(c)}else s({webPath:URL.createObjectURL(c),format:d}),a()}),i.addEventListener("cancel",o=>{r(new Gl("User cancelled photos app")),a()})),i.accept="image/*",i.capture=!0,t.source===Al.Photos||t.source===Al.Prompt?i.removeAttribute("capture"):t.direction===Hd.Front?i.capture="user":t.direction===Hd.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(t,s){let r=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var a;(a=r.parentNode)===null||a===void 0||a.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",a=>{const o=[];for(let c=0;c<r.files.length;c++){const d=r.files[c];let h="jpeg";d.type==="image/png"?h="png":d.type==="image/gif"&&(h="gif"),o.push({webPath:URL.createObjectURL(d),format:h})}t({photos:o}),i()}),r.addEventListener("cancel",a=>{s(new Gl("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(t,s){return new Promise((r,i)=>{const a=new FileReader,o=t.type.split("/")[1];s.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:o,saved:!1}):(a.readAsDataURL(t),a.onloadend=()=>{const c=a.result;s.resultType==="dataUrl"?r({dataUrl:c,format:o,saved:!1}):r({base64String:c.split(",")[1],format:o,saved:!1})},a.onerror=c=>{i(c)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const pz=no("Camera",{web:()=>new mz}),gz=no("Device",{web:()=>Je(()=>import("./web-Bd_zkc-v.js"),[]).then(e=>new e.DeviceWeb)});class vz{static async requestAllPermissions(){if(!vt.isNativePlatform()){console.log("Running in web, skipping native permissions");return}try{await this.requestLocationPermission(),await this.requestCameraPermission(),console.log("Microphone permissions handled through camera plugin")}catch(t){console.error("Error requesting permissions:",t)}}static async requestLocationPermission(){try{const t=await nv.requestPermissions();return console.log("Location permissions:",t),t}catch(t){throw console.error("Location permission error:",t),t}}static async requestCameraPermission(){try{const t=await pz.requestPermissions();return console.log("Camera permissions:",t),t}catch(t){throw console.error("Camera permission error:",t),t}}static async checkLocationPermission(){try{return(await nv.checkPermissions()).location==="granted"}catch(t){return console.error("Check location permission error:",t),!1}}static async getCurrentLocation(){try{return await this.checkLocationPermission()||await this.requestLocationPermission(),await nv.getCurrentPosition()}catch(t){throw console.error("Get location error:",t),t}}static async getDeviceInfo(){try{const t=await gz.getInfo();return console.log("Device info:",t),t}catch(t){return console.error("Device info error:",t),null}}}class xz{constructor(){Yr(this,"location",null);Yr(this,"intervalId",null);Yr(this,"listeners",[]);this.loadFromStorage()}loadFromStorage(){const t=localStorage.getItem("userLocation");if(t)try{const s=JSON.parse(t),r=localStorage.getItem("userLocationTimestamp");r&&Date.now()-parseInt(r)<10*60*1e3&&(this.location=s)}catch(s){console.error("Error loading location from storage:",s)}}saveToStorage(){this.location&&(localStorage.setItem("userLocation",JSON.stringify(this.location)),localStorage.setItem("userLocationTimestamp",Date.now().toString()))}updateLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{this.location={latitude:t.coords.latitude,longitude:t.coords.longitude},this.saveToStorage(),this.notifyListeners()},t=>console.error("Location error:",t),{enableHighAccuracy:!1,timeout:1e4,maximumAge:18e4})}notifyListeners(){this.listeners.forEach(t=>t(this.location))}startTracking(){this.updateLocation(),this.intervalId||(this.intervalId=setInterval(()=>{this.updateLocation()},3*60*1e3))}stopTracking(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}getLocation(){return this.location}subscribe(t){return this.listeners.push(t),t(this.location),()=>{this.listeners=this.listeners.filter(s=>s!==t)}}}const xt=new xz,Un=no("Preferences",{web:()=>Je(()=>import("./web-DtU8g-Kl.js"),[]).then(e=>new e.PreferencesWeb)}),xse=Object.freeze(Object.defineProperty({__proto__:null,Preferences:Un},Symbol.toStringTag,{value:"Module"}));class yz{constructor(){Yr(this,"isNative",vt.isNativePlatform())}async setAuth(t,s){this.isNative?(await Un.set({key:"auth_token",value:t}),await Un.set({key:"auth_user",value:JSON.stringify(s)}),await Un.set({key:"last_activity",value:Date.now().toString()})):(localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(s)),localStorage.setItem("lastActivity",Date.now().toString()))}async getToken(){return this.isNative?(await Un.get({key:"auth_token"})).value:localStorage.getItem("token")}async getUser(){if(this.isNative){const t=await Un.get({key:"auth_user"});return t.value?JSON.parse(t.value):null}else{const t=localStorage.getItem("user");return t?JSON.parse(t):null}}async isAuthenticated(){const t=await this.getToken(),s=await this.getUser();return!!(t&&s)}async updateActivity(){this.isNative?await Un.set({key:"last_activity",value:Date.now().toString()}):localStorage.setItem("lastActivity",Date.now().toString())}async getLastActivity(){if(this.isNative){const t=await Un.get({key:"last_activity"});return t.value?parseInt(t.value):null}else{const t=localStorage.getItem("lastActivity");return t?parseInt(t):null}}async clearAuth(){console.log(" clearAuth() called - Stack trace:"),console.trace(),this.isNative?(console.log(" Clearing native storage (Capacitor Preferences)"),await Un.remove({key:"auth_token"}),await Un.remove({key:"auth_user"}),await Un.remove({key:"last_activity"}),await Un.remove({key:"cart"}),await Un.remove({key:"wishlist"})):(console.log(" Clearing web storage (localStorage)"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("lastActivity"),localStorage.removeItem("cart"),localStorage.removeItem("wishlist"),localStorage.removeItem("userLocation"),localStorage.removeItem("userLocationTimestamp")),console.log(" Auth cleared successfully")}async setCart(t){this.isNative?await Un.set({key:"cart",value:JSON.stringify(t)}):localStorage.setItem("cart",JSON.stringify(t))}async getCart(){if(this.isNative){const t=await Un.get({key:"cart"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("cart");return t?JSON.parse(t):[]}}async setWishlist(t){this.isNative?await Un.set({key:"wishlist",value:JSON.stringify(t)}):localStorage.setItem("wishlist",JSON.stringify(t))}async getWishlist(){if(this.isNative){const t=await Un.get({key:"wishlist"});return t.value?JSON.parse(t.value):[]}else{const t=localStorage.getItem("wishlist");return t?JSON.parse(t):[]}}async isSessionValid(){const t=await this.getLastActivity();if(!t)return!1;const s=this.isNative?7*24*60*60*1e3:24*60*60*1e3;return Date.now()-t<=s}async autoLogin(){const t=await this.getToken(),s=await this.getUser();if(t&&s&&s.user_type==="vendor"){if(await this.isSessionValid())return await this.updateActivity(),console.log(" Auto-login successful for vendor:",s.username),!0;console.log(" Session expired, clearing auth"),await this.clearAuth()}return!1}async keepAlive(){await this.isAuthenticated()&&await this.updateActivity()}}const Re=new yz,Pu=Object.freeze(Object.defineProperty({__proto__:null,authService:Re},Symbol.toStringTag,{value:"Module"})),bz={user:null,cart:[],wishlist:[],searchQuery:"",isLoading:!1,error:null};function wz(e,t){switch(t.type){case"SET_USER":return{...e,user:t.payload};case"ADD_TO_CART":return e.cart.find(r=>r.id===t.payload.id)?{...e,cart:e.cart.map(r=>r.id===t.payload.id?{...r,quantity:r.quantity+1}:r)}:{...e,cart:[...e.cart,{...t.payload,quantity:1}]};case"REMOVE_FROM_CART":return{...e,cart:e.cart.filter(s=>s.id!==t.payload)};case"UPDATE_CART_QUANTITY":return{...e,cart:e.cart.map(s=>s.id===t.payload.id?{...s,quantity:Math.max(0,t.payload.quantity)}:s).filter(s=>s.quantity>0)};case"CLEAR_CART":return{...e,cart:[]};case"ADD_TO_WISHLIST":return e.wishlist.find(r=>r.id===t.payload.id)?e:{...e,wishlist:[...e.wishlist,t.payload]};case"REMOVE_FROM_WISHLIST":return{...e,wishlist:e.wishlist.filter(s=>s.id!==t.payload)};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"LOAD_FROM_STORAGE":return e;default:return e}}const SP=j.createContext(void 0);function jz({children:e}){const[t,s]=j.useReducer(wz,bz);j.useEffect(()=>{(async()=>{try{const[y,v,w,x]=await Promise.all([Re.getCart(),Re.getWishlist(),Re.getUser(),Re.isAuthenticated()]);x&&w&&(await Re.isSessionValid()||await Re.clearAuth()),t.cart=y,t.wishlist=v,s({type:"SET_LOADING",payload:!1})}catch(y){console.error("Failed to load stored data:",y)}})()},[]),j.useEffect(()=>{(async()=>{try{await Promise.all([Re.setCart(t.cart),Re.setWishlist(t.wishlist)]),t.user&&await Re.updateActivity()}catch(y){console.error("Failed to save data:",y)}})()},[t.cart,t.wishlist,t.user]);const u={state:t,dispatch:s,addToCart:p=>{s({type:"ADD_TO_CART",payload:p})},removeFromCart:p=>{s({type:"REMOVE_FROM_CART",payload:p})},updateCartQuantity:(p,y)=>{s({type:"UPDATE_CART_QUANTITY",payload:{id:p,quantity:y}})},clearCart:()=>{s({type:"CLEAR_CART"})},addToWishlist:p=>{s({type:"ADD_TO_WISHLIST",payload:p})},removeFromWishlist:p=>{s({type:"REMOVE_FROM_WISHLIST",payload:p})},setSearchQuery:p=>{s({type:"SET_SEARCH_QUERY",payload:p})},login:async(p,y)=>{try{await Re.setAuth(y,p),s({type:"SET_USER",payload:p}),xt.startTracking()}catch(v){console.error("Failed to save login data:",v)}},logout:async()=>{try{await Re.clearAuth(),s({type:"SET_USER",payload:null}),xt.stopTracking()}catch(p){console.error("Failed to clear auth data:",p)}}};return n.jsx(SP.Provider,{value:u,children:e})}function ra(){const e=j.useContext(SP);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}const _z=()=>{const{state:e,dispatch:t}=ra(),s=j.useCallback(async()=>{e.user&&await Re.updateActivity()},[e.user]),r=j.useCallback(async()=>{e.user&&await Promise.all([Re.setCart(e.cart),Re.setWishlist(e.wishlist),Re.updateActivity()])},[e.user,e.cart,e.wishlist]);return j.useCallback(async()=>{},[t]),j.useEffect(()=>{},[]),j.useEffect(()=>{},[]),j.useEffect(()=>{const i=()=>{r().catch(console.error)};return window.addEventListener("beforeunload",i),()=>window.removeEventListener("beforeunload",i)},[r]),{extendSession:s,saveState:r}},Nz=()=>window.location.protocol==="capacitor:"||window.location.protocol==="ionic:"||window.navigator.userAgent.includes("Capacitor"),Sz=()=>"https://ezeyway.com/api",qx=["http://localhost:8000","http://10.0.2.2:8000","http://192.168.1.100:8000"],kz=()=>"ws://localhost:8000",ws={BASE_URL:Sz(),WS_BASE_URL:kz()};console.log("API Config Debug:",{isMobile:Nz(),protocol:window.location.protocol,userAgent:window.navigator.userAgent,baseUrl:ws.BASE_URL,wsUrl:ws.WS_BASE_URL});const mp=(e="")=>`${ws.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,kP=e=>e.startsWith("/")?e:`/${e}`,st=`${ws.BASE_URL}/`,Cz=Object.freeze(Object.defineProperty({__proto__:null,API_BASE:st,API_CONFIG:ws,FALLBACK_URLS:qx,getApiUrl:mp,normalizeEndpoint:kP},Symbol.toStringTag,{value:"Module"})),yd=mp("");class Ez{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Re.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getCart(){if(!await Re.getToken())throw new Error("User not authenticated");const s=await fetch(`${yd}cart/`,{headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch cart");return s.json()}async addToCart(t,s=1){const r=await fetch(`${yd}cart/add/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t,quantity:s})});if(!r.ok)throw new Error("Failed to add item to cart");return(await r.json()).cart}async updateCartItem(t,s){const r=await fetch(`${yd}cart/items/${t}/update/`,{method:"PUT",headers:await this.getAuthHeaders(),body:JSON.stringify({quantity:s})});if(!r.ok)throw new Error("Failed to update cart item");return(await r.json()).cart}async removeFromCart(t){const s=await fetch(`${yd}cart/items/${t}/remove/`,{method:"DELETE",headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to remove item from cart");return(await s.json()).cart}async clearCart(){if(!(await fetch(`${yd}cart/clear/`,{method:"DELETE",headers:await this.getAuthHeaders()})).ok)throw new Error("Failed to clear cart")}}const bd=new Ez,CP=j.createContext(void 0),Pz=({children:e})=>{const[t,s]=j.useState(null),[r,i]=j.useState(!1),{toast:a}=un(),o=async()=>{try{if(!await Re.getToken())return;i(!0);const u=await bd.getCart();s(u)}catch(m){m.message.includes("not authenticated")||console.error("Failed to fetch cart:",m)}finally{i(!1)}},c=async(m,u=1)=>{try{if(!await Re.getToken()){a({title:"Login Required",description:"Please login to add items to cart",variant:"destructive"});return}const y=await bd.addToCart(m,u);s(y),a({title:"Success",description:"Item added to cart"})}catch{a({title:"Error",description:"Failed to add item to cart",variant:"destructive"})}},d=async(m,u)=>{try{const p=await bd.updateCartItem(m,u);s(p)}catch{a({title:"Error",description:"Failed to update item quantity",variant:"destructive"})}},h=async m=>{try{const u=await bd.removeFromCart(m);s(u),a({title:"Success",description:"Item removed from cart"})}catch{a({title:"Error",description:"Failed to remove item",variant:"destructive"})}},f=async()=>{try{await bd.clearCart(),s({...t,items:[],total_items:0,subtotal:0}),a({title:"Success",description:"Cart cleared"})}catch{a({title:"Error",description:"Failed to clear cart",variant:"destructive"})}};return j.useEffect(()=>{(async()=>{await Re.getToken()&&o()})()},[]),n.jsx(CP.Provider,{value:{cart:t,loading:r,addToCart:c,updateCartItem:d,removeFromCart:h,clearCart:f,fetchCart:o},children:e})},fr=()=>{const e=j.useContext(CP);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},Tz=({children:e})=>{const{dispatch:t}=ra(),[s,r]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{await Re.isAuthenticated()&&(await Re.isSessionValid()||await Re.clearAuth())}catch(a){console.error("Auth initialization failed:",a)}finally{r(!0)}})()},[t]),s?n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})})},Qr=({children:e})=>{const t=rt(),[s,r]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const a=await Re.isAuthenticated();r(a),a||t("/login")}catch(a){console.error("Auth check failed:",a),r(!1),t("/login")}})()},[t]),s===null?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s?n.jsx(n.Fragment,{children:e}):null},Wa="/assets/ezeywaylogo.png";function Az(){const e=rt();return j.useEffect(()=>{(async()=>{try{const{simplePersistentAuth:s}=await Je(async()=>{const{simplePersistentAuth:c}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:c}},[]);if(await s.isVendorLoggedIn()){console.log(" Vendor already logged in, redirecting to dashboard"),e("/vendor/dashboard");return}const{authService:i}=await Je(async()=>{const{authService:c}=await Promise.resolve().then(()=>Pu);return{authService:c}},void 0),a=await i.isAuthenticated(),o=await i.getUser();if(a&&o&&o.user_type==="customer"){console.log(" Customer already logged in, redirecting to home"),e("/home");return}console.log(" No authentication found, redirecting to home"),e("/home")}catch(s){console.error("Error checking authentication:",s),e("/home")}})()},[e]),n.jsx("div",{className:"h-screen w-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-32 h-32 mx-auto animate-pulse object-contain"}),n.jsx("div",{className:"mt-4",children:n.jsxs("div",{className:"flex justify-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})})}const Oz=Gu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",brand:"gradient-primary text-primary-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",accent:"gradient-accent text-accent-foreground font-semibold shadow-brand hover:scale-105 transition-bounce",premium:"bg-primary-dark text-primary-foreground border border-primary-light/20 shadow-lg hover:bg-primary hover:shadow-brand transition-smooth"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ne=j.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},a)=>{const o=r?kI:"button";return n.jsx(o,{className:Ge(Oz({variant:t,size:s,className:e})),ref:a,...i})});ne.displayName="Button";const ge=j.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:Ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));ge.displayName="Input";const EP=()=>window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",Rz=()=>{if(!EP())return;const e=document.createElement("div");e.innerHTML=`
    <div style="
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: #f59e0b;
      color: white;
      padding: 8px 16px;
      text-align: center;
      z-index: 9999;
      font-size: 14px;
      font-weight: 500;
    ">
       Backend server not running on localhost:8000. Please start your Django server.
      <button onclick="this.parentElement.parentElement.remove()" style="
        background: none;
        border: none;
        color: white;
        margin-left: 16px;
        cursor: pointer;
        font-size: 16px;
      "></button>
    </div>
  `,document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.remove()},1e4)};let BN=!1;const Sb=async(e=!0,t=!1)=>{const s={"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"};if(t||(s["Content-Type"]="application/json"),e){const r=await Re.getToken();r&&(s.Authorization=`Token ${r}`)}return s},Be=async(e,t={},s=!0)=>{var c,d,h,f,m;const r=kP(e),i=`${ws.BASE_URL}${r}`,a=t.body instanceof FormData,o={headers:await Sb(s,a),...t};if(console.log(" API Request:",e,"Auth:",s),console.log(" Full URL:",i),e.includes("accept")&&(console.log(" ORDER ACCEPT REQUEST DETECTED!"),console.log(" Original endpoint:",e),console.log(" Normalized endpoint:",r),console.log(" API_CONFIG.BASE_URL:",ws.BASE_URL),console.log(" Final URL:",i)),e.includes("switch-role")||e.includes("switch")){console.log(" SWITCH ROLE REQUEST DETECTED!"),console.log(" Full URL:",i),console.log(" Include Auth:",s),console.log(" Request Headers:",JSON.stringify(o.headers,null,2));const{authService:u}=await Je(async()=>{const{authService:w}=await Promise.resolve().then(()=>Pu);return{authService:w}},void 0),p=await u.getToken();console.log(" Token from authService:",p?`${p.substring(0,10)}...`:"NO TOKEN");const y=typeof localStorage<"u"?localStorage.getItem("token"):"NO LOCALSTORAGE";console.log(" localStorage token:",y?`${y.substring(0,10)}...`:"NO TOKEN IN LOCALSTORAGE");const v=((c=o.headers)==null?void 0:c.Authorization)||((d=o.headers)==null?void 0:d.authorization);console.log(" Authorization header:",v?`${v.substring(0,15)}...`:"NO AUTH HEADER")}t.headers&&(o.headers={...o.headers,...t.headers},a&&o.headers["Content-Type"]&&delete o.headers["Content-Type"]);try{const u=await fetch(i,o),p=u.clone(),y=u.headers.get("content-type");if(y&&y.includes("application/json"))try{const v=await u.json();return{response:p,data:v}}catch(v){return console.warn("Failed to parse JSON response:",v),{response:p,data:null}}else return console.warn("API returned non-JSON response:",u.status,u.statusText),{response:p,data:null}}catch(u){if(console.error("API request failed:",u),EP()&&!BN&&((h=u.message)!=null&&h.includes("fetch"))&&(BN=!0,Rz()),i.includes("ngrok-free.app")&&((f=u.message)!=null&&f.includes("Unable to resolve host")||(m=u.message)!=null&&m.includes("UnknownHostException"))){console.log("Ngrok failed, trying fallback URLs...");for(let p=1;p<qx.length;p++){const v=`${qx[p]}${r}`;try{console.log(`Trying fallback URL: ${v}`);const w=await fetch(v,{...o,headers:{...o.headers,"ngrok-skip-browser-warning":void 0,"x-ngrok-skip-browser-warning":void 0}}),x=w.clone(),b=w.headers.get("content-type");if(b&&b.includes("application/json"))try{const _=await w.json();return console.log(`Fallback URL ${v} succeeded`),{response:x,data:_}}catch{return console.log(`Fallback URL ${v} succeeded (non-JSON)`),{response:x,data:null}}else return console.log(`Fallback URL ${v} succeeded (non-JSON)`),{response:x,data:null}}catch(w){console.error(`Fallback URL ${v} failed:`,w);continue}}}throw u}},Zn=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Be,createApiHeaders:Sb},Symbol.toStringTag,{value:"Module"}));function PP({currentType:e}){const t=rt(),s=hr(),r=()=>{t(e==="customer"?"/vendor/login":"/login",{state:s.state})};return n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/90 backdrop-blur-sm rounded-xl text-sm font-medium text-gray-600 hover:bg-white hover:text-blue-600 transition-all shadow-lg border border-white/20",children:e==="customer"?n.jsxs(n.Fragment,{children:[n.jsx(ps,{className:"h-4 w-4"}),"Vendor Login"]}):n.jsxs(n.Fragment,{children:[n.jsx(Or,{className:"h-4 w-4"}),"Customer Login"]})})})}function Lz(){const e=rt(),t=hr(),{login:s}=ra(),[r,i]=j.useState("password"),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,y]=j.useState(!1),[v,w]=j.useState(!1),[x,b]=j.useState("");j.useEffect(()=>{(async()=>{try{await Re.isAuthenticated()&&(await Re.isSessionValid()||await Re.clearAuth())}catch(P){console.error("Session check failed:",P)}})()},[]);const _=async()=>{var k,P;w(!0),b("");try{await Re.clearAuth();const{response:R,data:E}=await Be("/login/",{method:"POST",body:JSON.stringify({username:a,password:c})},!1);if(!R.ok)throw new Error((E==null?void 0:E.error)||"Login failed");if(E.user&&E.token){const T={...E.user,available_roles:E.available_roles||["customer"],user_type:E.user.user_type||"customer"};await s(T,E.token);const A=((P=(k=t.state)==null?void 0:k.from)==null?void 0:P.pathname)||"/home";e(A,{replace:!0})}else throw new Error("Invalid login response")}catch(R){b(R.message)}finally{w(!1)}},N=async()=>{w(!0),b("");try{const{response:k,data:P}=await Be("/send-otp/",{method:"POST",body:JSON.stringify({email:a})},!1);if(!k.ok)throw new Error((P==null?void 0:P.error)||"Failed to send OTP");y(!0),b("OTP sent successfully")}catch(k){b(k.message)}finally{w(!1)}},C=async()=>{var k,P;w(!0),b("");try{const{response:R,data:E}=await Be("/verify-otp/",{method:"POST",body:JSON.stringify({email:a,otp:h})},!1);if(!R.ok)throw new Error((E==null?void 0:E.error)||"OTP verification failed");if(E.user&&E.token){const A={...E.user,available_roles:E.available_roles||["customer"],user_type:E.user.user_type||"customer"};await s(A,E.token)}const T=((P=(k=t.state)==null?void 0:k.from)==null?void 0:P.pathname)||"/home";e(T,{replace:!0})}catch(R){b(R.message)}finally{w(!1)}},I=()=>{e("/signup")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[n.jsx(PP,{currentType:"customer"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Customer Login"})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>i("password"),className:`pb-2 text-sm font-medium transition-colors ${r==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),n.jsx("button",{onClick:()=>i("otp"),className:`pb-2 text-sm font-medium transition-colors ${r==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),r==="password"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:a,onChange:k=>o(k.target.value),placeholder:"Phone Number or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:m?"text":"password",value:c,onChange:k=>d(k.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>u(!m),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),x&&n.jsx("p",{className:"text-red-600 text-center",children:x}),n.jsx(ne,{onClick:_,disabled:!a||!c||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Logging in...":"Login"})]}),r==="otp"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:a,onChange:k=>o(k.target.value),placeholder:"Enter your phone number or email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),x&&n.jsx("p",{className:"text-red-600 text-center",children:x}),p?n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx(ge,{type:"text",value:h,onChange:k=>f(k.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),n.jsx(ne,{onClick:C,disabled:h.length!==6||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Verifying...":"Verify & Login"}),n.jsx("button",{onClick:N,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):n.jsx(ne,{onClick:N,disabled:!a||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Sending...":"Send OTP"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:I,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}const Mz=Gu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function De({className:e,variant:t,...s}){return n.jsx("div",{className:Ge(Mz({variant:t}),e),...s})}let sv=null;const Iz=async()=>{if(!sv){const{notificationService:e}=await Je(async()=>{const{notificationService:t}=await Promise.resolve().then(()=>TP);return{notificationService:t}},void 0);sv=e}return sv};class Dz{async getConversations(){try{const{response:t,data:s}=await Be("messaging/conversations/");return t.ok?Array.isArray(s)?s:(s==null?void 0:s.results)||[]:[]}catch{return[]}}async getMessages(t){try{const{response:s,data:r}=await Be(`messaging/conversations/${t}/messages/`);return s.ok?(console.log("Messages API response:",r),Array.isArray(r)?r:(r==null?void 0:r.results)||[]):(console.error(`Messages API error: ${s.status}`),[])}catch(s){return console.error("Messages API error:",s),[]}}async sendMessage(t){try{const s=new FormData;t.conversation_id&&s.append("conversation_id",t.conversation_id.toString()),t.recipient_id&&s.append("recipient_id",t.recipient_id.toString()),s.append("message_type",t.message_type),t.content&&s.append("content",t.content),t.file&&s.append("file",t.file);const{response:r,data:i}=await Be("/messaging/messages/send/",{method:"POST",body:s});if(!r.ok)throw console.error(`Message send failed: ${r.status}`),new Error(`HTTP ${r.status}`);return console.log("Message sent successfully:",i),i}catch{console.warn("Backend not available, simulating message send");const r=await Re.getUser();return{message:{id:Date.now(),sender:{id:(r==null?void 0:r.id)||0,username:(r==null?void 0:r.username)||"You"},message_type:t.message_type,content:t.content,status:"sent",is_pinned:!1,created_at:new Date().toISOString(),is_read:!1}}}}async handleIncomingMessage(t,s){try{(await Iz()).showBrowserNotification(`New message from ${s}`,{body:t.content||"New message received",tag:`message-${t.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("newMessage",{detail:{message:t,senderName:s}}))}catch(r){console.error("Failed to handle incoming message notification:",r)}}async getOrCreateConversation(t){try{const{response:s,data:r}=await Be(`messaging/conversations/user/${t}/`);if(!s.ok)throw new Error(`HTTP ${s.status}`);return r||this.createMockConversation(t)}catch{return console.warn("Backend not available, creating mock conversation"),this.createMockConversation(t)}}createMockConversation(t){return{id:t,participants:[],last_message:void 0,unread_count:0,other_participant:{id:t,username:t===1?"EzzeYway Support":`User ${t}`,profile_picture:void 0}}}}const Vs=new Dz;typeof window<"u"&&window.addEventListener("message",async e=>{var t,s;if(((t=e.data)==null?void 0:t.type)==="new_message"){const{message:r}=e.data;await Vs.handleIncomingMessage(r,((s=r.sender)==null?void 0:s.username)||"Unknown")}});class Fz{constructor(){Yr(this,"audio",null);Yr(this,"isInitialized",!1)}async initialize(){if(!this.isInitialized){if(this.audio=null,"serviceWorker"in navigator&&!vt.isNativePlatform())try{const t=await navigator.serviceWorker.register("/sw.js");console.log("Service Worker registered successfully"),navigator.serviceWorker.addEventListener("message",s=>{s.data&&s.data.type==="SHOW_ORDER_MODAL"&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:s.data.data}))}),document.addEventListener("visibilitychange",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"VISIBILITY_CHANGE",hidden:document.hidden})}),"sync"in window.ServiceWorkerRegistration.prototype&&t.sync.register("background-sync-orders")}catch(t){console.error("Service Worker registration failed:",t)}!vt.isNativePlatform()&&"Notification"in window&&(Notification.permission==="default"?await Notification.requestPermission()==="granted"?(console.log("Notification permission granted"),this.showTestNotification()):console.warn("Notification permission denied"):Notification.permission==="granted"&&console.log("Notification permission already granted")),console.log("Notification service initialized for:",vt.isNativePlatform()?"mobile":"web"),this.isInitialized=!0}}async initializeMobileNotifications(){try{if(vt.isNativePlatform()){const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:a}=await import("./index-CxvHkTHk.js");return{LocalNotifications:a}},[]),{PushNotifications:s}=await Je(async()=>{const{PushNotifications:a}=await Promise.resolve().then(()=>D4);return{PushNotifications:a}},void 0),{Haptics:r,ImpactStyle:i}=await Je(async()=>{const{Haptics:a,ImpactStyle:o}=await import("./index-J9J7vQlA.js");return{Haptics:a,ImpactStyle:o}},[]);await t.requestPermissions(),await s.requestPermissions(),await s.register(),s.addListener("pushNotificationReceived",async a=>{console.log("Push notification received:",a),await this.handleMobileOrderNotification(a.data)}),s.addListener("pushNotificationActionPerformed",async a=>{console.log("Push notification tapped:",a);const o=a.notification.data;(o==null?void 0:o.type)==="order"&&(await r.impact({style:i.Heavy}),this.openOrderModal(o))}),t.addListener("localNotificationActionPerformed",async a=>{console.log("Local notification tapped:",a);const o=a.notification.extra;(o==null?void 0:o.type)==="order"&&(await r.impact({style:i.Heavy}),this.openOrderModal(o))})}}catch(t){console.error("Failed to initialize mobile notifications:",t)}}async playNotificationSound(){this.createBeepSound()}createBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);this.playBeep(t,523,.2,.3),setTimeout(()=>this.playBeep(t,659,.2,.3),200),setTimeout(()=>this.playBeep(t,784,.3,.4),400)}catch(t){console.warn("Web Audio API not supported:",t)}}playBeep(t,s,r,i){const a=t.createOscillator(),o=t.createGain();a.connect(o),o.connect(t.destination),a.frequency.value=s,a.type="sine",o.gain.setValueAtTime(0,t.currentTime),o.gain.linearRampToValueAtTime(i,t.currentTime+.05),o.gain.exponentialRampToValueAtTime(.01,t.currentTime+r),a.start(t.currentTime),a.stop(t.currentTime+r)}async showTestNotification(){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const t=new Notification("Notifications Enabled!",{body:"You will now receive order notifications even when the app is in the background.",icon:"/favicon.ico",badge:"/favicon.ico",tag:"test-notification",requireInteraction:!1});setTimeout(()=>t.close(),3e3)}}async showOrderNotification(t,s,r){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order Received!",{body:`Order #${t} - ${s}
Tap to view and respond`,icon:"/favicon.ico",tag:`order-${r}`,requireInteraction:!0});i.onclick=()=>{window.focus(),this.openOrderModal({orderId:r,orderNumber:t,amount:s}),i.close()},setTimeout(()=>i.close(),15e3)}vt.isNativePlatform()&&("vibrate"in navigator&&navigator.vibrate([300,100,300,100,500]),this.openOrderModal({orderId:r,orderNumber:t,amount:s}))}async showBrowserNotification(t,s,r,i){if(!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const a=new Notification(t,{body:s,icon:"/favicon.ico",badge:"/favicon.ico",tag:`message-${r}`,requireInteraction:!0,data:{conversationId:r,userType:i}});a.onclick=()=>{window.focus(),this.navigateToConversation(r,i),a.close()},setTimeout(()=>a.close(),1e4)}}async showMobileOrderNotification(t,s,r){if(vt.isNativePlatform())try{const{LocalNotifications:i}=await Je(async()=>{const{LocalNotifications:c}=await import("./index-CxvHkTHk.js");return{LocalNotifications:c}},[]),{Haptics:a,ImpactStyle:o}=await Je(async()=>{const{Haptics:c,ImpactStyle:d}=await import("./index-J9J7vQlA.js");return{Haptics:c,ImpactStyle:d}},[]);await a.impact({style:o.Heavy}),await i.schedule({notifications:[{title:" New Order Received!",body:`Order #${t} - ${s}
Tap to accept/reject`,id:Date.now(),sound:"default",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF6B35",actionTypeId:"OPEN_ORDER",extra:{type:"order",orderId:r,orderNumber:t,amount:s,autoOpen:!0}}]})}catch(i){console.error("Failed to show mobile order notification:",i)}}async showMobileNotification(t,s,r,i){if(vt.isNativePlatform())try{const{LocalNotifications:a}=await Je(async()=>{const{LocalNotifications:o}=await import("./index-CxvHkTHk.js");return{LocalNotifications:o}},[]);await a.schedule({notifications:[{title:t,body:s,id:Date.now(),schedule:{at:new Date(Date.now()+1e3)},sound:"default",attachments:[],actionTypeId:"OPEN_MESSAGE",extra:{conversationId:r,userType:i}}]})}catch(a){console.error("Failed to show mobile notification:",a)}}openOrderModal(t){if(window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),vt.isNativePlatform()){const s=window.location.pathname;!s.includes("/vendor/home")&&!s.includes("/vendor/dashboard")&&(window.location.href="/vendor/home")}}async handleMobileOrderNotification(t){try{const{Haptics:s,ImpactStyle:r}=await Je(async()=>{const{Haptics:i,ImpactStyle:a}=await import("./index-J9J7vQlA.js");return{Haptics:i,ImpactStyle:a}},[]);await s.impact({style:r.Heavy}),await this.playNotificationSound(),this.openOrderModal(t)}catch(s){console.error("Error handling mobile order notification:",s)}}navigateToConversation(t,s){const i={vendor:`/vendor/messages/${t}`,customer:`/messages/${t}`,superadmin:`/accounts/superadmin/messages/${t}/`}[s];i&&(window.location.href=i)}async notifyNewMessage(t,s,r,i){await this.initialize();const a=`New message from ${t}`,o=s.length>50?s.substring(0,50)+"...":s;await this.playNotificationSound(),await this.showBrowserNotification(a,o,r,i),await this.showMobileNotification(a,o,r,i)}async requestPermissions(){return await this.initialize(),!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"}async requestPermission(){return this.requestPermissions()}async getNotifications(){try{const t=await fetch("/api/vendor-notifications/",{headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return t.ok?(await t.json()).results||[]:[]}catch(t){return console.error("Failed to fetch notifications:",t),[]}}async getUnreadCount(){try{return(await this.getNotifications()).filter(s=>!s.read).length}catch(t){return console.error("Failed to get unread count:",t),0}}async markAsRead(t){try{(await fetch(`/api/notifications/${t}/read/`,{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok&&console.log("Notification marked as read:",t)}catch(s){console.error("Failed to mark notification as read:",s)}}async markAllAsRead(){try{(await fetch("/api/notifications/mark-all-read/",{method:"POST",headers:{Authorization:`Token ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok&&console.log("All notifications marked as read")}catch(t){console.error("Failed to mark all notifications as read:",t)}}async showBrowserNotificationCompat(t,s){if(await this.playNotificationSound(),!vt.isNativePlatform()&&"Notification"in window&&Notification.permission==="granted"){const r=new Notification(t,{body:s.body,icon:"/favicon.ico",badge:"/favicon.ico",tag:s.tag,requireInteraction:s.requireInteraction,data:s.data,silent:!1});r.onclick=()=>{var i;window.focus(),(i=s.data)!=null&&i.actionUrl&&(window.location.href=s.data.actionUrl),r.close()},setTimeout(()=>r.close(),1e4)}}}const Wt=new Fz,TP=Object.freeze(Object.defineProperty({__proto__:null,notificationService:Wt},Symbol.toStringTag,{value:"Module"}));function $z(){const[e,t]=j.useState([]),[s,r]=j.useState(0),[i,a]=j.useState(!1),o=async()=>{try{a(!0);const[h,f]=await Promise.all([Wt.getNotifications(),Wt.getUnreadCount()]);t(h),r(f)}catch(h){console.error("Failed to load notifications:",h)}finally{a(!1)}},c=async h=>{try{await Wt.markAsRead(h),r(f=>Math.max(0,f-1)),t(f=>f.map(m=>m.id===h?{...m,read:!0}:m))}catch(f){console.error("Failed to mark notification as read:",f)}},d=async()=>{try{await Wt.markAllAsRead(),r(0),t(h=>h.map(f=>({...f,read:!0})))}catch(h){console.error("Failed to mark all notifications as read:",h)}};return j.useEffect(()=>{o();const h=setInterval(o,1e4);return()=>clearInterval(h)},[]),j.useEffect(()=>{Wt.requestPermission()},[]),{notifications:e,unreadCount:s,isLoading:i,markAsRead:c,markAllAsRead:d,refreshNotifications:o}}var zz=j.createContext(void 0);function $c(e){const t=j.useContext(zz);return e||t||"ltr"}var rv=0;function kb(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VN()),document.body.insertAdjacentElement("beforeend",e[1]??VN()),rv++,()=>{rv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),rv--}},[])}function VN(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var iv="focusScope.autoFocusOnMount",av="focusScope.autoFocusOnUnmount",UN={bubbles:!1,cancelable:!0},Bz="FocusScope",pp=j.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[c,d]=j.useState(null),h=gn(i),f=gn(a),m=j.useRef(null),u=ht(t,v=>d(v)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let v=function(_){if(p.paused||!c)return;const N=_.target;c.contains(N)?m.current=N:fa(m.current,{select:!0})},w=function(_){if(p.paused||!c)return;const N=_.relatedTarget;N!==null&&(c.contains(N)||fa(m.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&fa(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const b=new MutationObserver(x);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),b.disconnect()}}},[r,c,p.paused]),j.useEffect(()=>{if(c){HN.add(p);const v=document.activeElement;if(!c.contains(v)){const x=new CustomEvent(iv,UN);c.addEventListener(iv,h),c.dispatchEvent(x),x.defaultPrevented||(Vz(Zz(AP(c)),{select:!0}),document.activeElement===v&&fa(c))}return()=>{c.removeEventListener(iv,h),setTimeout(()=>{const x=new CustomEvent(av,UN);c.addEventListener(av,f),c.dispatchEvent(x),x.defaultPrevented||fa(v??document.body,{select:!0}),c.removeEventListener(av,f),HN.remove(p)},0)}}},[c,h,f,p]);const y=j.useCallback(v=>{if(!s&&!r||p.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(w&&x){const b=v.currentTarget,[_,N]=Uz(b);_&&N?!v.shiftKey&&x===N?(v.preventDefault(),s&&fa(_,{select:!0})):v.shiftKey&&x===_&&(v.preventDefault(),s&&fa(N,{select:!0})):x===b&&v.preventDefault()}},[s,r,p.paused]);return n.jsx(Xe.div,{tabIndex:-1,...o,ref:u,onKeyDown:y})});pp.displayName=Bz;function Vz(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(fa(r,{select:t}),document.activeElement!==s)return}function Uz(e){const t=AP(e),s=qN(t,e),r=qN(t.reverse(),e);return[s,r]}function AP(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function qN(e,t){for(const s of e)if(!qz(s,{upTo:t}))return s}function qz(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hz(e){return e instanceof HTMLInputElement&&"select"in e}function fa(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&Hz(e)&&t&&e.select()}}var HN=Wz();function Wz(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=WN(e,t),e.unshift(t)},remove(t){var s;e=WN(e,t),(s=e[0])==null||s.resume()}}}function WN(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function Zz(e){return e.filter(t=>t.tagName!=="A")}var ov="rovingFocusGroup.onEntryFocus",Gz={bubbles:!1,cancelable:!0},Ju="RovingFocusGroup",[Hx,OP,Kz]=Xm(Ju),[Yz,zc]=ls(Ju,[Kz]),[Xz,Qz]=Yz(Ju),RP=j.forwardRef((e,t)=>n.jsx(Hx.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Hx.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Jz,{...e,ref:t})})}));RP.displayName=Ju;var Jz=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...m}=e,u=j.useRef(null),p=ht(t,u),y=$c(a),[v,w]=Fr({prop:o,defaultProp:c??null,onChange:d,caller:Ju}),[x,b]=j.useState(!1),_=gn(h),N=OP(s),C=j.useRef(!1),[I,k]=j.useState(0);return j.useEffect(()=>{const P=u.current;if(P)return P.addEventListener(ov,_),()=>P.removeEventListener(ov,_)},[_]),n.jsx(Xz,{scope:s,orientation:r,dir:y,loop:i,currentTabStopId:v,onItemFocus:j.useCallback(P=>w(P),[w]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:j.useCallback(()=>k(P=>P-1),[]),children:n.jsx(Xe.div,{tabIndex:x||I===0?-1:0,"data-orientation":r,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{C.current=!0}),onFocus:Me(e.onFocus,P=>{const R=!C.current;if(P.target===P.currentTarget&&R&&!x){const E=new CustomEvent(ov,Gz);if(P.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=N().filter(G=>G.focusable),A=T.find(G=>G.active),$=T.find(G=>G.id===v),F=[A,$,...T].filter(Boolean).map(G=>G.ref.current);IP(F,f)}}C.current=!1}),onBlur:Me(e.onBlur,()=>b(!1))})})}),LP="RovingFocusGroupItem",MP=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...c}=e,d=Ir(),h=a||d,f=Qz(LP,s),m=f.currentTabStopId===h,u=OP(s),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:v}=f;return j.useEffect(()=>{if(r)return p(),()=>y()},[r,p,y]),n.jsx(Hx.ItemSlot,{scope:s,id:h,focusable:r,active:i,children:n.jsx(Xe.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:Me(e.onMouseDown,w=>{r?f.onItemFocus(h):w.preventDefault()}),onFocus:Me(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:Me(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const x=nB(w,f.orientation,f.dir);if(x!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let _=u().filter(N=>N.focusable).map(N=>N.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const N=_.indexOf(w.currentTarget);_=f.loop?sB(_,N+1):_.slice(N+1)}setTimeout(()=>IP(_))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:v!=null}):o})})});MP.displayName=LP;var eB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nB(e,t,s){const r=tB(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return eB[r]}function IP(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function sB(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var Cb=RP,Eb=MP,rB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fl=new WeakMap,Kh=new WeakMap,Yh={},lv=0,DP=function(e){return e&&(e.host||DP(e.parentNode))},iB=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=DP(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},aB=function(e,t,s,r){var i=iB(t,Array.isArray(e)?e:[e]);Yh[s]||(Yh[s]=new WeakMap);var a=Yh[s],o=[],c=new Set,d=new Set(i),h=function(m){!m||c.has(m)||(c.add(m),h(m.parentNode))};i.forEach(h);var f=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(u){if(c.has(u))f(u);else try{var p=u.getAttribute(r),y=p!==null&&p!=="false",v=(fl.get(u)||0)+1,w=(a.get(u)||0)+1;fl.set(u,v),a.set(u,w),o.push(u),v===1&&y&&Kh.set(u,!0),w===1&&u.setAttribute(s,"true"),y||u.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",u,x)}})};return f(t),c.clear(),lv++,function(){o.forEach(function(m){var u=fl.get(m)-1,p=a.get(m)-1;fl.set(m,u),a.set(m,p),u||(Kh.has(m)||m.removeAttribute(r),Kh.delete(m)),p||m.removeAttribute(s)}),lv--,lv||(fl=new WeakMap,fl=new WeakMap,Kh=new WeakMap,Yh={})}},Pb=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=rB(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),aB(r,i,s,"aria-hidden")):function(){return null}},ai=function(){return ai=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ai.apply(this,arguments)};function FP(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}function oB(e,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var wf="right-scroll-bar-position",jf="width-before-scroll-bar",lB="with-scroll-bars-hidden",cB="--removed-body-scroll-bar-size";function cv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function dB(e,t){var s=j.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var uB=typeof window<"u"?j.useLayoutEffect:j.useEffect,ZN=new WeakMap;function hB(e,t){var s=dB(null,function(r){return e.forEach(function(i){return cv(i,r)})});return uB(function(){var r=ZN.get(s);if(r){var i=new Set(r),a=new Set(e),o=s.current;i.forEach(function(c){a.has(c)||cv(c,null)}),a.forEach(function(c){i.has(c)||cv(c,o)})}ZN.set(s,e)},[e]),s}function fB(e){return e}function mB(e,t){t===void 0&&(t=fB);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var o=t(a,r);return s.push(o),function(){s=s.filter(function(c){return c!==o})}},assignSyncMedium:function(a){for(r=!0;s.length;){var o=s;s=[],o.forEach(a)}s={push:function(c){return a(c)},filter:function(){return s}}},assignMedium:function(a){r=!0;var o=[];if(s.length){var c=s;s=[],c.forEach(a),o=s}var d=function(){var f=o;o=[],f.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),s={push:function(f){o.push(f),h()},filter:function(f){return o=o.filter(f),s}}}};return i}function pB(e){e===void 0&&(e={});var t=mB(null);return t.options=ai({async:!0,ssr:!1},e),t}var $P=function(e){var t=e.sideCar,s=FP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,ai({},s))};$P.isSideCarExport=!0;function gB(e,t){return e.useMedium(t),$P}var zP=pB(),dv=function(){},gp=j.forwardRef(function(e,t){var s=j.useRef(null),r=j.useState({onScrollCapture:dv,onWheelCapture:dv,onTouchMoveCapture:dv}),i=r[0],a=r[1],o=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,m=e.shards,u=e.sideCar,p=e.noRelative,y=e.noIsolation,v=e.inert,w=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,_=e.gapMode,N=FP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=u,I=hB([s,t]),k=ai(ai({},N),i);return j.createElement(j.Fragment,null,f&&j.createElement(C,{sideCar:zP,removeScrollBar:h,shards:m,noRelative:p,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!w,lockRef:s,gapMode:_}),o?j.cloneElement(j.Children.only(c),ai(ai({},k),{ref:I})):j.createElement(b,ai({},k,{className:d,ref:I}),c))});gp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gp.classNames={fullWidth:jf,zeroRight:wf};var vB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vB();return t&&e.setAttribute("nonce",t),e}function yB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wB=function(){var e=0,t=null;return{add:function(s){e==0&&(t=xB())&&(yB(t,s),bB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jB=function(){var e=wB();return function(t,s){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},BP=function(){var e=jB(),t=function(s){var r=s.styles,i=s.dynamic;return e(r,i),null};return t},_B={left:0,top:0,right:0,gap:0},uv=function(e){return parseInt(e||"",10)||0},NB=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[uv(s),uv(r),uv(i)]},SB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _B;var t=NB(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},kB=BP(),Kl="data-scroll-locked",CB=function(e,t,s,r){var i=e.left,a=e.top,o=e.right,c=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(lB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Kl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(jf,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jf," .").concat(jf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kl,`] {
    `).concat(cB,": ").concat(c,`px;
  }
`)},GN=function(){var e=parseInt(document.body.getAttribute(Kl)||"0",10);return isFinite(e)?e:0},EB=function(){j.useEffect(function(){return document.body.setAttribute(Kl,(GN()+1).toString()),function(){var e=GN()-1;e<=0?document.body.removeAttribute(Kl):document.body.setAttribute(Kl,e.toString())}},[])},PB=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;EB();var a=j.useMemo(function(){return SB(i)},[i]);return j.createElement(kB,{styles:CB(a,!t,i,s?"":"!important")})},Wx=!1;if(typeof window<"u")try{var Xh=Object.defineProperty({},"passive",{get:function(){return Wx=!0,!0}});window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{Wx=!1}var ml=Wx?{passive:!1}:!1,TB=function(e){return e.tagName==="TEXTAREA"},VP=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!TB(e)&&s[t]==="visible")},AB=function(e){return VP(e,"overflowY")},OB=function(e){return VP(e,"overflowX")},KN=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=UP(e,r);if(i){var a=qP(e,r),o=a[1],c=a[2];if(o>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},RB=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},LB=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},UP=function(e,t){return e==="v"?AB(t):OB(t)},qP=function(e,t){return e==="v"?RB(t):LB(t)},MB=function(e,t){return e==="h"&&t==="rtl"?-1:1},IB=function(e,t,s,r,i){var a=MB(e,window.getComputedStyle(t).direction),o=a*r,c=s.target,d=t.contains(c),h=!1,f=o>0,m=0,u=0;do{if(!c)break;var p=qP(e,c),y=p[0],v=p[1],w=p[2],x=v-w-a*y;(y||x)&&UP(e,c)&&(m+=x,u+=y);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(f&&(Math.abs(m)<1||!i)||!f&&(Math.abs(u)<1||!i))&&(h=!0),h},Qh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},YN=function(e){return[e.deltaX,e.deltaY]},XN=function(e){return e&&"current"in e?e.current:e},DB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$B=0,pl=[];function zB(e){var t=j.useRef([]),s=j.useRef([0,0]),r=j.useRef(),i=j.useState($B++)[0],a=j.useState(BP)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=oB([e.lockRef.current],(e.shards||[]).map(XN),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=j.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var x=Qh(v),b=s.current,_="deltaX"in v?v.deltaX:b[0]-x[0],N="deltaY"in v?v.deltaY:b[1]-x[1],C,I=v.target,k=Math.abs(_)>Math.abs(N)?"h":"v";if("touches"in v&&k==="h"&&I.type==="range")return!1;var P=KN(k,I);if(!P)return!0;if(P?C=k:(C=k==="v"?"h":"v",P=KN(k,I)),!P)return!1;if(!r.current&&"changedTouches"in v&&(_||N)&&(r.current=C),!C)return!0;var R=r.current||C;return IB(R,w,v,R==="h"?_:N,!0)},[]),d=j.useCallback(function(v){var w=v;if(!(!pl.length||pl[pl.length-1]!==a)){var x="deltaY"in w?YN(w):Qh(w),b=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&DB(C.delta,x)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var _=(o.current.shards||[]).map(XN).filter(Boolean).filter(function(C){return C.contains(w.target)}),N=_.length>0?c(w,_[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),h=j.useCallback(function(v,w,x,b){var _={name:v,delta:w,target:x,should:b,shadowParent:BB(x)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(N){return N!==_})},1)},[]),f=j.useCallback(function(v){s.current=Qh(v),r.current=void 0},[]),m=j.useCallback(function(v){h(v.type,YN(v),v.target,c(v,e.lockRef.current))},[]),u=j.useCallback(function(v){h(v.type,Qh(v),v.target,c(v,e.lockRef.current))},[]);j.useEffect(function(){return pl.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:u}),document.addEventListener("wheel",d,ml),document.addEventListener("touchmove",d,ml),document.addEventListener("touchstart",f,ml),function(){pl=pl.filter(function(v){return v!==a}),document.removeEventListener("wheel",d,ml),document.removeEventListener("touchmove",d,ml),document.removeEventListener("touchstart",f,ml)}},[]);var p=e.removeScrollBar,y=e.inert;return j.createElement(j.Fragment,null,y?j.createElement(a,{styles:FB(i)}):null,p?j.createElement(PB,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VB=gB(zP,zB);var vp=j.forwardRef(function(e,t){return j.createElement(gp,ai({},e,{ref:t,sideCar:VB}))});vp.classNames=gp.classNames;var Zx=["Enter"," "],UB=["ArrowDown","PageUp","Home"],HP=["ArrowUp","PageDown","End"],qB=[...UB,...HP],HB={ltr:[...Zx,"ArrowRight"],rtl:[...Zx,"ArrowLeft"]},WB={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eh="Menu",[Tu,ZB,GB]=Xm(eh),[tl,WP]=ls(eh,[GB,Dc,zc]),xp=Dc(),ZP=zc(),[KB,nl]=tl(eh),[YB,th]=tl(eh),GP=e=>{const{__scopeMenu:t,open:s=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,c=xp(t),[d,h]=j.useState(null),f=j.useRef(!1),m=gn(a),u=$c(i);return j.useEffect(()=>{const p=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),n.jsx(pb,{...c,children:n.jsx(KB,{scope:t,open:s,onOpenChange:m,content:d,onContentChange:h,children:n.jsx(YB,{scope:t,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:u,modal:o,children:r})})})};GP.displayName=eh;var XB="MenuAnchor",Tb=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,i=xp(s);return n.jsx(gb,{...i,...r,ref:t})});Tb.displayName=XB;var Ab="MenuPortal",[QB,KP]=tl(Ab,{forceMount:void 0}),YP=e=>{const{__scopeMenu:t,forceMount:s,children:r,container:i}=e,a=nl(Ab,t);return n.jsx(QB,{scope:t,forceMount:s,children:n.jsx(Xn,{present:s||a.open,children:n.jsx(Wu,{asChild:!0,container:i,children:r})})})};YP.displayName=Ab;var or="MenuContent",[JB,Ob]=tl(or),XP=j.forwardRef((e,t)=>{const s=KP(or,e.__scopeMenu),{forceMount:r=s.forceMount,...i}=e,a=nl(or,e.__scopeMenu),o=th(or,e.__scopeMenu);return n.jsx(Tu.Provider,{scope:e.__scopeMenu,children:n.jsx(Xn,{present:r||a.open,children:n.jsx(Tu.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(eV,{...i,ref:t}):n.jsx(tV,{...i,ref:t})})})})}),eV=j.forwardRef((e,t)=>{const s=nl(or,e.__scopeMenu),r=j.useRef(null),i=ht(t,r);return j.useEffect(()=>{const a=r.current;if(a)return Pb(a)},[]),n.jsx(Rb,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),tV=j.forwardRef((e,t)=>{const s=nl(or,e.__scopeMenu);return n.jsx(Rb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),nV=qo("MenuContent.ScrollLock"),Rb=j.forwardRef((e,t)=>{const{__scopeMenu:s,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,disableOutsideScroll:y,...v}=e,w=nl(or,s),x=th(or,s),b=xp(s),_=ZP(s),N=ZB(s),[C,I]=j.useState(null),k=j.useRef(null),P=ht(t,k,w.onContentChange),R=j.useRef(0),E=j.useRef(""),T=j.useRef(0),A=j.useRef(null),$=j.useRef("right"),O=j.useRef(0),F=y?vp:j.Fragment,G=y?{as:nV,allowPinchZoom:!0}:void 0,Y=U=>{var H,se;const B=E.current+U,M=N().filter(Q=>!Q.disabled),z=document.activeElement,Z=(H=M.find(Q=>Q.ref.current===z))==null?void 0:H.textValue,W=M.map(Q=>Q.textValue),X=mV(W,B,Z),V=(se=M.find(Q=>Q.textValue===X))==null?void 0:se.ref.current;(function Q(ie){E.current=ie,window.clearTimeout(R.current),ie!==""&&(R.current=window.setTimeout(()=>Q(""),1e3))})(B),V&&setTimeout(()=>V.focus())};j.useEffect(()=>()=>window.clearTimeout(R.current),[]),kb();const K=j.useCallback(U=>{var M,z;return $.current===((M=A.current)==null?void 0:M.side)&&gV(U,(z=A.current)==null?void 0:z.area)},[]);return n.jsx(JB,{scope:s,searchRef:E,onItemEnter:j.useCallback(U=>{K(U)&&U.preventDefault()},[K]),onItemLeave:j.useCallback(U=>{var B;K(U)||((B=k.current)==null||B.focus(),I(null))},[K]),onTriggerLeave:j.useCallback(U=>{K(U)&&U.preventDefault()},[K]),pointerGraceTimerRef:T,onPointerGraceIntentChange:j.useCallback(U=>{A.current=U},[]),children:n.jsx(F,{...G,children:n.jsx(pp,{asChild:!0,trapped:i,onMountAutoFocus:Me(a,U=>{var B;U.preventDefault(),(B=k.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:u,onDismiss:p,children:n.jsx(Cb,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:I,onEntryFocus:Me(d,U=>{x.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(vb,{role:"menu","aria-orientation":"vertical","data-state":fT(w.open),"data-radix-menu-content":"",dir:x.dir,...b,...v,ref:P,style:{outline:"none",...v.style},onKeyDown:Me(v.onKeyDown,U=>{const M=U.target.closest("[data-radix-menu-content]")===U.currentTarget,z=U.ctrlKey||U.altKey||U.metaKey,Z=U.key.length===1;M&&(U.key==="Tab"&&U.preventDefault(),!z&&Z&&Y(U.key));const W=k.current;if(U.target!==W||!qB.includes(U.key))return;U.preventDefault();const V=N().filter(H=>!H.disabled).map(H=>H.ref.current);HP.includes(U.key)&&V.reverse(),hV(V)}),onBlur:Me(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(R.current),E.current="")}),onPointerMove:Me(e.onPointerMove,Au(U=>{const B=U.target,M=O.current!==U.clientX;if(U.currentTarget.contains(B)&&M){const z=U.clientX>O.current?"right":"left";$.current=z,O.current=U.clientX}}))})})})})})})});XP.displayName=or;var sV="MenuGroup",Lb=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Xe.div,{role:"group",...r,ref:t})});Lb.displayName=sV;var rV="MenuLabel",QP=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Xe.div,{...r,ref:t})});QP.displayName=rV;var am="MenuItem",QN="menu.itemSelect",yp=j.forwardRef((e,t)=>{const{disabled:s=!1,onSelect:r,...i}=e,a=j.useRef(null),o=th(am,e.__scopeMenu),c=Ob(am,e.__scopeMenu),d=ht(t,a),h=j.useRef(!1),f=()=>{const m=a.current;if(!s&&m){const u=new CustomEvent(QN,{bubbles:!0,cancelable:!0});m.addEventListener(QN,p=>r==null?void 0:r(p),{once:!0}),K0(m,u),u.defaultPrevented?h.current=!1:o.onClose()}};return n.jsx(JP,{...i,ref:d,disabled:s,onClick:Me(e.onClick,f),onPointerDown:m=>{var u;(u=e.onPointerDown)==null||u.call(e,m),h.current=!0},onPointerUp:Me(e.onPointerUp,m=>{var u;h.current||(u=m.currentTarget)==null||u.click()}),onKeyDown:Me(e.onKeyDown,m=>{const u=c.searchRef.current!=="";s||u&&m.key===" "||Zx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});yp.displayName=am;var JP=j.forwardRef((e,t)=>{const{__scopeMenu:s,disabled:r=!1,textValue:i,...a}=e,o=Ob(am,s),c=ZP(s),d=j.useRef(null),h=ht(t,d),[f,m]=j.useState(!1),[u,p]=j.useState("");return j.useEffect(()=>{const y=d.current;y&&p((y.textContent??"").trim())},[a.children]),n.jsx(Tu.ItemSlot,{scope:s,disabled:r,textValue:i??u,children:n.jsx(Eb,{asChild:!0,...c,focusable:!r,children:n.jsx(Xe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:Me(e.onPointerMove,Au(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Me(e.onPointerLeave,Au(y=>o.onItemLeave(y))),onFocus:Me(e.onFocus,()=>m(!0)),onBlur:Me(e.onBlur,()=>m(!1))})})})}),iV="MenuCheckboxItem",eT=j.forwardRef((e,t)=>{const{checked:s=!1,onCheckedChange:r,...i}=e;return n.jsx(iT,{scope:e.__scopeMenu,checked:s,children:n.jsx(yp,{role:"menuitemcheckbox","aria-checked":om(s)?"mixed":s,...i,ref:t,"data-state":Ib(s),onSelect:Me(i.onSelect,()=>r==null?void 0:r(om(s)?!0:!s),{checkForDefaultPrevented:!1})})})});eT.displayName=iV;var tT="MenuRadioGroup",[aV,oV]=tl(tT,{value:void 0,onValueChange:()=>{}}),nT=j.forwardRef((e,t)=>{const{value:s,onValueChange:r,...i}=e,a=gn(r);return n.jsx(aV,{scope:e.__scopeMenu,value:s,onValueChange:a,children:n.jsx(Lb,{...i,ref:t})})});nT.displayName=tT;var sT="MenuRadioItem",rT=j.forwardRef((e,t)=>{const{value:s,...r}=e,i=oV(sT,e.__scopeMenu),a=s===i.value;return n.jsx(iT,{scope:e.__scopeMenu,checked:a,children:n.jsx(yp,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":Ib(a),onSelect:Me(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,s)},{checkForDefaultPrevented:!1})})})});rT.displayName=sT;var Mb="MenuItemIndicator",[iT,lV]=tl(Mb,{checked:!1}),aT=j.forwardRef((e,t)=>{const{__scopeMenu:s,forceMount:r,...i}=e,a=lV(Mb,s);return n.jsx(Xn,{present:r||om(a.checked)||a.checked===!0,children:n.jsx(Xe.span,{...i,ref:t,"data-state":Ib(a.checked)})})});aT.displayName=Mb;var cV="MenuSeparator",oT=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e;return n.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});oT.displayName=cV;var dV="MenuArrow",lT=j.forwardRef((e,t)=>{const{__scopeMenu:s,...r}=e,i=xp(s);return n.jsx(xb,{...i,...r,ref:t})});lT.displayName=dV;var uV="MenuSub",[yse,cT]=tl(uV),Ad="MenuSubTrigger",dT=j.forwardRef((e,t)=>{const s=nl(Ad,e.__scopeMenu),r=th(Ad,e.__scopeMenu),i=cT(Ad,e.__scopeMenu),a=Ob(Ad,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:e.__scopeMenu},f=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>f,[f]),j.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),n.jsx(Tb,{asChild:!0,...h,children:n.jsx(JP,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":i.contentId,"data-state":fT(s.open),...e,ref:Ym(t,i.onTriggerChange),onClick:m=>{var u;(u=e.onClick)==null||u.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:Me(e.onPointerMove,Au(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!s.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{s.onOpenChange(!0),f()},100))})),onPointerLeave:Me(e.onPointerLeave,Au(m=>{var p,y;f();const u=(p=s.content)==null?void 0:p.getBoundingClientRect();if(u){const v=(y=s.content)==null?void 0:y.dataset.side,w=v==="right",x=w?-5:5,b=u[w?"left":"right"],_=u[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+x,y:m.clientY},{x:b,y:u.top},{x:_,y:u.top},{x:_,y:u.bottom},{x:b,y:u.bottom}],side:v}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Me(e.onKeyDown,m=>{var p;const u=a.searchRef.current!=="";e.disabled||u&&m.key===" "||HB[r.dir].includes(m.key)&&(s.onOpenChange(!0),(p=s.content)==null||p.focus(),m.preventDefault())})})})});dT.displayName=Ad;var uT="MenuSubContent",hT=j.forwardRef((e,t)=>{const s=KP(or,e.__scopeMenu),{forceMount:r=s.forceMount,...i}=e,a=nl(or,e.__scopeMenu),o=th(or,e.__scopeMenu),c=cT(uT,e.__scopeMenu),d=j.useRef(null),h=ht(t,d);return n.jsx(Tu.Provider,{scope:e.__scopeMenu,children:n.jsx(Xn,{present:r||a.open,children:n.jsx(Tu.Slot,{scope:e.__scopeMenu,children:n.jsx(Rb,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Me(e.onFocusOutside,f=>{f.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Me(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Me(e.onKeyDown,f=>{var p;const m=f.currentTarget.contains(f.target),u=WB[o.dir].includes(f.key);m&&u&&(a.onOpenChange(!1),(p=c.trigger)==null||p.focus(),f.preventDefault())})})})})})});hT.displayName=uT;function fT(e){return e?"open":"closed"}function om(e){return e==="indeterminate"}function Ib(e){return om(e)?"indeterminate":e?"checked":"unchecked"}function hV(e){const t=document.activeElement;for(const s of e)if(s===t||(s.focus(),document.activeElement!==t))return}function fV(e,t){return e.map((s,r)=>e[(t+r)%e.length])}function mV(e,t,s){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=fV(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==s));const d=o.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return d!==s?d:void 0}function pV(e,t){const{x:s,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const c=t[a],d=t[o],h=c.x,f=c.y,m=d.x,u=d.y;f>r!=u>r&&s<(m-h)*(r-f)/(u-f)+h&&(i=!i)}return i}function gV(e,t){if(!t)return!1;const s={x:e.clientX,y:e.clientY};return pV(s,t)}function Au(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vV=GP,xV=Tb,yV=YP,bV=XP,wV=Lb,jV=QP,_V=yp,NV=eT,SV=nT,kV=rT,CV=aT,EV=oT,PV=lT,TV=dT,AV=hT,bp="DropdownMenu",[OV,bse]=ls(bp,[WP]),Ss=WP(),[RV,mT]=OV(bp),pT=e=>{const{__scopeDropdownMenu:t,children:s,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,d=Ss(t),h=j.useRef(null),[f,m]=Fr({prop:i,defaultProp:a??!1,onChange:o,caller:bp});return n.jsx(RV,{scope:t,triggerId:Ir(),triggerRef:h,contentId:Ir(),open:f,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(u=>!u),[m]),modal:c,children:n.jsx(vV,{...d,open:f,onOpenChange:m,dir:r,modal:c,children:s})})};pT.displayName=bp;var gT="DropdownMenuTrigger",vT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,disabled:r=!1,...i}=e,a=mT(gT,s),o=Ss(s);return n.jsx(xV,{asChild:!0,...o,children:n.jsx(Xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Ym(t,a.triggerRef),onPointerDown:Me(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:Me(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});vT.displayName=gT;var LV="DropdownMenuPortal",xT=e=>{const{__scopeDropdownMenu:t,...s}=e,r=Ss(t);return n.jsx(yV,{...r,...s})};xT.displayName=LV;var yT="DropdownMenuContent",bT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=mT(yT,s),a=Ss(s),o=j.useRef(!1);return n.jsx(bV,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:Me(e.onCloseAutoFocus,c=>{var d;o.current||(d=i.triggerRef.current)==null||d.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Me(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bT.displayName=yT;var MV="DropdownMenuGroup",IV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(wV,{...i,...r,ref:t})});IV.displayName=MV;var DV="DropdownMenuLabel",wT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(jV,{...i,...r,ref:t})});wT.displayName=DV;var FV="DropdownMenuItem",jT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(_V,{...i,...r,ref:t})});jT.displayName=FV;var $V="DropdownMenuCheckboxItem",_T=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(NV,{...i,...r,ref:t})});_T.displayName=$V;var zV="DropdownMenuRadioGroup",BV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(SV,{...i,...r,ref:t})});BV.displayName=zV;var VV="DropdownMenuRadioItem",NT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(kV,{...i,...r,ref:t})});NT.displayName=VV;var UV="DropdownMenuItemIndicator",ST=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(CV,{...i,...r,ref:t})});ST.displayName=UV;var qV="DropdownMenuSeparator",kT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(EV,{...i,...r,ref:t})});kT.displayName=qV;var HV="DropdownMenuArrow",WV=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(PV,{...i,...r,ref:t})});WV.displayName=HV;var ZV="DropdownMenuSubTrigger",CT=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(TV,{...i,...r,ref:t})});CT.displayName=ZV;var GV="DropdownMenuSubContent",ET=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:s,...r}=e,i=Ss(s);return n.jsx(AV,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ET.displayName=GV;var KV=pT,YV=vT,XV=xT,PT=bT,TT=wT,AT=jT,OT=_T,RT=NT,LT=ST,MT=kT,IT=CT,DT=ET;const vc=KV,xc=YV,QV=j.forwardRef(({className:e,inset:t,children:s,...r},i)=>n.jsxs(IT,{ref:i,className:Ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[s,n.jsx(fc,{className:"ml-auto h-4 w-4"})]}));QV.displayName=IT.displayName;const JV=j.forwardRef(({className:e,...t},s)=>n.jsx(DT,{ref:s,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));JV.displayName=DT.displayName;const Zo=j.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(XV,{children:n.jsx(PT,{ref:r,sideOffset:t,className:Ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Zo.displayName=PT.displayName;const po=j.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(AT,{ref:r,className:Ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...s}));po.displayName=AT.displayName;const e9=j.forwardRef(({className:e,children:t,checked:s,...r},i)=>n.jsxs(OT,{ref:i,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(LT,{children:n.jsx(ep,{className:"h-4 w-4"})})}),t]}));e9.displayName=OT.displayName;const t9=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(RT,{ref:r,className:Ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(LT,{children:n.jsx(gE,{className:"h-2 w-2 fill-current"})})}),t]}));t9.displayName=RT.displayName;const n9=j.forwardRef(({className:e,inset:t,...s},r)=>n.jsx(TT,{ref:r,className:Ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));n9.displayName=TT.displayName;const s9=j.forwardRef(({className:e,...t},s)=>n.jsx(MT,{ref:s,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));s9.displayName=MT.displayName;var FT={exports:{}},$T={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yc=j;function r9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var i9=typeof Object.is=="function"?Object.is:r9,a9=yc.useState,o9=yc.useEffect,l9=yc.useLayoutEffect,c9=yc.useDebugValue;function d9(e,t){var s=t(),r=a9({inst:{value:s,getSnapshot:t}}),i=r[0].inst,a=r[1];return l9(function(){i.value=s,i.getSnapshot=t,hv(i)&&a({inst:i})},[e,s,t]),o9(function(){return hv(i)&&a({inst:i}),e(function(){hv(i)&&a({inst:i})})},[e]),c9(s),s}function hv(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!i9(e,s)}catch{return!0}}function u9(e,t){return t()}var h9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u9:d9;$T.useSyncExternalStore=yc.useSyncExternalStore!==void 0?yc.useSyncExternalStore:h9;FT.exports=$T;var f9=FT.exports;function m9(){return f9.useSyncExternalStore(p9,()=>!0,()=>!1)}function p9(){return()=>{}}var Db="Avatar",[g9,wse]=ls(Db),[v9,zT]=g9(Db),BT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,...r}=e,[i,a]=j.useState("idle");return n.jsx(v9,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:n.jsx(Xe.span,{...r,ref:t})})});BT.displayName=Db;var VT="AvatarImage",UT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=zT(VT,s),c=x9(r,a),d=gn(h=>{i(h),o.onImageLoadingStatusChange(h)});return Cn(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?n.jsx(Xe.img,{...a,ref:t,src:r}):null});UT.displayName=VT;var qT="AvatarFallback",HT=j.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:r,...i}=e,a=zT(qT,s),[o,c]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),o&&a.imageLoadingStatus!=="loaded"?n.jsx(Xe.span,{...i,ref:t}):null});HT.displayName=qT;function JN(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x9(e,{referrerPolicy:t,crossOrigin:s}){const r=m9(),i=j.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,c]=j.useState(()=>JN(a,e));return Cn(()=>{c(JN(a,e))},[a,e]),Cn(()=>{const d=m=>()=>{c(m)};if(!a)return;const h=d("loaded"),f=d("error");return a.addEventListener("load",h),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",h),a.removeEventListener("error",f)}},[a,s,t]),o}var WT=BT,ZT=UT,GT=HT;const Qi=j.forwardRef(({className:e,...t},s)=>n.jsx(WT,{ref:s,className:Ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Qi.displayName=WT.displayName;const Rr=j.forwardRef(({className:e,...t},s)=>n.jsx(ZT,{ref:s,className:Ge("aspect-square h-full w-full",e),...t}));Rr.displayName=ZT.displayName;const Ji=j.forwardRef(({className:e,...t},s)=>n.jsx(GT,{ref:s,className:Ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ji.displayName=GT.displayName;function y9(){const e=rt(),[t,s]=j.useState({city:"Getting location...",area:"Please wait"}),[r,i]=j.useState([]),[a,o]=j.useState(0),{notifications:c,unreadCount:d,markAsRead:h,markAllAsRead:f}=$z();j.useEffect(()=>{const y=async()=>{if(await Re.isAuthenticated()){m();const w=setInterval(m,5e3);return()=>clearInterval(w)}};p(),y()},[]);const m=async()=>{var y,v;try{if(!await Re.getToken())return;const x=await Vs.getConversations(),b=Array.isArray(x)?x:(x==null?void 0:x.results)||[];r.length>0&&b.forEach(N=>{var I,k;const C=r.find(P=>P.id===N.id);C&&N.unread_count>C.unread_count&&u(`New message from ${(I=N.other_participant)==null?void 0:I.username}`,((k=N.last_message)==null?void 0:k.content)||"New message received")}),i(b);const _=b.reduce((N,C)=>N+(C.unread_count||0),0);o(_)}catch(w){!((y=w.message)!=null&&y.includes("401"))&&!((v=w.message)!=null&&v.includes("Unauthorized"))&&console.error("Failed to load conversations:",w)}},u=(y,v)=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(y,{body:v,icon:"/favicon.ico"})},p=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async y=>{const{latitude:v,longitude:w}=y.coords;try{const b=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${v}&lon=${w}&addressdetails=1`)).json();if(b.address){const _=b.address.road||b.address.neighbourhood,N=b.address.neighbourhood||b.address.suburb||b.address.city||b.address.town||b.address.village||b.address.county;s({city:_||N||"Unknown City",area:`${b.address.neighbourhood||b.address.suburb||b.address.city||b.address.town||b.address.state||""}${b.address.city_district?`, ${b.address.city_district}`:""}`})}else s({city:"Location found",area:`${v.toFixed(4)}, ${w.toFixed(4)}`})}catch{s({city:"Location unavailable",area:"Service error"})}},y=>{s({city:"Location denied",area:"Enable location access"})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):s({city:"Location not supported",area:"Browser not compatible"})};return n.jsxs("div",{className:"sticky top-0 z-50 flex items-center justify-between px-3 py-2 md:py-1 bg-card/95 backdrop-blur-sm border-b border-border/30 min-h-[60px] md:min-h-[50px]",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:Wa,alt:"Ezeyway",className:"h-20 w-20 md:h-12 md:w-24 object-contain"})}),n.jsxs("div",{className:"flex items-center gap-1.5 cursor-pointer text-center",onClick:p,children:[n.jsx(Kt,{className:"h-3 w-3 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-foreground",children:t.city}),n.jsx("p",{className:"text-[10px] text-muted-foreground",children:t.area})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsxs("button",{className:"p-1.5 hover:bg-muted rounded-lg transition-smooth relative",children:[n.jsx(Ro,{className:"h-5 w-5 text-foreground"}),a>0&&n.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:a>9?"9+":a})})]})}),n.jsxs(Zo,{align:"end",className:"w-80",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Messages"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/messages"),className:"text-xs",children:"View all"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:r.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):r.slice(0,5).map(y=>{var v,w,x,b,_,N;return n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${y.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>e("/messages"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Qi,{className:"h-8 w-8",children:[n.jsx(Rr,{src:(v=y.other_participant)==null?void 0:v.profile_picture}),n.jsx(Ji,{children:(x=(w=y.other_participant)==null?void 0:w.username)==null?void 0:x.charAt(0)})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:(b=y.other_participant)==null?void 0:b.username}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((_=y.last_message)==null?void 0:_.content)||((N=y.last_message)==null?void 0:N.file_name)||"No messages"})]}),y.unread_count>0&&n.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:y.unread_count})})]})},y.id)})})]})]}),n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsxs("button",{className:"relative p-1.5 hover:bg-muted rounded-lg transition-smooth",children:[n.jsx(rr,{className:"h-5 w-5 text-foreground"}),d>0&&n.jsx(De,{className:"absolute -top-0.5 -right-0.5 h-4 w-4 rounded-full p-0 text-[10px] flex items-center justify-center min-w-[16px] bg-destructive text-destructive-foreground",children:d>9?"9+":d})]})}),n.jsxs(Zo,{align:"end",className:"w-80",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Notifications"}),n.jsxs("div",{className:"flex gap-2",children:[d>0&&n.jsx(ne,{variant:"ghost",size:"sm",onClick:f,className:"text-xs",children:"Mark all read"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/notifications"),className:"text-xs",children:"View all"})]})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):c.slice(0,5).map(y=>n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${y.read?"":"bg-blue-50/50"}`,onClick:()=>{h(y.id),y.action_url&&e(y.action_url)},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${y.read?"bg-transparent":"bg-blue-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${y.read?"text-gray-700":"text-gray-900"}`,children:y.title}),n.jsx("p",{className:`text-sm ${y.read?"text-gray-600":"text-gray-700"}`,children:y.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(y.created_at).toLocaleString()})]}),n.jsx(De,{variant:"outline",className:`text-xs ${y.type==="order"?"border-green-200 text-green-700":y.type==="payment"?"border-blue-200 text-blue-700":y.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:y.type})]})},y.id))})]})]})]})]})}const b9=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function w9(){const[e,t]=j.useState(""),[s,r]=j.useState([]),[i,a]=j.useState(!1),[o,c]=j.useState(!1),d=rt();un();const h=j.useRef(null),f=j.useRef(null);j.useEffect(()=>{const x=b=>{h.current&&!h.current.contains(b.target)&&f.current&&!f.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),j.useEffect(()=>{e.trim().length>1?m(e.trim()):(r([]),a(!1))},[e]);const m=async x=>{c(!0);try{const b=await Re.getToken(),_=b?{Authorization:`Token ${b}`}:{},N=xt.getLocation(),C=new URLSearchParams({search:x,page_size:"5"});N&&(C.append("latitude",N.latitude.toString()),C.append("longitude",N.longitude.toString()));const k=await(await fetch(`${st}search/products/?${C}`,{headers:_})).json(),P=u(k.results||[]);r(P),a(!0)}catch(b){console.error("Search error:",b)}finally{c(!1)}},u=x=>{const b=xt.getLocation();return x.map(_=>{var I,k;const N=((I=_.images)==null?void 0:I.find(P=>P.is_primary))||((k=_.images)==null?void 0:k[0]);let C="N/A";return b&&_.vendor_latitude&&_.vendor_longitude&&(C=`${b9(b.latitude,b.longitude,_.vendor_latitude,_.vendor_longitude).toFixed(1)} km`),{id:_.id,name:_.name,vendor:_.vendor_name||"Unknown Vendor",price:`${_.price}`,image:(N==null?void 0:N.image_url)||"/placeholder-product.jpg",distance:C,category:_.category}})},p=x=>{x.preventDefault(),e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))},y=x=>{t(x.target.value)},v=x=>{d(`/product/${x}`),a(!1),t("")},w=()=>{e.trim()&&(d(`/search?q=${encodeURIComponent(e.trim())}`),a(!1))};return n.jsxs("div",{className:"px-3 py-2 bg-background relative",children:[n.jsx("form",{onSubmit:p,className:"flex gap-2",children:n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Lo,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx("input",{ref:f,type:"text",placeholder:"Search products, vendors...",value:e,onChange:y,className:"w-full pl-9 pr-3 py-2.5 bg-muted/50 border border-border/50 rounded-lg text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-smooth"})]})}),i&&n.jsx("div",{ref:h,className:"absolute top-full left-3 right-3 mt-1 bg-white border border-border rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:o?n.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Searching..."}):s.length>0?n.jsxs(n.Fragment,{children:[s.map(x=>n.jsxs("div",{onClick:()=>v(x.id),className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer border-b border-border/50 last:border-b-0",children:[n.jsx("img",{src:x.image,alt:x.name,className:"w-10 h-10 object-cover rounded",onError:b=>{b.target.src="/placeholder-product.jpg"}}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-sm truncate",children:x.name}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:x.vendor}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"text-xs font-medium text-primary",children:x.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:x.distance})]})]})]},x.id)),n.jsx("div",{className:"p-3 border-t border-border",children:n.jsxs("button",{onClick:w,className:"w-full text-center text-sm text-primary hover:text-primary/80 font-medium",children:['View all results for "',e,'"']})})]}):e.trim().length>1?n.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:['No results found for "',e,'"']}):null})]})}const e1={Electronics:"",Fashion:"",Food:"",Home:"",Books:"",Sports:"",Beauty:"",Toys:"",Jewelry:"",Furniture:"",Automotive:"",Health:"","Pet Supplies":"",Stationery:"",Garden:"",Kids:"",Appliances:"",Hardware:"",Crafts:"",Travel:"",Grocery:"",Vegetables:"",Fruits:"",Dairy:"",Meat:"",Bakery:"",Beverages:"",Snacks:"",Organic:""};function j9(){const[e,t]=j.useState([]),[s,r]=j.useState(!0),i=rt();return j.useEffect(()=>{(async()=>{try{const o=await fetch(st+"categories/"),c=await o.json();if(o.ok&&c.categories){const d=c.categories.map((h,f)=>({id:h.id||f+1,name:h.name,icon:h.icon_url||e1[h.name]||"",hasImage:!!h.icon_url}));t(d)}}catch(o){console.error("Error fetching categories:",o),t([])}finally{r(!1)}})()},[]),s?n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto",children:[...Array(6)].map((a,o)=>n.jsx("div",{className:"flex-none w-16",children:n.jsxs("div",{className:"w-full p-1 rounded-xl bg-gray-200 animate-pulse",children:[n.jsx("div",{className:"h-6 bg-gray-300 rounded mb-1"}),n.jsx("div",{className:"h-3 bg-gray-300 rounded"})]})},o))})}):e.length===0?n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No categories available"})}):n.jsx("div",{className:"px-2 py-2 bg-gray-50",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto overflow-y-hidden pb-2",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:e.map(a=>n.jsxs("button",{className:"flex-none px-3 py-1 rounded-xl font-medium text-center transition-all duration-200 bg-white text-gray-800 hover:bg-gray-100 active:scale-95 focus:outline-none min-w-16 touch-manipulation",onClick:()=>i(`/category/${encodeURIComponent(a.name)}`),children:[n.jsxs("div",{className:"mb-1 flex items-center justify-center h-8",children:[a.hasImage?n.jsx("img",{src:a.icon,alt:a.name,className:"w-8 h-8 object-contain",onError:o=>{o.target.style.display="none",o.target.nextSibling.style.display="block"}}):n.jsx("div",{className:"text-2xl",children:a.icon}),a.hasImage&&n.jsx("div",{className:"text-2xl",style:{display:"none"},children:e1[a.name]||""})]}),n.jsx("div",{className:"text-xs font-semibold whitespace-nowrap",children:a.name})]},a.id))})})}const _9="/assets/banner-grocery.jpg",N9="/assets/banner-electronics.jpg",S9="/assets/banner-food.jpg",k9=[{id:1,image:_9,title:"Fresh Groceries",subtitle:"Same day delivery"},{id:2,image:N9,title:"Electronics & Gadgets",subtitle:"Best prices guaranteed"},{id:3,image:S9,title:"Traditional Food",subtitle:"Authentic Nepali cuisine"}];function C9(){const[e,t]=j.useState(1),[s,r]=j.useState(!1),[i,a]=j.useState(0),[o,c]=j.useState(0),[d,h]=j.useState([]),[f,m]=j.useState(!0),[u,p]=j.useState(!0),y=j.useRef(null),v=d.length>0?d.map(I=>({id:I.id,image:I.image_url,title:I.title,subtitle:I.description||"",link_url:I.link_url})):k9,w=v.length>0?[v[v.length-1],...v,v[0]]:[],x=I=>{r(!0),a(I.touches[0].clientX),c(I.touches[0].clientX)},b=I=>{s&&c(I.touches[0].clientX)},_=()=>{if(!s)return;const I=i-o;Math.abs(I)>50&&(I>0&&e<v.length?t(P=>P+1):I<0&&e>1&&t(P=>P-1)),r(!1),c(0)},N=I=>{I.link_url&&window.open(I.link_url,"_blank")};j.useEffect(()=>{if(v.length>0){const I=setInterval(()=>{t(k=>k+1)},4e3);return()=>clearInterval(I)}},[v.length]),j.useEffect(()=>{v.length>0&&(e===w.length-1?setTimeout(()=>{p(!1),t(1),setTimeout(()=>p(!0),50)},500):e===0&&setTimeout(()=>{p(!1),t(v.length),setTimeout(()=>p(!0),50)},500))},[e,v.length]),j.useEffect(()=>{(async()=>{try{const{API_BASE:k}=await Je(async()=>{const{API_BASE:E}=await Promise.resolve().then(()=>Cz);return{API_BASE:E}},void 0),P=await fetch(k+"sliders/?user_type=customer"),R=await P.json();P.ok&&R&&R.sliders?(h(R.sliders),t(1)):h([])}catch(k){console.error("Error fetching sliders:",k),h([])}finally{m(!1)}})()},[]);const C=()=>{var k;if(window.innerWidth<768){if(s){const P=o-i,R=100,E=P/(((k=y.current)==null?void 0:k.offsetWidth)||1)*100,T=Math.max(-R,Math.min(R,E));return`translateX(calc(-${e*100}% + ${T}px))`}return`translateX(-${e*100}%)`}else return`translateX(calc(-${e*50}% + 25%))`};return f?n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-brand h-48 bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[n.jsx(Bn,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading banners..."})]})})}):n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative md:overflow-visible overflow-hidden md:px-8",children:[n.jsx("div",{ref:y,className:`flex ${u?"transition-transform duration-500 ease-in-out":""}`,style:{transform:C()},onTouchStart:x,onTouchMove:b,onTouchEnd:_,children:(w.length>0?w:v).map((I,k)=>{const P=window.innerWidth<768,R=!P&&k===e;return n.jsx("div",{className:`flex-shrink-0 relative cursor-pointer transition-all duration-300 ${P?"w-full rounded-2xl shadow-brand overflow-hidden":`${R?"scale-100 opacity-100 z-10":"scale-75 opacity-60 z-0"} rounded-lg overflow-hidden`}`,style:P?{}:{width:"50%"},onClick:()=>N(I),children:n.jsx("img",{src:I.image,alt:I.title,className:"w-full h-48 md:h-auto md:max-h-64 object-cover md:object-contain",onError:E=>{E.target.style.display="none",E.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}})},`${I.id}-${k}`)})}),v.length>1&&n.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-1",children:v.map((I,k)=>n.jsx("button",{onClick:()=>t(k+1),className:`w-2 h-2 rounded-full transition-colors ${k===(e-1+v.length)%v.length?"bg-blue-500":"bg-gray-300"}`},k))})]})})}const Fb=j.createContext({});function $b(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const zb=typeof window<"u",KT=zb?j.useLayoutEffect:j.useEffect,wp=j.createContext(null);function Bb(e,t){e.indexOf(t)===-1&&e.push(t)}function Vb(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const ea=(e,t,s)=>s>t?t:s<e?e:s;let lm=()=>{};const ta={},YT=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function XT(e){return typeof e=="object"&&e!==null}const QT=e=>/^0[^.\s]+$/u.test(e);function Ub(e){let t;return()=>(t===void 0&&(t=e()),t)}const lr=e=>e,E9=(e,t)=>s=>t(e(s)),nh=(...e)=>e.reduce(E9),Ou=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class qb{constructor(){this.subscriptions=[]}add(t){return Bb(this.subscriptions,t),()=>Vb(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=e=>e*1e3,fi=e=>e/1e3;function JT(e,t){return t?e*(1e3/t):0}const eA=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,P9=1e-7,T9=12;function A9(e,t,s,r,i){let a,o,c=0;do o=t+(s-t)/2,a=eA(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>P9&&++c<T9);return o}function sh(e,t,s,r){if(e===t&&s===r)return lr;const i=a=>A9(a,0,1,e,s);return a=>a===0||a===1?a:eA(i(a),t,r)}const tA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nA=e=>t=>1-e(1-t),sA=sh(.33,1.53,.69,.99),Hb=nA(sA),rA=tA(Hb),iA=e=>(e*=2)<1?.5*Hb(e):.5*(2-Math.pow(2,-10*(e-1))),Wb=e=>1-Math.sin(Math.acos(e)),aA=nA(Wb),oA=tA(Wb),O9=sh(.42,0,1,1),R9=sh(0,0,.58,1),lA=sh(.42,0,.58,1),L9=e=>Array.isArray(e)&&typeof e[0]!="number",cA=e=>Array.isArray(e)&&typeof e[0]=="number",t1={linear:lr,easeIn:O9,easeInOut:lA,easeOut:R9,circIn:Wb,circInOut:oA,circOut:aA,backIn:Hb,backInOut:rA,backOut:sA,anticipate:iA},M9=e=>typeof e=="string",n1=e=>{if(cA(e)){lm(e.length===4);const[t,s,r,i]=e;return sh(t,s,r,i)}else if(M9(e))return lm(t1[e]!==void 0),t1[e];return e},Jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],s1={value:null,addProjectionMetrics:null};function I9(e,t){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(m){o.has(m)&&(f.schedule(m),e()),d++,m(c)}const f={schedule:(m,u=!1,p=!1)=>{const v=p&&i?s:r;return u&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(h),t&&s1.value&&s1.value.frameloop[t].push(d),d=0,s.clear(),i=!1,a&&(a=!1,f.process(m))}};return f}const D9=40;function dA(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=Jh.reduce((_,N)=>(_[N]=I9(a,t?N:void 0),_),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:f,update:m,preRender:u,render:p,postRender:y}=o,v=()=>{const _=ta.useManualTiming?i.timestamp:performance.now();s=!1,ta.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,D9),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),f.process(i),m.process(i),u.process(i),p.process(i),y.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(v))},w=()=>{s=!0,r=!0,i.isProcessing||e(v)};return{schedule:Jh.reduce((_,N)=>{const C=o[N];return _[N]=(I,k=!1,P=!1)=>(s||w(),C.schedule(I,k,P)),_},{}),cancel:_=>{for(let N=0;N<Jh.length;N++)o[Jh[N]].cancel(_)},state:i,steps:o}}const{schedule:sn,cancel:Za,state:Wn,steps:fv}=dA(typeof requestAnimationFrame<"u"?requestAnimationFrame:lr,!0);let _f;function F9(){_f=void 0}const As={now:()=>(_f===void 0&&As.set(Wn.isProcessing||ta.useManualTiming?Wn.timestamp:performance.now()),_f),set:e=>{_f=e,queueMicrotask(F9)}},uA=e=>t=>typeof t=="string"&&t.startsWith(e),Zb=uA("--"),$9=uA("var(--"),Gb=e=>$9(e)?z9.test(e.split("/*")[0].trim()):!1,z9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ru={...Bc,transform:e=>ea(0,1,e)},ef={...Bc,default:1},Wd=e=>Math.round(e*1e5)/1e5,Kb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B9(e){return e==null}const V9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yb=(e,t)=>s=>!!(typeof s=="string"&&V9.test(s)&&s.startsWith(e)||t&&!B9(s)&&Object.prototype.hasOwnProperty.call(s,t)),hA=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Kb);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},U9=e=>ea(0,255,e),mv={...Bc,transform:e=>Math.round(U9(e))},jo={test:Yb("rgb","red"),parse:hA("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+mv.transform(e)+", "+mv.transform(t)+", "+mv.transform(s)+", "+Wd(Ru.transform(r))+")"};function q9(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Gx={test:Yb("#"),parse:q9,transform:jo.transform},rh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ma=rh("deg"),mi=rh("%"),at=rh("px"),H9=rh("vh"),W9=rh("vw"),r1={...mi,parse:e=>mi.parse(e)/100,transform:e=>mi.transform(e*100)},Ol={test:Yb("hsl","hue"),parse:hA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+mi.transform(Wd(t))+", "+mi.transform(Wd(s))+", "+Wd(Ru.transform(r))+")"},On={test:e=>jo.test(e)||Gx.test(e)||Ol.test(e),parse:e=>jo.test(e)?jo.parse(e):Ol.test(e)?Ol.parse(e):Gx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?jo.transform(e):Ol.transform(e),getAnimatableNone:e=>{const t=On.parse(e);return t.alpha=0,On.transform(t)}},Z9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G9(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Kb))==null?void 0:t.length)||0)+(((s=e.match(Z9))==null?void 0:s.length)||0)>0}const fA="number",mA="color",K9="var",Y9="var(",i1="${}",X9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lu(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace(X9,d=>(On.test(d)?(r.color.push(a),i.push(mA),s.push(On.parse(d))):d.startsWith(Y9)?(r.var.push(a),i.push(K9),s.push(d)):(r.number.push(a),i.push(fA),s.push(parseFloat(d))),++a,i1)).split(i1);return{values:s,split:c,indexes:r,types:i}}function pA(e){return Lu(e).values}function gA(e){const{split:t,types:s}=Lu(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const c=s[o];c===fA?a+=Wd(i[o]):c===mA?a+=On.transform(i[o]):a+=i[o]}return a}}const Q9=e=>typeof e=="number"?0:On.test(e)?On.getAnimatableNone(e):e;function J9(e){const t=pA(e);return gA(e)(t.map(Q9))}const Ga={test:G9,parse:pA,createTransformer:gA,getAnimatableNone:J9};function pv(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function e7({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const c=s<.5?s*(1+t):s+t-s*t,d=2*s-c;i=pv(d,c,e+1/3),a=pv(d,c,e),o=pv(d,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function cm(e,t){return s=>s>0?t:e}const on=(e,t,s)=>e+(t-e)*s,gv=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},t7=[Gx,jo,Ol],n7=e=>t7.find(t=>t.test(e));function a1(e){const t=n7(e);if(!t)return!1;let s=t.parse(e);return t===Ol&&(s=e7(s)),s}const o1=(e,t)=>{const s=a1(e),r=a1(t);if(!s||!r)return cm(e,t);const i={...s};return a=>(i.red=gv(s.red,r.red,a),i.green=gv(s.green,r.green,a),i.blue=gv(s.blue,r.blue,a),i.alpha=on(s.alpha,r.alpha,a),jo.transform(i))},Kx=new Set(["none","hidden"]);function s7(e,t){return Kx.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function r7(e,t){return s=>on(e,t,s)}function Xb(e){return typeof e=="number"?r7:typeof e=="string"?Gb(e)?cm:On.test(e)?o1:o7:Array.isArray(e)?vA:typeof e=="object"?On.test(e)?o1:i7:cm}function vA(e,t){const s=[...e],r=s.length,i=e.map((a,o)=>Xb(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function i7(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Xb(e[i])(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function a7(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],c=e.values[o]??0;s[i]=c,r[a]++}return s}const o7=(e,t)=>{const s=Ga.createTransformer(t),r=Lu(e),i=Lu(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Kx.has(e)&&!i.values.length||Kx.has(t)&&!r.values.length?s7(e,t):nh(vA(a7(r,i),i.values),s):cm(e,t)};function xA(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?on(e,t,s):Xb(e)(e,t)}const l7=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>sn.update(t,s),stop:()=>Za(t),now:()=>Wn.isProcessing?Wn.timestamp:As.now()}},yA=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dm=2e4;function Qb(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<dm;)t+=s,r=e.next(t);return t>=dm?1/0:t}function c7(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(Qb(r),dm);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:fi(i)}}const d7=5;function bA(e,t,s){const r=Math.max(t-d7,0);return JT(s-e(r),t-r)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vv=.001;function u7({duration:e=fn.duration,bounce:t=fn.bounce,velocity:s=fn.velocity,mass:r=fn.mass}){let i,a,o=1-t;o=ea(fn.minDamping,fn.maxDamping,o),e=ea(fn.minDuration,fn.maxDuration,fi(e)),o<1?(i=h=>{const f=h*o,m=f*e,u=f-s,p=Yx(h,o),y=Math.exp(-m);return vv-u/p*y},a=h=>{const m=h*o*e,u=m*s+s,p=Math.pow(o,2)*Math.pow(h,2)*e,y=Math.exp(-m),v=Yx(Math.pow(h,2),o);return(-i(h)+vv>0?-1:1)*((u-p)*y)/v}):(i=h=>{const f=Math.exp(-h*e),m=(h-s)*e+1;return-vv+f*m},a=h=>{const f=Math.exp(-h*e),m=(s-h)*(e*e);return f*m});const c=5/e,d=f7(i,a,c);if(e=hi(e),isNaN(d))return{stiffness:fn.stiffness,damping:fn.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:o*2*Math.sqrt(r*h),duration:e}}}const h7=12;function f7(e,t,s){let r=s;for(let i=1;i<h7;i++)r=r-e(r)/t(r);return r}function Yx(e,t){return e*Math.sqrt(1-t*t)}const m7=["duration","bounce"],p7=["stiffness","damping","mass"];function l1(e,t){return t.some(s=>e[s]!==void 0)}function g7(e){let t={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...e};if(!l1(e,p7)&&l1(e,m7))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*ea(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:fn.mass,stiffness:i,damping:a}}else{const s=u7(e);t={...t,...s,mass:fn.mass},t.isResolvedFromDuration=!0}return t}function um(e=fn.visualDuration,t=fn.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:f,duration:m,velocity:u,isResolvedFromDuration:p}=g7({...s,velocity:-fi(s.velocity||0)}),y=u||0,v=h/(2*Math.sqrt(d*f)),w=o-a,x=fi(Math.sqrt(d/f)),b=Math.abs(w)<5;r||(r=b?fn.restSpeed.granular:fn.restSpeed.default),i||(i=b?fn.restDelta.granular:fn.restDelta.default);let _;if(v<1){const C=Yx(x,v);_=I=>{const k=Math.exp(-v*x*I);return o-k*((y+v*x*w)/C*Math.sin(C*I)+w*Math.cos(C*I))}}else if(v===1)_=C=>o-Math.exp(-x*C)*(w+(y+x*w)*C);else{const C=x*Math.sqrt(v*v-1);_=I=>{const k=Math.exp(-v*x*I),P=Math.min(C*I,300);return o-k*((y+v*x*w)*Math.sinh(P)+C*w*Math.cosh(P))/C}}const N={calculatedDuration:p&&m||null,next:C=>{const I=_(C);if(p)c.done=C>=m;else{let k=C===0?y:0;v<1&&(k=C===0?hi(y):bA(_,C,I));const P=Math.abs(k)<=r,R=Math.abs(o-I)<=i;c.done=P&&R}return c.value=c.done?o:I,c},toString:()=>{const C=Math.min(Qb(N),dm),I=yA(k=>N.next(C*k).value,C,30);return C+"ms "+I},toTransition:()=>{}};return N}um.applyToOptions=e=>{const t=c7(e,100,um);return e.ease=t.ease,e.duration=hi(t.duration),e.type="keyframes",e};function Xx({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:f}){const m=e[0],u={done:!1,value:m},p=P=>c!==void 0&&P<c||d!==void 0&&P>d,y=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let v=s*t;const w=m+v,x=o===void 0?w:o(w);x!==w&&(v=x-m);const b=P=>-v*Math.exp(-P/r),_=P=>x+b(P),N=P=>{const R=b(P),E=_(P);u.done=Math.abs(R)<=h,u.value=u.done?x:E};let C,I;const k=P=>{p(u.value)&&(C=P,I=um({keyframes:[u.value,y(u.value)],velocity:bA(_,P,u.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return k(0),{calculatedDuration:null,next:P=>{let R=!1;return!I&&C===void 0&&(R=!0,N(P),k(P)),C!==void 0&&P>=C?I.next(P-C):(!R&&N(P),u)}}}function v7(e,t,s){const r=[],i=s||ta.mix||xA,a=e.length-1;for(let o=0;o<a;o++){let c=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||lr:t;c=nh(d,c)}r.push(c)}return r}function x7(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(lm(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=v7(t,r,i),d=c.length,h=f=>{if(o&&f<e[0])return t[0];let m=0;if(d>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const u=Ou(e[m],e[m+1],f);return c[m](u)};return s?f=>h(ea(e[0],e[a-1],f)):h}function y7(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Ou(0,t,r);e.push(on(s,1,i))}}function b7(e){const t=[0];return y7(t,e.length-1),t}function w7(e,t){return e.map(s=>s*t)}function j7(e,t){return e.map(()=>t||lA).splice(0,e.length-1)}function Zd({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=L9(r)?r.map(n1):n1(r),a={done:!1,value:t[0]},o=w7(s&&s.length===t.length?s:b7(t),e),c=x7(o,t,{ease:Array.isArray(i)?i:j7(t,i)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const _7=e=>e!==null;function Jb(e,{repeat:t,repeatType:s="loop"},r,i=1){const a=e.filter(_7),c=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const N7={decay:Xx,inertia:Xx,tween:Zd,keyframes:Zd,spring:um};function wA(e){typeof e.type=="string"&&(e.type=N7[e.type])}class ew{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const S7=e=>e/100;class tw extends ew{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==As.now()&&this.tick(As.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wA(t);const{type:s=Zd,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const d=s||Zd;d!==Zd&&typeof c[0]!="number"&&(this.mixKeyframes=nh(S7,xA(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=Qb(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:u,repeatDelay:p,type:y,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const x=this.currentTime-h*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>i;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=r;if(m){const P=Math.min(this.currentTime,i)/c;let R=Math.floor(P),E=P%1;!E&&P>=1&&(E=1),E===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(u==="reverse"?(E=1-E,p&&(E-=p/c)):u==="mirror"&&(N=o)),_=ea(0,1,E)*c}const C=b?{done:!1,value:f[0]}:N.next(_);a&&(C.value=a(C.value));let{done:I}=C;!b&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return k&&y!==Xx&&(C.value=Jb(f,this.options,w,this.speed)),v&&v(C.value),k&&this.finish(),C}then(t,s){return this.finished.then(t,s)}get duration(){return fi(this.calculatedDuration)}get time(){return fi(this.currentTime)}set time(t){var s;t=hi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(As.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=fi(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=l7,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(As.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function k7(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _o=e=>e*180/Math.PI,Qx=e=>{const t=_o(Math.atan2(e[1],e[0]));return Jx(t)},C7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qx,rotateZ:Qx,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jx=e=>(e=e%360,e<0&&(e+=360),e),c1=Qx,d1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),E7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d1,scaleY:u1,scale:e=>(d1(e)+u1(e))/2,rotateX:e=>Jx(_o(Math.atan2(e[6],e[5]))),rotateY:e=>Jx(_o(Math.atan2(-e[2],e[0]))),rotateZ:c1,rotate:c1,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ey(e){return e.includes("scale")?1:0}function ty(e,t){if(!e||e==="none")return ey(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=E7,i=s;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C7,i=c}if(!i)return ey(t);const a=r[t],o=i[1].split(",").map(T7);return typeof a=="function"?a(o):o[a]}const P7=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ty(s,t)};function T7(e){return parseFloat(e.trim())}const Vc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uc=new Set(Vc),h1=e=>e===Bc||e===at,A7=new Set(["x","y","z"]),O7=Vc.filter(e=>!A7.has(e));function R7(e){const t=[];return O7.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Io={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ty(t,"x"),y:(e,{transform:t})=>ty(t,"y")};Io.translateX=Io.x;Io.translateY=Io.y;const Do=new Set;let ny=!1,sy=!1,ry=!1;function jA(){if(sy){const e=Array.from(Do).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=R7(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sy=!1,ny=!1,Do.forEach(e=>e.complete(ry)),Do.clear()}function _A(){Do.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sy=!0)})}function L7(){ry=!0,_A(),jA(),ry=!1}class nw{constructor(t,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Do.add(this),ny||(ny=!0,sn.read(_A),sn.resolveKeyframes(jA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const c=r.readValue(s,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}k7(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Do.delete(this)}cancel(){this.state==="scheduled"&&(Do.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const M7=e=>e.startsWith("--");function I7(e,t,s){M7(t)?e.style.setProperty(t,s):e.style[t]=s}const D7=Ub(()=>window.ScrollTimeline!==void 0),F7={};function $7(e,t){const s=Ub(e);return()=>F7[t]??s()}const NA=$7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Od=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,f1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Od([0,.65,.55,1]),circOut:Od([.55,0,1,.45]),backIn:Od([.31,.01,.66,-.59]),backOut:Od([.33,1.53,.69,.99])};function SA(e,t){if(e)return typeof e=="function"?NA()?yA(e,t):"ease-out":cA(e)?Od(e):Array.isArray(e)?e.map(s=>SA(s,t)||f1.easeOut):f1[e]}function z7(e,t,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const f={[t]:s};d&&(f.offset=d);const m=SA(c,i);Array.isArray(m)&&(f.easing=m);const u={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return h&&(u.pseudoElement=h),e.animate(f,u)}function kA(e){return typeof e=="function"&&"applyToOptions"in e}function B7({type:e,...t}){return kA(e)&&NA()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class V7 extends ew{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,lm(typeof t.type!="string");const h=B7(t);this.animation=z7(s,r,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=Jb(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):I7(s,r,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return fi(Number(t))}get time(){return fi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=hi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&D7()?(this.animation.timeline=t,lr):s(this)}}const CA={anticipate:iA,backInOut:rA,circInOut:oA};function U7(e){return e in CA}function q7(e){typeof e.ease=="string"&&U7(e.ease)&&(e.ease=CA[e.ease])}const m1=10;class H7 extends V7{constructor(t){q7(t),wA(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const c=new tw({...o,autoplay:!1}),d=hi(this.finishedTime??this.time);s.setWithVelocity(c.sample(d-m1).value,c.sample(d).value,m1),c.stop()}}const p1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ga.test(e)||e==="0")&&!e.startsWith("url("));function W7(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Z7(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=p1(i,t),c=p1(a,t);return!o||!c?!1:W7(e)||(s==="spring"||kA(s))&&r}function iy(e){e.duration=0,e.type}const G7=new Set(["opacity","clipPath","filter","transform"]),K7=Ub(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Y7(e){var f;const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return K7()&&s&&G7.has(s)&&(s!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const X7=40;class Q7 extends ew{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:f,...m}){var y;super(),this.stop=()=>{var v,w;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=As.now();const u={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:d,motionValue:h,element:f,...m},p=(f==null?void 0:f.KeyframeResolver)||nw;this.keyframeResolver=new p(c,(v,w,x)=>this.onKeyframesResolved(v,w,u,!x),d,h,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:f}=r;this.resolvedAt=As.now(),Z7(t,a,o,c)||((ta.instantAnimations||!d)&&(f==null||f(Jb(t,r,s))),t[0]=t[t.length-1],iy(r),r.repeat=0);const u={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>X7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},p=!h&&Y7(u)?new H7({...u,element:u.motionValue.owner.current}):new tw(u);p.finished.then(()=>this.notifyFinished()).catch(lr),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),L7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const J7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eU(e){const t=J7.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function EA(e,t,s=1){const[r,i]=eU(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return YT(o)?parseFloat(o):o}return Gb(i)?EA(i,t,s+1):i}function sw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const PA=new Set(["width","height","top","left","right","bottom",...Vc]),tU={test:e=>e==="auto",parse:e=>e},TA=e=>t=>t.test(e),AA=[Bc,at,mi,ma,W9,H9,tU],g1=e=>AA.find(TA(e));function nU(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QT(e):!0}const sU=new Set(["brightness","contrast","saturate","opacity"]);function rU(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Kb)||[];if(!r)return e;const i=s.replace(r,"");let a=sU.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const iU=/\b([a-z-]*)\(.*?\)/gu,ay={...Ga,getAnimatableNone:e=>{const t=e.match(iU);return t?t.map(rU).join(" "):e}},v1={...Bc,transform:Math.round},aU={rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:ef,scaleX:ef,scaleY:ef,scaleZ:ef,skew:ma,skewX:ma,skewY:ma,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:Ru,originX:r1,originY:r1,originZ:at},rw={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at,...aU,zIndex:v1,fillOpacity:Ru,strokeOpacity:Ru,numOctaves:v1},oU={...rw,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:ay,WebkitFilter:ay},OA=e=>oU[e];function RA(e,t){let s=OA(e);return s!==ay&&(s=Ga),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const lU=new Set(["auto","none","0"]);function cU(e,t,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!lU.has(a)&&Lu(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of t)e[a]=RA(s,i)}class dU extends nw{constructor(t,s,r,i,a){super(t,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),Gb(h))){const f=EA(h,s.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!PA.has(r)||t.length!==2)return;const[i,a]=t,o=g1(i),c=g1(a);if(o!==c)if(h1(o)&&h1(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Io[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||nU(t[i]))&&r.push(i);r.length&&cU(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Io[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Io[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function uU(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const LA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function MA(e){return XT(e)&&"offsetHeight"in e}const x1=30,hU=e=>!isNaN(parseFloat(e));class fU{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const i=As.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=As.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=hU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new qb);const r=this.events[t].add(s);return t==="change"?()=>{r(),sn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=As.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>x1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,x1);return JT(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bc(e,t){return new fU(e,t)}const{schedule:iw,cancel:jse}=dA(queueMicrotask,!1),br={x:!1,y:!1};function IA(){return br.x||br.y}function mU(e){return e==="x"||e==="y"?br[e]?null:(br[e]=!0,()=>{br[e]=!1}):br.x||br.y?null:(br.x=br.y=!0,()=>{br.x=br.y=!1})}function DA(e,t){const s=uU(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function y1(e){return!(e.pointerType==="touch"||IA())}function pU(e,t,s={}){const[r,i,a]=DA(e,s),o=c=>{if(!y1(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const f=m=>{y1(m)&&(h(m),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const FA=(e,t)=>t?e===t?!0:FA(e,t.parentElement):!1,aw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vU(e){return gU.has(e.tagName)||e.tabIndex!==-1}const Nf=new WeakSet;function b1(e){return t=>{t.key==="Enter"&&e(t)}}function xv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xU=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=b1(()=>{if(Nf.has(s))return;xv(s,"down");const i=b1(()=>{xv(s,"up")}),a=()=>xv(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function w1(e){return aw(e)&&!IA()}function yU(e,t,s={}){const[r,i,a]=DA(e,s),o=c=>{const d=c.currentTarget;if(!w1(c))return;Nf.add(d);const h=t(d,c),f=(p,y)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",u),Nf.has(d)&&Nf.delete(d),w1(p)&&typeof h=="function"&&h(p,{success:y})},m=p=>{f(p,d===window||d===document||s.useGlobalTarget||FA(d,p.target))},u=p=>{f(p,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",u,i)};return r.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),MA(c)&&(c.addEventListener("focus",h=>xU(h,i)),!vU(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function $A(e){return XT(e)&&"ownerSVGElement"in e}function bU(e){return $A(e)&&e.tagName==="svg"}const rs=e=>!!(e&&e.getVelocity),wU=[...AA,On,Ga],jU=e=>wU.find(TA(e)),ow=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _U extends j.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=MA(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function NU({children:e,isPresent:t,anchorX:s,root:r}){const i=j.useId(),a=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(ow);return j.useInsertionEffect(()=>{const{width:d,height:h,top:f,left:m,right:u}=o.current;if(t||!a.current||!d||!h)return;const p=s==="left"?`left: ${m}`:`right: ${u}`;a.current.dataset.motionPopId=i;const y=document.createElement("style");c&&(y.nonce=c);const v=r??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${f}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[t]),n.jsx(_U,{isPresent:t,childRef:a,sizeRef:o,children:j.cloneElement(e,{ref:a})})}const SU=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:d})=>{const h=$b(kU),f=j.useId();let m=!0,u=j.useMemo(()=>(m=!1,{id:f,initial:t,isPresent:s,custom:i,onExitComplete:p=>{h.set(p,!0);for(const y of h.values())if(!y)return;r&&r()},register:p=>(h.set(p,!1),()=>h.delete(p))}),[s,h,r]);return a&&m&&(u={...u}),j.useMemo(()=>{h.forEach((p,y)=>h.set(y,!1))},[s]),j.useEffect(()=>{!s&&!h.size&&r&&r()},[s]),o==="popLayout"&&(e=n.jsx(NU,{isPresent:s,anchorX:c,root:d,children:e})),n.jsx(wp.Provider,{value:u,children:e})};function kU(){return new Map}function zA(e=!0){const t=j.useContext(wp);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,a=j.useId();j.useEffect(()=>{if(e)return i(a)},[e]);const o=j.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const tf=e=>e.key||"";function j1(e){const t=[];return j.Children.forEach(e,s=>{j.isValidElement(s)&&t.push(s)}),t}const _1=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,f]=zA(o),m=j.useMemo(()=>j1(e),[e]),u=o&&!h?[]:m.map(tf),p=j.useRef(!0),y=j.useRef(m),v=$b(()=>new Map),[w,x]=j.useState(m),[b,_]=j.useState(m);KT(()=>{p.current=!1,y.current=m;for(let I=0;I<b.length;I++){const k=tf(b[I]);u.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[b,u.length,u.join("-")]);const N=[];if(m!==w){let I=[...m];for(let k=0;k<b.length;k++){const P=b[k],R=tf(P);u.includes(R)||(I.splice(k,0,P),N.push(P))}return a==="wait"&&N.length&&(I=N),_(j1(I)),x(m),null}const{forceRender:C}=j.useContext(Fb);return n.jsx(n.Fragment,{children:b.map(I=>{const k=tf(I),P=o&&!h?!1:m===b||u.includes(k),R=()=>{if(v.has(k))v.set(k,!0);else return;let E=!0;v.forEach(T=>{T||(E=!1)}),E&&(C==null||C(),_(y.current),o&&(f==null||f()),r&&r())};return n.jsx(SU,{isPresent:P,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:d,onExitComplete:P?void 0:R,anchorX:c,children:I},k)})})},BA=j.createContext({strict:!1}),N1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wc={};for(const e in N1)wc[e]={isEnabled:t=>N1[e].some(s=>!!t[s])};function CU(e){for(const t in e)wc[t]={...wc[t],...e[t]}}const EU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||EU.has(e)}let VA=e=>!hm(e);function PU(e){typeof e=="function"&&(VA=t=>t.startsWith("on")?!hm(t):e(t))}try{PU(require("@emotion/is-prop-valid").default)}catch{}function TU(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(VA(i)||s===!0&&hm(i)||!t&&!hm(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const jp=j.createContext({});function _p(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mu(e){return typeof e=="string"||Array.isArray(e)}const lw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cw=["initial",...lw];function Np(e){return _p(e.animate)||cw.some(t=>Mu(e[t]))}function UA(e){return!!(Np(e)||e.variants)}function AU(e,t){if(Np(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Mu(s)?s:void 0,animate:Mu(r)?r:void 0}}return e.inherit!==!1?t:{}}function OU(e){const{initial:t,animate:s}=AU(e,j.useContext(jp));return j.useMemo(()=>({initial:t,animate:s}),[S1(t),S1(s)])}function S1(e){return Array.isArray(e)?e.join(" "):e}const Iu={};function RU(e){for(const t in e)Iu[t]=e[t],Zb(t)&&(Iu[t].isCSSVariable=!0)}function qA(e,{layout:t,layoutId:s}){return Uc.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Iu[e]||e==="opacity")}const LU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MU=Vc.length;function IU(e,t,s){let r="",i=!0;for(let a=0;a<MU;a++){const o=Vc[a],c=e[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||s){const h=LA(c,rw[o]);if(!d){i=!1;const f=LU[o]||o;r+=`${f}(${h}) `}s&&(t[o]=h)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function dw(e,t,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,c=!1;for(const d in t){const h=t[d];if(Uc.has(d)){o=!0;continue}else if(Zb(d)){i[d]=h;continue}else{const f=LA(h,rw[d]);d.startsWith("origin")?(c=!0,a[d]=f):r[d]=f}}if(t.transform||(o||s?r.transform=IU(t,e.transform,s):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;r.transformOrigin=`${d} ${h} ${f}`}}const uw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HA(e,t,s){for(const r in t)!rs(t[r])&&!qA(r,s)&&(e[r]=t[r])}function DU({transformTemplate:e},t){return j.useMemo(()=>{const s=uw();return dw(s,t,e),Object.assign({},s.vars,s.style)},[t])}function FU(e,t){const s=e.style||{},r={};return HA(r,s,e),Object.assign(r,DU(e,t)),r}function $U(e,t){const s={},r=FU(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const zU={offset:"stroke-dashoffset",array:"stroke-dasharray"},BU={offset:"strokeDashoffset",array:"strokeDasharray"};function VU(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?zU:BU;e[a.offset]=at.transform(-r);const o=at.transform(t),c=at.transform(s);e[a.array]=`${o} ${c}`}function WA(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},d,h,f){if(dw(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:u}=e;m.transform&&(u.transform=m.transform,delete m.transform),(u.transform||m.transformOrigin)&&(u.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),u.transform&&(u.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),t!==void 0&&(m.x=t),s!==void 0&&(m.y=s),r!==void 0&&(m.scale=r),i!==void 0&&VU(m,i,a,o,!1)}const ZA=()=>({...uw(),attrs:{}}),GA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UU(e,t,s,r){const i=j.useMemo(()=>{const a=ZA();return WA(a,t,GA(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};HA(a,e.style,e),i.style={...a,...i.style}}return i}const qU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hw(e){return typeof e!="string"||e.includes("-")?!1:!!(qU.indexOf(e)>-1||/[A-Z]/u.test(e))}function HU(e,t,s,{latestValues:r},i,a=!1){const c=(hw(e)?UU:$U)(t,r,i,e),d=TU(t,typeof e=="string",a),h=e!==j.Fragment?{...d,...c,ref:s}:{},{children:f}=t,m=j.useMemo(()=>rs(f)?f.get():f,[f]);return j.createElement(e,{...h,children:m})}function k1(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function fw(e,t,s,r){if(typeof t=="function"){const[i,a]=k1(r);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=k1(r);t=t(s!==void 0?s:e.custom,i,a)}return t}function Sf(e){return rs(e)?e.get():e}function WU({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:ZU(s,r,i,e),renderState:t()}}function ZU(e,t,s,r){const i={},a=r(e,{});for(const u in a)i[u]=Sf(a[u]);let{initial:o,animate:c}=e;const d=Np(e),h=UA(e);t&&h&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let f=s?s.initial===!1:!1;f=f||o===!1;const m=f?c:o;if(m&&typeof m!="boolean"&&!_p(m)){const u=Array.isArray(m)?m:[m];for(let p=0;p<u.length;p++){const y=fw(e,u[p]);if(y){const{transitionEnd:v,transition:w,...x}=y;for(const b in x){let _=x[b];if(Array.isArray(_)){const N=f?_.length-1:0;_=_[N]}_!==null&&(i[b]=_)}for(const b in v)i[b]=v[b]}}}return i}const KA=e=>(t,s)=>{const r=j.useContext(jp),i=j.useContext(wp),a=()=>WU(e,t,r,i);return s?a():$b(a)};function mw(e,t,s){var a;const{style:r}=e,i={};for(const o in r)(rs(r[o])||t.style&&rs(t.style[o])||qA(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const GU=KA({scrapeMotionValuesFromProps:mw,createRenderState:uw});function YA(e,t,s){const r=mw(e,t,s);for(const i in e)if(rs(e[i])||rs(t[i])){const a=Vc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const KU=KA({scrapeMotionValuesFromProps:YA,createRenderState:ZA}),YU=Symbol.for("motionComponentSymbol");function Rl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XU(e,t,s){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Rl(s)&&(s.current=r))},[t])}const pw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QU="framerAppearId",XA="data-"+pw(QU),QA=j.createContext({});function JU(e,t,s,r,i){var v,w;const{visualElement:a}=j.useContext(jp),o=j.useContext(BA),c=j.useContext(wp),d=j.useContext(ow).reducedMotion,h=j.useRef(null);r=r||o.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=j.useContext(QA);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&eq(h.current,s,i,m);const u=j.useRef(!1);j.useInsertionEffect(()=>{f&&u.current&&f.update(s,c)});const p=s[XA],y=j.useRef(!!p&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return KT(()=>{f&&(u.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),j.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,p)}),y.current=!1),f.enteringChildren=void 0)}),f}function eq(e,t,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:JA(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Rl(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:d,layoutRoot:h})}function JA(e){if(e)return e.options.allowProjection!==!1?e.projection:JA(e.parent)}function yv(e,{forwardMotionProps:t=!1}={},s,r){s&&CU(s);const i=hw(e)?KU:GU;function a(c,d){let h;const f={...j.useContext(ow),...c,layoutId:tq(c)},{isStatic:m}=f,u=OU(c),p=i(c,m);if(!m&&zb){nq();const y=sq(f);h=y.MeasureLayout,u.visualElement=JU(e,p,f,r,y.ProjectionNode)}return n.jsxs(jp.Provider,{value:u,children:[h&&u.visualElement?n.jsx(h,{visualElement:u.visualElement,...f}):null,HU(e,c,XU(p,u.visualElement,d),p,m,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(a);return o[YU]=e,o}function tq({layoutId:e}){const t=j.useContext(Fb).id;return t&&e!==void 0?t+"-"+e:e}function nq(e,t){j.useContext(BA).strict}function sq(e){const{drag:t,layout:s}=wc;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rq(e,t){if(typeof Proxy>"u")return yv;const s=new Map,r=(a,o)=>yv(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,yv(o,void 0,e,t)),s.get(o))})}function eO({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function iq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function aq(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function bv(e){return e===void 0||e===1}function oy({scale:e,scaleX:t,scaleY:s}){return!bv(e)||!bv(t)||!bv(s)}function go(e){return oy(e)||tO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tO(e){return C1(e.x)||C1(e.y)}function C1(e){return e&&e!=="0%"}function fm(e,t,s){const r=e-s,i=t*r;return s+i}function E1(e,t,s,r,i){return i!==void 0&&(e=fm(e,i,r)),fm(e,s,r)+t}function ly(e,t=0,s=1,r,i){e.min=E1(e.min,t,s,r,i),e.max=E1(e.max,t,s,r,i)}function nO(e,{x:t,y:s}){ly(e.x,t.translate,t.scale,t.originPoint),ly(e.y,s.translate,s.scale,s.originPoint)}const P1=.999999999999,T1=1.0000000000001;function oq(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let c=0;c<i;c++){a=s[c],o=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ml(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nO(e,o)),r&&go(a.latestValues)&&Ml(e,a.latestValues))}t.x<T1&&t.x>P1&&(t.x=1),t.y<T1&&t.y>P1&&(t.y=1)}function Ll(e,t){e.min=e.min+t,e.max=e.max+t}function A1(e,t,s,r,i=.5){const a=on(e.min,e.max,i);ly(e,t,s,a,r)}function Ml(e,t){A1(e.x,t.x,t.scaleX,t.scale,t.originX),A1(e.y,t.y,t.scaleY,t.scale,t.originY)}function sO(e,t){return eO(aq(e.getBoundingClientRect(),t))}function lq(e,t,s){const r=sO(e,s),{scroll:i}=t;return i&&(Ll(r.x,i.offset.x),Ll(r.y,i.offset.y)),r}const O1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Il=()=>({x:O1(),y:O1()}),R1=()=>({min:0,max:0}),wn=()=>({x:R1(),y:R1()}),cy={current:null},rO={current:!1};function cq(){if(rO.current=!0,!!zb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cy.current=e.matches;e.addEventListener("change",t),t()}else cy.current=!1}const dq=new WeakMap;function uq(e,t,s){for(const r in t){const i=t[r],a=s[r];if(rs(i))e.addValue(r,i);else if(rs(a))e.addValue(r,bc(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,bc(o!==void 0?o:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const L1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hq{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=nw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const u=As.now();this.renderScheduledAt<u&&(this.renderScheduledAt=u,sn.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=s.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Np(s),this.isVariantNode=UA(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(s,{},this);for(const u in m){const p=m[u];d[u]!==void 0&&rs(p)&&p.set(d[u])}}mount(t){var s;this.current=t,dq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),rO.current||cq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cy.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Za(this.notifyUpdate),Za(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Uc.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&sn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wc){const s=wc[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<L1.length;r++){const i=L1[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=uq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=bc(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(YT(r)||QT(r))?r=parseFloat(r):!jU(r)&&Ga.test(s)&&(r=RA(t,s)),this.setBaseTarget(t,rs(r)?r.get():r)),rs(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=fw(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!rs(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new qb),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){iw.render(this.render)}}class iO extends hq{constructor(){super(...arguments),this.KeyframeResolver=dU}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;rs(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function aO(e,{style:t,vars:s},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function fq(e){return window.getComputedStyle(e)}class mq extends iO{constructor(){super(...arguments),this.type="html",this.renderInstance=aO}readValueFromInstance(t,s){var r;if(Uc.has(s))return(r=this.projection)!=null&&r.isProjecting?ey(s):P7(t,s);{const i=fq(t),a=(Zb(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return sO(t,s)}build(t,s,r){dw(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return mw(t,s,r)}}const oO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pq(e,t,s,r){aO(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(oO.has(i)?i:pw(i),t.attrs[i])}class gq extends iO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wn}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Uc.has(s)){const r=OA(s);return r&&r.default||0}return s=oO.has(s)?s:pw(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return YA(t,s,r)}build(t,s,r){WA(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,i){pq(t,s,r,i)}mount(t){this.isSVGTag=GA(t.tagName),super.mount(t)}}const vq=(e,t)=>hw(e)?new gq(t):new mq(t,{allowProjection:e!==j.Fragment});function Yl(e,t,s){const r=e.getProps();return fw(r,t,s!==void 0?s:r.custom,e)}const dy=e=>Array.isArray(e);function xq(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,bc(s))}function yq(e){return dy(e)?e[e.length-1]||0:e}function bq(e,t){const s=Yl(e,t);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const c=yq(a[o]);xq(e,o,c)}}function wq(e){return!!(rs(e)&&e.add)}function uy(e,t){const s=e.getValue("willChange");if(wq(s))return s.add(t);if(!s&&ta.WillChange){const r=new ta.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function lO(e){return e.props[XA]}const jq=e=>e!==null;function _q(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(jq),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Nq={type:"spring",stiffness:500,damping:25,restSpeed:10},Sq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kq={type:"keyframes",duration:.8},Cq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Eq=(e,{keyframes:t})=>t.length>2?kq:Uc.has(e)?e.startsWith("scale")?Sq(t[1]):Nq:Cq;function Pq({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const gw=(e,t,s,r={},i,a)=>o=>{const c=sw(r,e)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-hi(d);const f={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:u=>{t.set(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};Pq(c)||Object.assign(f,Eq(e,f)),f.duration&&(f.duration=hi(f.duration)),f.repeatDelay&&(f.repeatDelay=hi(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(iy(f),f.delay===0&&(m=!0)),(ta.instantAnimations||ta.skipAnimations)&&(m=!0,iy(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!a&&t.get()!==void 0){const u=_q(f.keyframes,c);if(u!==void 0){sn.update(()=>{f.onUpdate(u),f.onComplete()});return}}return c.isSync?new tw(f):new Q7(f)};function Tq({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function cO(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,e.latestValues[f]??null),u=c[f];if(u===void 0||h&&Tq(h,f))continue;const p={delay:s,...sw(a||{},f)},y=m.get();if(y!==void 0&&!m.isAnimating&&!Array.isArray(u)&&u===y&&!p.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const x=lO(e);if(x){const b=window.MotionHandoffAnimation(x,f,sn);b!==null&&(p.startTime=b,v=!0)}}uy(e,f),m.start(gw(f,m,u,e.shouldReduceMotion&&PA.has(f)?{type:!1}:p,e,v));const w=m.animation;w&&d.push(w)}return o&&Promise.all(d).then(()=>{sn.update(()=>{o&&bq(e,o)})}),d}function dO(e,t,s,r=0,i=1){const a=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),o=e.size,c=(o-1)*r;return typeof s=="function"?s(a,o):i===1?a*r:c-a*r}function hy(e,t,s={}){var d;const r=Yl(e,t,s.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(cO(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:u}=i;return Aq(e,t,h,f,m,u,s)}:()=>Promise.resolve(),{when:c}=i;if(c){const[h,f]=c==="beforeChildren"?[a,o]:[o,a];return h().then(()=>f())}else return Promise.all([a(),o(s.delay)])}function Aq(e,t,s=0,r=0,i=0,a=1,o){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(hy(d,t,{...o,delay:s+(typeof r=="function"?0:r)+dO(e.variantChildren,d,r,i,a)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function Oq(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>hy(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=hy(e,t,s);else{const i=typeof t=="function"?Yl(e,t,s.custom):t;r=Promise.all(cO(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function uO(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Rq=cw.length;function hO(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?hO(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Rq;s++){const r=cw[s],i=e.props[r];(Mu(i)||i===!1)&&(t[r]=i)}return t}const Lq=[...lw].reverse(),Mq=lw.length;function Iq(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Oq(e,s,r)))}function Dq(e){let t=Iq(e),s=M1(),r=!0;const i=d=>(h,f)=>{var u;const m=Yl(e,f,d==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);if(m){const{transition:p,transitionEnd:y,...v}=m;h={...h,...v,...y}}return h};function a(d){t=d(e)}function o(d){const{props:h}=e,f=hO(e.parent)||{},m=[],u=new Set;let p={},y=1/0;for(let w=0;w<Mq;w++){const x=Lq[w],b=s[x],_=h[x]!==void 0?h[x]:f[x],N=Mu(_),C=x===d?b.isActive:null;C===!1&&(y=w);let I=_===f[x]&&_!==h[x]&&N;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...p},!b.isActive&&C===null||!_&&!b.prevProp||_p(_)||typeof _=="boolean")continue;const k=Fq(b.prevProp,_);let P=k||x===d&&b.isActive&&!I&&N||w>y&&N,R=!1;const E=Array.isArray(_)?_:[_];let T=E.reduce(i(x),{});C===!1&&(T={});const{prevResolvedValues:A={}}=b,$={...A,...T},O=Y=>{P=!0,u.has(Y)&&(R=!0,u.delete(Y)),b.needsAnimating[Y]=!0;const K=e.getValue(Y);K&&(K.liveStyle=!1)};for(const Y in $){const K=T[Y],U=A[Y];if(p.hasOwnProperty(Y))continue;let B=!1;dy(K)&&dy(U)?B=!uO(K,U):B=K!==U,B?K!=null?O(Y):u.add(Y):K!==void 0&&u.has(Y)?O(Y):b.protectedKeys[Y]=!0}b.prevProp=_,b.prevResolvedValues=T,b.isActive&&(p={...p,...T}),r&&e.blockInitialAnimation&&(P=!1);const F=I&&k;P&&(!F||R)&&m.push(...E.map(Y=>{const K={type:x};if(typeof Y=="string"&&r&&!F&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,B=Yl(U,Y);if(U.enteringChildren&&B){const{delayChildren:M}=B.transition||{};K.delay=dO(U.enteringChildren,e,M)}}return{animation:Y,options:K}}))}if(u.size){const w={};if(typeof h.initial!="boolean"){const x=Yl(e,Array.isArray(h.initial)?h.initial[0]:h.initial);x&&x.transition&&(w.transition=x.transition)}u.forEach(x=>{const b=e.getBaseTarget(x),_=e.getValue(x);_&&(_.liveStyle=!0),w[x]=b??null}),m.push({animation:w})}let v=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(m):Promise.resolve()}function c(d,h){var m;if(s[d].isActive===h)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(u=>{var p;return(p=u.animationState)==null?void 0:p.setActive(d,h)}),s[d].isActive=h;const f=o(d);for(const u in s)s[u].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>s,reset:()=>{s=M1(),r=!0}}}function Fq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!uO(t,e):!1}function ho(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function M1(){return{animate:ho(!0),whileInView:ho(),whileHover:ho(),whileTap:ho(),whileDrag:ho(),whileFocus:ho(),exit:ho()}}class so{constructor(t){this.isMounted=!1,this.node=t}update(){}}class $q extends so{constructor(t){super(t),t.animationState||(t.animationState=Dq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_p(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let zq=0;class Bq extends so{constructor(){super(...arguments),this.id=zq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Vq={animation:{Feature:$q},exit:{Feature:Bq}};function Du(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function ih(e){return{point:{x:e.pageX,y:e.pageY}}}const Uq=e=>t=>aw(t)&&e(t,ih(t));function Gd(e,t,s,r){return Du(e,t,Uq(s),r)}const fO=1e-4,qq=1-fO,Hq=1+fO,mO=.01,Wq=0-mO,Zq=0+mO;function gs(e){return e.max-e.min}function Gq(e,t,s){return Math.abs(e-t)<=s}function I1(e,t,s,r=.5){e.origin=r,e.originPoint=on(t.min,t.max,e.origin),e.scale=gs(s)/gs(t),e.translate=on(s.min,s.max,e.origin)-e.originPoint,(e.scale>=qq&&e.scale<=Hq||isNaN(e.scale))&&(e.scale=1),(e.translate>=Wq&&e.translate<=Zq||isNaN(e.translate))&&(e.translate=0)}function Kd(e,t,s,r){I1(e.x,t.x,s.x,r?r.originX:void 0),I1(e.y,t.y,s.y,r?r.originY:void 0)}function D1(e,t,s){e.min=s.min+t.min,e.max=e.min+gs(t)}function Kq(e,t,s){D1(e.x,t.x,s.x),D1(e.y,t.y,s.y)}function F1(e,t,s){e.min=t.min-s.min,e.max=e.min+gs(t)}function Yd(e,t,s){F1(e.x,t.x,s.x),F1(e.y,t.y,s.y)}function Js(e){return[e("x"),e("y")]}const pO=({current:e})=>e?e.ownerDocument.defaultView:null,$1=(e,t)=>Math.abs(e-t);function Yq(e,t){const s=$1(e.x,t.x),r=$1(e.y,t.y);return Math.sqrt(s**2+r**2)}class gO{constructor(t,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=jv(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=Yq(u.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!y)return;const{point:v}=u,{timestamp:w}=Wn;this.history.push({...v,timestamp:w});const{onStart:x,onMove:b}=this.handlers;p||(x&&x(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,u)},this.handlePointerMove=(u,p)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=wv(p,this.transformPagePoint),sn.update(this.updatePoint,!0)},this.handlePointerUp=(u,p)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=jv(u.type==="pointercancel"?this.lastMoveEventInfo:wv(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(u,x),v&&v(u,x)},!aw(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=ih(t),d=wv(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=Wn;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=s;m&&m(t,jv(d,this.history)),this.removeListeners=nh(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Za(this.updatePoint)}}function wv(e,t){return t?{point:t(e.point)}:e}function z1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jv({point:e},t){return{point:e,delta:z1(e,vO(t)),offset:z1(e,Xq(t)),velocity:Qq(t,.1)}}function Xq(e){return e[0]}function vO(e){return e[e.length-1]}function Qq(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=vO(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>hi(t)));)s--;if(!r)return{x:0,y:0};const a=fi(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jq(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?on(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?on(s,e,r.max):Math.min(e,s)),e}function B1(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function eH(e,{top:t,left:s,bottom:r,right:i}){return{x:B1(e.x,s,i),y:B1(e.y,t,r)}}function V1(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function tH(e,t){return{x:V1(e.x,t.x),y:V1(e.y,t.y)}}function nH(e,t){let s=.5;const r=gs(e),i=gs(t);return i>r?s=Ou(t.min,t.max-r,e.min):r>i&&(s=Ou(e.min,e.max-i,t.min)),ea(0,1,s)}function sH(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const fy=.35;function rH(e=fy){return e===!1?e=0:e===!0&&(e=fy),{x:U1(e,"left","right"),y:U1(e,"top","bottom")}}function U1(e,t,s){return{min:q1(e,t),max:q1(e,s)}}function q1(e,t){return typeof e=="number"?e:e[t]||0}const iH=new WeakMap;class aH{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=m=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ih(m).point)},o=(m,u)=>{const{drag:p,dragPropagation:y,onDragStart:v}=this.getProps();if(p&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mU(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=u,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Js(x=>{let b=this.getAxisMotionValue(x).get()||0;if(mi.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[x];N&&(b=gs(N)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&sn.postRender(()=>v(m,u)),uy(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u;const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=u;if(y&&this.currentDirection===null){this.currentDirection=oH(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",u.point,x),this.updateAxis("y",u.point,x),this.visualElement.render(),w&&w(m,u)},d=(m,u)=>{this.latestPointerEvent=m,this.latestPanInfo=u,this.stop(m,u),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Js(m=>{var u;return this.getAnimationState(m)==="paused"&&((u=this.getAxisMotionValue(m).animation)==null?void 0:u.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new gO(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:pO(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&sn.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!nf(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Jq(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=eH(r.layoutBox,t):this.constraints=!1,this.elastic=rH(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Js(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=sH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Rl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=lq(r,i.root,this.visualElement.getTransformPagePoint());let o=tH(i.layout.layoutBox,a);if(s){const c=s(iq(o));this.hasMutatedConstraints=!!c,c&&(o=eO(c))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Js(f=>{if(!nf(f,s,this.currentDirection))return;let m=d&&d[f]||{};o&&(m={min:0,max:0});const u=i?200:1e6,p=i?40:1e7,y={type:"inertia",velocity:r?t[f]:0,bounceStiffness:u,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,y)});return Promise.all(h).then(c)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return uy(this.visualElement,t),r.start(gw(t,r,0,s,this.visualElement,!1))}stopAnimation(){Js(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Js(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Js(s=>{const{drag:r}=this.getProps();if(!nf(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[s];a.set(t[s]-on(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Rl(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Js(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();i[o]=nH({min:d,max:d},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Js(o=>{if(!nf(o,t,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(on(d,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;iH.set(this.visualElement,this);const t=this.visualElement.current,s=Gd(t,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Rl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),sn.read(r);const o=Du(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Js(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=d[f].translate,m.set(m.get()+d[f].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=fy,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function nf(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function oH(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class lH extends so{constructor(t){super(t),this.removeGroupControls=lr,this.removeListeners=lr,this.controls=new aH(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const H1=e=>(t,s)=>{e&&sn.postRender(()=>e(t,s))};class cH extends so{constructor(){super(...arguments),this.removePointerDownListener=lr}onPointerDown(t){this.session=new gO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:H1(t),onStart:H1(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&sn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function W1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(at.test(e))e=parseFloat(e);else return e;const s=W1(e,t.target.x),r=W1(e,t.target.y);return`${s}% ${r}%`}},dH={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=Ga.parse(e);if(i.length>5)return r;const a=Ga.createTransformer(e),o=typeof i[0]!="number"?1:0,c=s.x.scale*t.x,d=s.y.scale*t.y;i[0+o]/=c,i[1+o]/=d;const h=on(c,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),a(i)}};let _v=!1;class uH extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;RU(hH),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),_v&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,_v=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||sn.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),iw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;_v=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xO(e){const[t,s]=zA(),r=j.useContext(Fb);return n.jsx(uH,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(QA),isPresent:t,safeToRemove:s})}const hH={borderRadius:{...wd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wd,borderTopRightRadius:wd,borderBottomLeftRadius:wd,borderBottomRightRadius:wd,boxShadow:dH};function fH(e,t,s){const r=rs(e)?e:bc(e);return r.start(gw("",r,t,s)),r.animation}const mH=(e,t)=>e.depth-t.depth;class pH{constructor(){this.children=[],this.isDirty=!1}add(t){Bb(this.children,t),this.isDirty=!0}remove(t){Vb(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mH),this.isDirty=!1,this.children.forEach(t)}}function gH(e,t){const s=As.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(Za(r),e(a-t))};return sn.setup(r,!0),()=>Za(r)}const yO=["TopLeft","TopRight","BottomLeft","BottomRight"],vH=yO.length,Z1=e=>typeof e=="string"?parseFloat(e):e,G1=e=>typeof e=="number"||at.test(e);function xH(e,t,s,r,i,a){i?(e.opacity=on(0,s.opacity??1,yH(r)),e.opacityExit=on(t.opacity??1,0,bH(r))):a&&(e.opacity=on(t.opacity??1,s.opacity??1,r));for(let o=0;o<vH;o++){const c=`border${yO[o]}Radius`;let d=K1(t,c),h=K1(s,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||G1(d)===G1(h)?(e[c]=Math.max(on(Z1(d),Z1(h),r),0),(mi.test(h)||mi.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||s.rotate)&&(e.rotate=on(t.rotate||0,s.rotate||0,r))}function K1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yH=bO(0,.5,aA),bH=bO(.5,.95,lr);function bO(e,t,s){return r=>r<e?0:r>t?1:s(Ou(e,t,r))}function Y1(e,t){e.min=t.min,e.max=t.max}function Qs(e,t){Y1(e.x,t.x),Y1(e.y,t.y)}function X1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Q1(e,t,s,r,i){return e-=t,e=fm(e,1/s,r),i!==void 0&&(e=fm(e,1/i,r)),e}function wH(e,t=0,s=1,r=.5,i,a=e,o=e){if(mi.test(t)&&(t=parseFloat(t),t=on(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=on(a.min,a.max,r);e===a&&(c-=t),e.min=Q1(e.min,t,s,c,i),e.max=Q1(e.max,t,s,c,i)}function J1(e,t,[s,r,i],a,o){wH(e,t[s],t[r],t[i],t.scale,a,o)}const jH=["x","scaleX","originX"],_H=["y","scaleY","originY"];function eS(e,t,s,r){J1(e.x,t,jH,s?s.x:void 0,r?r.x:void 0),J1(e.y,t,_H,s?s.y:void 0,r?r.y:void 0)}function tS(e){return e.translate===0&&e.scale===1}function wO(e){return tS(e.x)&&tS(e.y)}function nS(e,t){return e.min===t.min&&e.max===t.max}function NH(e,t){return nS(e.x,t.x)&&nS(e.y,t.y)}function sS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jO(e,t){return sS(e.x,t.x)&&sS(e.y,t.y)}function rS(e){return gs(e.x)/gs(e.y)}function iS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class SH{constructor(){this.members=[]}add(t){Bb(this.members,t),t.scheduleRender()}remove(t){if(Vb(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kH(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:u,skewX:p,skewY:y}=s;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),u&&(r+=`rotateY(${u}deg) `),p&&(r+=`skewX(${p}deg) `),y&&(r+=`skewY(${y}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const Nv=["","X","Y","Z"],CH=1e3;let EH=0;function Sv(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function _O(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=lO(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",sn,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&_O(r)}function NO({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=EH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AH),this.nodes.forEach(MH),this.nodes.forEach(IH),this.nodes.forEach(OH)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new pH)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new qb),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=$A(o)&&!bU(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let f,m=0;const u=()=>this.root.updateBlockedByResize=!1;sn.read(()=>{m=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,f&&f(),f=gH(u,250),kf.hasAnimatedSinceResize&&(kf.hasAnimatedSinceResize=!1,this.nodes.forEach(lS)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:u,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||h.getDefaultTransition()||BH,{onLayoutAnimationStart:v,onLayoutAnimationComplete:w}=h.getProps(),x=!this.targetLayout||!jO(this.targetLayout,p),b=!m&&u;if(this.options.layoutRoot||this.resumeFrom||b||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...sw(y,"layout"),onPlay:v,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(f,b)}else m||lS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_O(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LH),this.nodes.forEach(PH),this.nodes.forEach(TH)):this.nodes.forEach(oS),this.clearAllSnapshots();const c=As.now();Wn.delta=ea(0,1e3/60,c-Wn.timestamp),Wn.timestamp=c,Wn.isProcessing=!0,fv.update.process(Wn),fv.preRender.process(Wn),fv.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,iw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RH),this.sharedNodes.forEach(FH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gs(this.snapshot.measuredBox.x)&&!gs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!wO(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||go(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),VH(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:o}=this.options;if(!o)return wn();const c=o.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(UH))){const{scroll:f}=this.root;f&&(Ll(c.x,f.offset.x),Ll(c.y,f.offset.y))}return c}removeElementScroll(o){var d;const c=wn();if(Qs(c,o),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:m,options:u}=f;f!==this.root&&m&&u.layoutScroll&&(m.wasRoot&&Qs(c,o),Ll(c.x,m.offset.x),Ll(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=wn();Qs(d,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ml(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),go(f.latestValues)&&Ml(d,f.latestValues)}return go(this.latestValues)&&Ml(d,this.latestValues),d}removeTransform(o){const c=wn();Qs(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!go(h.latestValues))continue;oy(h.latestValues)&&h.updateSnapshot();const f=wn(),m=h.measurePageBox();Qs(f,m),eS(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return go(this.latestValues)&&eS(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(u=this.parent)!=null&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wn(),this.targetWithTransforms=wn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),nO(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wn(),this.relativeTargetOrigin=wn(),Yd(this.relativeTargetOrigin,this.target,p.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oy(this.parent.latestValues)||tO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Qs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,u=this.treeScale.y;oq(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=wn());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X1(this.prevProjectionDelta.x,this.projectionDelta.x),X1(this.prevProjectionDelta.y,this.projectionDelta.y)),Kd(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==u||!iS(this.projectionDelta.x,this.prevProjectionDelta.x)||!iS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Il(),this.projectionDelta=Il(),this.projectionDeltaWithTransform=Il()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},m=Il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const u=wn(),p=d?d.source:void 0,y=this.layout?this.layout.source:void 0,v=p!==y,w=this.getStack(),x=!w||w.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(zH));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const C=N/1e3;cS(m.x,o.x,C),cS(m.y,o.y,C),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(u,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$H(this.relativeTarget,this.relativeTargetOrigin,u,C),_&&NH(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=wn()),Qs(_,this.relativeTarget)),v&&(this.animationValues=f,xH(f,h,this.latestValues,C,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sn.update(()=>{kf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bc(0)),this.currentAnimation=fH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:f}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&SO(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||wn();const m=gs(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+m;const u=gs(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+u}Qs(c,d),Ml(c,f),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SH),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&Sv("z",o,h,this.animationValues);for(let f=0;f<Nv.length;f++)Sv(`rotate${Nv[f]}`,o,h,this.animationValues),Sv(`skew${Nv[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Sf(c==null?void 0:c.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Sf(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=kH(this.projectionDeltaWithTransform,this.treeScale,f);d&&(m=d(f,m)),o.transform=m;const{x:u,y:p}=this.projectionDelta;o.transformOrigin=`${u.origin*100}% ${p.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in Iu){if(f[y]===void 0)continue;const{correct:v,applyTo:w,isCSSVariable:x}=Iu[y],b=m==="none"?f[y]:v(f[y],h);if(w){const _=w.length;for(let N=0;N<_;N++)o[w[N]]=b}else x?this.options.visualElement.renderState.vars[y]=b:o[y]=b}this.options.layoutId&&(o.pointerEvents=h===this?Sf(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(aS),this.root.sharedNodes.clear()}}}function PH(e){e.updateLayout()}function TH(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Js(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=gs(u);u.min=r[m].min,u.max=u.min+p}):SO(a,t.layoutBox,r)&&Js(m=>{const u=o?t.measuredBox[m]:t.layoutBox[m],p=gs(r[m]);u.max=u.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+p)});const c=Il();Kd(c,r,t.layoutBox);const d=Il();o?Kd(d,e.applyTransform(i,!0),t.measuredBox):Kd(d,r,t.layoutBox);const h=!wO(c);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:u,layout:p}=m;if(u&&p){const y=wn();Yd(y,t.layoutBox,u.layoutBox);const v=wn();Yd(v,r,p.layoutBox),jO(y,v)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=y,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AH(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function OH(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function RH(e){e.clearSnapshot()}function aS(e){e.clearMeasurements()}function oS(e){e.isLayoutDirty=!1}function LH(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function MH(e){e.resolveTargetDelta()}function IH(e){e.calcProjection()}function DH(e){e.resetSkewAndRotation()}function FH(e){e.removeLeadSnapshot()}function cS(e,t,s){e.translate=on(t.translate,0,s),e.scale=on(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function dS(e,t,s,r){e.min=on(t.min,s.min,r),e.max=on(t.max,s.max,r)}function $H(e,t,s,r){dS(e.x,t.x,s.x,r),dS(e.y,t.y,s.y,r)}function zH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const BH={duration:.45,ease:[.4,0,.1,1]},uS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hS=uS("applewebkit/")&&!uS("chrome/")?Math.round:lr;function fS(e){e.min=hS(e.min),e.max=hS(e.max)}function VH(e){fS(e.x),fS(e.y)}function SO(e,t,s){return e==="position"||e==="preserve-aspect"&&!Gq(rS(t),rS(s),.2)}function UH(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const qH=NO({attachResizeListener:(e,t)=>Du(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kv={current:void 0},kO=NO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kv.current){const e=new qH({});e.mount(window),e.setOptions({layoutScroll:!0}),kv.current=e}return kv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HH={pan:{Feature:cH},drag:{Feature:lH,ProjectionNode:kO,MeasureLayout:xO}};function mS(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&sn.postRender(()=>a(t,ih(t)))}class WH extends so{mount(){const{current:t}=this.node;t&&(this.unmount=pU(t,(s,r)=>(mS(this.node,r,"Start"),i=>mS(this.node,i,"End"))))}unmount(){}}class ZH extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nh(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pS(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&sn.postRender(()=>a(t,ih(t)))}class GH extends so{mount(){const{current:t}=this.node;t&&(this.unmount=yU(t,(s,r)=>(pS(this.node,r,"Start"),(i,{success:a})=>pS(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,Cv=new WeakMap,KH=e=>{const t=my.get(e.target);t&&t(e)},YH=e=>{e.forEach(KH)};function XH({root:e,...t}){const s=e||document;Cv.has(s)||Cv.set(s,{});const r=Cv.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(YH,{root:e,...t})),r[i]}function QH(e,t,s){const r=XH(t);return my.set(e,s),r.observe(e),()=>{my.delete(e),r.unobserve(e)}}const JH={some:0,all:1};class eW extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:JH[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),u=h?f:m;u&&u(d)};return QH(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(tW(t,s))&&this.startObserver()}unmount(){}}function tW({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const nW={inView:{Feature:eW},tap:{Feature:GH},focus:{Feature:ZH},hover:{Feature:WH}},sW={layout:{ProjectionNode:kO,MeasureLayout:xO}},rW={...Vq,...nW,...HH,...sW},Xl=rq(rW,vq),iW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function aW(e){const t=Math.floor(e),s=e%1>=.5,r=5-t-(s?1:0);return n.jsxs(n.Fragment,{children:[Array.from({length:t}).map((i,a)=>n.jsx(cn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400"},`full-${a}`)),s&&n.jsx(cn,{className:"h-2.5 w-2.5 fill-yellow-400 text-yellow-400",style:{clipPath:"inset(0 50% 0 0)"}},"half"),Array.from({length:r}).map((i,a)=>n.jsx(cn,{className:"h-2.5 w-2.5 stroke-yellow-400 text-transparent"},`empty-${a}`))]})}function oW(){const e=rt(),[t,s]=j.useState([]),[r,i]=j.useState(!0),[a,o]=j.useState(xt.getLocation());j.useEffect(()=>{const f=xt.subscribe(o);return c(),f},[]),j.useEffect(()=>{a&&c()},[a]);const c=async()=>{try{i(!0);const f={"ngrok-skip-browser-warning":"true"},m=xt.getLocation(),u=new URLSearchParams({page_size:"20"});m&&(u.append("latitude",m.latitude.toString()),u.append("longitude",m.longitude.toString()));const y=await(await fetch(`${st}search/products/?${u}`,{headers:f})).json(),v=d(y.results||[]);s(v)}catch(f){console.error("Error fetching trending items:",f)}finally{i(!1)}},d=f=>{const m=xt.getLocation();let u=f.map(p=>{var x,b;const y=((x=p.images)==null?void 0:x.find(_=>_.is_primary))||((b=p.images)==null?void 0:b[0]);let v="N/A",w=1/0;return m&&p.vendor_latitude&&p.vendor_longitude&&(w=iW(m.latitude,m.longitude,p.vendor_latitude,p.vendor_longitude),v=`${w.toFixed(1)} km`),{id:p.id,name:p.name,vendor:p.vendor_name||"Unknown Vendor",distance:v,distanceValue:w,rating:4.5,price:`${p.price}`,priceValue:parseFloat(p.price),image:(y==null?void 0:y.image_url)||"/placeholder-product.jpg",inStock:p.quantity>0,category:p.category}});return u.sort((p,y)=>y.rating-p.rating),u.slice(0,6)},h=f=>{e(`/product/${f}`)};return r?n.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),n.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Bn,{className:"h-8 w-8 animate-spin"})})]}):n.jsxs("section",{className:"px-4 sm:px-6 md:px-8 mb-6 lg:mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-foreground tracking-tight",children:"Trending Now "}),n.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/trending-items"),children:"View All"})]}),n.jsx("div",{className:"flex gap-3 sm:gap-4 overflow-x-auto custom-scrollbar pb-3 snap-x snap-mandatory",children:t.map((f,m)=>n.jsxs(Xl.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,delay:m*.08,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 12px 24px rgba(0,0,0,0.15)"},whileTap:{scale:.97},className:"relative min-w-[120px] sm:min-w-[140px] md:min-w-[120px] bg-gradient-to-br from-card/90 to-card rounded-xl p-3 shadow-lg border border-border/20 hover:shadow-xl hover:border-primary/40 transition-all duration-300 cursor-pointer group snap-start",onClick:()=>h(f.id),"aria-label":`View ${f.name} from ${f.vendor}`,children:[n.jsxs(wN,{children:[n.jsx(jN,{asChild:!0,children:n.jsx("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-full p-1 shadow-md group-hover:animate-bounce",children:n.jsx(ED,{className:"h-3 w-3"})})}),n.jsx(Fx,{side:"top",className:"text-xs",children:"Hot Item!"})]}),n.jsx("div",{className:"w-full h-20 mb-2 overflow-hidden rounded-md",children:n.jsx("img",{src:f.image,alt:f.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ease-in-out",onError:u=>{u.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-semibold text-xs mb-1 text-foreground line-clamp-1",children:f.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:f.vendor}),n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"flex gap-0.5",children:aW(f.rating)}),n.jsxs(wN,{children:[n.jsx(jN,{asChild:!0,children:n.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{className:"text-xs",children:f.distance})]})}),n.jsx(Fx,{side:"bottom",className:"text-xs",children:"Distance from you"})]})]}),n.jsx("p",{className:"font-bold text-primary text-sm",children:f.price})]},f.id))})]})}const lW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function cW(){const e=rt(),{addToCart:t}=fr(),{toast:s}=un(),[r,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState(xt.getLocation());j.useEffect(()=>{const p=xt.subscribe(d);return h(),p},[]),j.useEffect(()=>{c&&h()},[c]);const h=async()=>{try{o(!0);const p={"ngrok-skip-browser-warning":"true"},y=xt.getLocation(),v=new URLSearchParams({page_size:"20"});y&&(v.append("latitude",y.latitude.toString()),v.append("longitude",y.longitude.toString()));const x=await(await fetch(`${st}search/products/?${v}`,{headers:p})).json(),b=f(x.results||[]);i(b)}catch(p){console.error("Error fetching featured products:",p)}finally{o(!1)}},f=p=>{const y=xt.getLocation();let w=p.filter(x=>x.featured===!0).map(x=>{var C,I;const b=((C=x.images)==null?void 0:C.find(k=>k.is_primary))||((I=x.images)==null?void 0:I[0]);let _="N/A",N=1/0;return y&&x.vendor_latitude&&x.vendor_longitude&&(N=lW(y.latitude,y.longitude,x.vendor_latitude,x.vendor_longitude),_=`${N.toFixed(1)} km`),{id:x.id,name:x.name,vendor:x.vendor_name||"Unknown Vendor",distance:_,distanceValue:N,rating:4.5,price:`${x.price}`,priceValue:parseFloat(x.price),image:(b==null?void 0:b.image_url)||"/placeholder-product.jpg",inStock:x.quantity>0,category:x.category,featured:x.featured}});return w.sort((x,b)=>b.rating-x.rating),w.slice(0,6)},m=p=>{e(`/product/${p}`)},u=p=>{t(p.id,1),s({title:"Added to Cart",description:`${p.name} added to your cart`}),e("/cart")};return a?n.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"})}),n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(Bn,{className:"h-8 w-8 animate-spin"})})]}):n.jsxs("section",{className:"px-4 py-3 mb-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl md:text-2xl font-semibold tracking-tight text-black",children:"Featured Products"}),n.jsx(ne,{variant:"outline",size:"sm",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},className:"rounded-full hover:bg-[#856043] hover:text-white text-sm",onClick:()=>e("/featured-items"),children:"View All"})]}),n.jsx("div",{className:"flex gap-3 overflow-x-auto pb-3 md:grid md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 md:overflow-visible md:pb-0",children:r.map((p,y)=>n.jsxs(Xl.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:y*.1,duration:.3},whileHover:{scale:1.02,rotate:.5},className:"relative flex-shrink-0 w-40 md:w-auto rounded-lg bg-white border border-gray-200 hover:border-[#856043] shadow-sm hover:shadow-md hover:bg-gray-50 transition-all duration-300 overflow-hidden group cursor-pointer",onClick:()=>m(p.id),children:[n.jsx(Xl.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:y*.1+.2,duration:.2},className:"absolute top-2 left-2 bg-emerald-600 text-white text-xs px-2 py-0.5 rounded-full font-semibold shadow-sm",children:"Featured"}),n.jsx("div",{className:"w-full h-32 overflow-hidden",children:n.jsx("img",{src:p.image,alt:p.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:v=>{v.target.src="/placeholder-product.jpg"}})}),n.jsxs("div",{className:"p-3 flex flex-col justify-between h-40",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-xs md:text-sm text-gray-800 mb-1 line-clamp-2 leading-tight",children:p.name}),n.jsx("p",{className:"text-xs text-gray-600 mb-1 truncate",children:p.vendor})]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("span",{className:"font-medium text-sm text-[#856043]",children:p.price})}),n.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[Array.from({length:5}).map((v,w)=>n.jsx("span",{className:`text-xs ${w<Math.floor(p.rating)?"text-amber-400":"text-gray-300"}`,children:""},w)),n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:p.rating.toFixed(1)})]}),n.jsx("div",{className:"flex justify-center",children:p.inStock?n.jsxs(ne,{variant:"outline",className:"w-full text-xs py-1.5 shadow-sm h-7",style:{borderColor:"#856043",color:"#856043",backgroundColor:"transparent"},onMouseOver:v=>{v.currentTarget.style.backgroundColor="#856043",v.currentTarget.style.color="#ffffff"},onMouseOut:v=>{v.currentTarget.style.backgroundColor="transparent",v.currentTarget.style.color="#856043"},onClick:v=>{v.stopPropagation(),u(p)},children:[n.jsx(Is,{className:"h-3 w-3 mr-1"})," Buy"]}):n.jsx(ne,{disabled:!0,className:"w-full bg-gray-200 text-gray-500 cursor-not-allowed text-xs py-1.5 shadow-sm h-7",children:"Out of Stock"})})]})]})]},p.id))}),r.length===0&&!a&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),n.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]})]})}const dW=e=>[{icon:eb,label:"Home",id:"home",path:"/home"},{icon:Tt,label:"Product",id:"search",path:"/search"},{icon:Is,label:"Cart",id:"cart",path:"/cart",badge:e>0?e:void 0},{icon:SD,label:"Orders",id:"orders",path:"/orders"},{icon:Or,label:"Profile",id:"profile",path:"/profile"}];function Ds(){const[e,t]=j.useState("home"),s=rt(),r=hr(),{cart:i}=fr(),a=dW((i==null?void 0:i.total_items)||0);j.useEffect(()=>{const c=r.pathname,d=a.find(h=>h.path===c);d&&t(d.id)},[r.pathname]);const o=(c,d)=>{t(c),s(d)};return n.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-gray-200/50 z-50 shadow-[0_-2px_8px_rgba(0,0,0,0.05)]",children:[n.jsx("div",{className:"flex justify-around items-center h-20 md:h-14 max-w-lg mx-auto py-2 md:py-1",children:a.map(c=>{const d=e===c.id;return n.jsxs("button",{onClick:()=>o(c.id,c.path),className:`relative flex flex-col items-center justify-center p-4 md:p-2 transition-all duration-300 ease-in-out group ${d?"text-black":"text-gray-500 hover:text-black/80"}`,children:[n.jsxs("div",{className:"relative flex items-center justify-center",children:[n.jsx(c.icon,{className:`h-6 w-6 md:h-5 md:w-5 transition-all duration-300 ease-in-out ${d?"scale-110 drop-shadow-[0_0_6px_rgba(0,0,0,0.2)]":"group-hover:scale-105 group-hover:drop-shadow-[0_0_4px_rgba(0,0,0,0.1)]"}`}),c.badge&&n.jsx("span",{className:"absolute -top-2 -right-3 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold animate-bounce",children:c.badge})]}),n.jsx("span",{className:"text-xs font-semibold tracking-wide mt-1.5 font-sans",children:c.label}),d&&n.jsx("div",{className:"absolute bottom-0 w-10 h-1 bg-black rounded-full shadow-[0_0_6px_rgba(0,0,0,0.3)] animate-scale-in"}),n.jsx("div",{className:`absolute inset-0 rounded-full bg-black/5 transition-all duration-300 ${d?"opacity-10 scale-105":"opacity-0 group-hover:opacity-10 group-hover:scale-100"}`})]},c.id)})}),n.jsx("style",{children:`
        .animate-scale-in {
          animation: scale-in 0.3s ease-in-out;
        }
        @keyframes scale-in {
          from {
            transform: scaleX(0);
          }
          to {
            transform: scaleX(1);
          }
        }
        .animate-bounce {
          animation: bounce 1.8s ease-in-out infinite;
        }
        @keyframes bounce {
          0%, 100% {
            transform: translateY(-20%);
            animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
          }
          50% {
            transform: translateY(0);
            animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
          }
        }
      `})]})}const gS=()=>n.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[n.jsx(y9,{}),n.jsx(w9,{}),n.jsx(j9,{}),n.jsx(C9,{}),n.jsx(oW,{}),n.jsx(cW,{}),n.jsx(Ds,{})]}),as=e=>{if(!e)return"/placeholder-product.jpg";if(e.includes("ngrok-free.app")){const r=new URL(e);return r.searchParams.set("ngrok-skip-browser-warning","true"),r.toString()}if(e.startsWith("/media/")||e.startsWith("media/")){const r=`${ws.BASE_URL}${e.startsWith("/")?e:`/${e}`}`,i=new URL(r);return i.searchParams.set("ngrok-skip-browser-warning","true"),i.toString()}if(e.startsWith("http"))return e;const t=`${ws.BASE_URL}/media/${e}`,s=new URL(t);return s.searchParams.set("ngrok-skip-browser-warning","true"),s.toString()};function uW(){var E,T,A;const e=rt(),{id:t}=fp(),{addToCart:s}=fr(),{toast:r}=un(),[i,a]=j.useState(1),[o,c]=j.useState(!1),[d,h]=j.useState(!1),[f,m]=j.useState(null),[u,p]=j.useState(!0),[y,v]=j.useState(""),[w,x]=j.useState(0);j.useEffect(()=>{t&&b()},[t]);const b=async()=>{var $,O;try{p(!0);const F=await fetch(`${st}search/products/?page_size=1000`,{headers:{"ngrok-skip-browser-warning":"true"}});if(!F.ok)throw new Error("Failed to fetch products");const Y=($=(await F.json()).results)==null?void 0:$.find(U=>U.id===parseInt(t));if(!Y)throw new Error("Product not found");m(Y);const K=await Re.getToken();if(K)try{const U=await fetch(`${st}favorites/`,{headers:{Authorization:`Token ${K}`,"ngrok-skip-browser-warning":"true"}});if(U.ok){const M=(O=(await U.json()).results)==null?void 0:O.some(z=>z.product.id===Y.id);c(M||!1)}}catch(U){console.log("Could not fetch favorites:",U)}}catch(F){console.error("Error fetching product:",F),v("Failed to load product details")}finally{p(!1)}},_=$=>{a(Math.max(1,i+$))},N=async()=>{if(f){h(!0);try{await s(f.id,i)}catch{}finally{h(!1)}}},C=async()=>{f&&e("/checkout",{state:{directBuy:!0,product:{id:f.id,name:f.name,price:f.price,quantity:i,vendor_name:f.vendor_name,vendor_id:f.vendor_id,images:f.images}}})},I=async()=>{if(!f)return;const $=await Re.getToken();if(!$){r({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const O=await fetch(`${st}favorites/toggle/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Token ${$}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:f.id})});if(!O.ok)throw new Error("Failed to toggle favorite");const F=await O.json();c(F.is_favorite),r({title:F.is_favorite?"Added to Favorites":"Removed from Favorites",description:F.message})}catch(O){console.error("Error toggling favorite:",O),r({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},k=async()=>{if(!f)return;const $={title:f.name,text:`Check out ${f.name} - ${f.price}`,url:window.location.href};try{navigator.share?await navigator.share($):(await navigator.clipboard.writeText(window.location.href),r({title:"Link Copied",description:"Product link copied to clipboard"}))}catch(O){console.error("Error sharing:",O),r({title:"Error",description:"Failed to share product",variant:"destructive"})}};if(u)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading product details..."})]})});if(y||!f)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:y||"Product not found"}),n.jsx(ne,{onClick:()=>e(-1),children:"Go Back"})]})});const P=((E=f.images)==null?void 0:E.find($=>$.is_primary))||((T=f.images)==null?void 0:T[0]),R=((A=f.images)==null?void 0:A[w])||P;return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-md",children:n.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"rounded-full hover:bg-gray-100",children:n.jsx(Yt,{className:"h-5 w-5 text-gray-800"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:I,className:"rounded-full hover:bg-gray-100",children:n.jsx(ur,{className:`h-5 w-5 ${o?"fill-red-500 text-red-500":"text-gray-800"}`})}),n.jsx(ne,{variant:"ghost",size:"icon",onClick:k,className:"rounded-full hover:bg-gray-100",children:n.jsx(RD,{className:"h-5 w-5 text-gray-800"})})]})]})}),n.jsxs("div",{className:"relative bg-white p-4",children:[n.jsx("div",{className:"aspect-square max-w-md mx-auto mb-4 border-t-2 border-b-2 border-gray-100",children:n.jsx("img",{src:as(R==null?void 0:R.image_url),alt:f.name,className:"w-full h-full object-cover",onError:$=>{$.target.src="/placeholder-product.jpg"}})}),f.images&&f.images.length>1&&n.jsx("div",{className:"border-t border-b border-gray-200 py-3",children:n.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-md mx-auto",children:f.images.slice(0,4).map(($,O)=>n.jsx("button",{onClick:()=>x(O),className:`aspect-square overflow-hidden border-2 transition-all duration-200 ${w===O?"border-blue-500 shadow-md scale-105":"border-gray-300 hover:border-gray-400"}`,children:n.jsx("img",{src:as($.image_url),alt:`${f.name} ${O+1}`,className:"w-full h-full object-cover",onError:F=>{F.target.src="/placeholder-product.jpg"}})},$.id))})})]}),n.jsxs("div",{className:"bg-white px-4 py-6 space-y-4 shadow-sm",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:f.name}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex items-baseline gap-2",children:n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",f.price]})}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"4.5"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(De,{variant:"secondary",className:"bg-blue-100 text-blue-800 capitalize",children:f.category}),f.quantity>0?n.jsxs(De,{variant:"secondary",className:"bg-green-100 text-green-800",children:["In Stock (",f.quantity," available)"]}):n.jsx(De,{variant:"destructive",children:"Out of Stock"})]})]}),n.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:f.description}}),f.short_description&&n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Summary:"})," ",f.short_description]})]}),f.tags&&f.tags.length>0&&n.jsxs("div",{className:"bg-white px-4 py-6 space-y-2 shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map(($,O)=>n.jsx(De,{variant:"outline",className:"text-xs border-gray-300 text-gray-700",children:$},O))})]}),n.jsx("div",{className:"mx-4 my-4 bg-white shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e(`/vendor/${f.vendor_id}`),children:n.jsxs("div",{className:"p-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 flex items-center justify-center text-2xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:f.vendor_name}),n.jsx(yi,{className:"h-4 w-4 text-primary"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:"4.8"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ar,{className:"h-3 w-3"}),n.jsx("span",{children:"30-45 mins"})]})]})]})]})}),n.jsxs("div",{className:"bg-white px-4 py-6 flex items-center justify-between shadow-sm",children:[n.jsx("h3",{className:"font-semibold text-base text-gray-900",children:"Quantity"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>_(-1),className:"h-8 w-8 rounded-full",children:n.jsx(AD,{className:"h-4 w-4"})}),n.jsx("span",{className:"font-semibold text-lg w-8 text-center",children:i}),n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>_(1),className:"h-8 w-8 rounded-full",children:n.jsx(vn,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t border-gray-200 p-4",children:n.jsxs("div",{className:"flex gap-3 max-w-md mx-auto",children:[n.jsx(ne,{variant:"outline",className:"flex-1 h-12 rounded-lg text-gray-800 font-semibold",onClick:N,disabled:d||f.quantity===0,children:d?"Adding...":"Add to Cart"}),n.jsx(ne,{className:"flex-1 h-12 rounded-lg bg-green-600 hover:bg-green-700 text-white font-semibold",onClick:C,disabled:d||f.quantity===0,children:d?"Processing...":"Buy Now"})]})})]})}const Pe=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pe.displayName="Card";const jt=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ge("flex flex-col space-y-1.5 p-6",e),...t}));jt.displayName="CardHeader";const _t=j.forwardRef(({className:e,...t},s)=>n.jsx("h3",{ref:s,className:Ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));_t.displayName="CardTitle";const hW=j.forwardRef(({className:e,...t},s)=>n.jsx("p",{ref:s,className:Ge("text-sm text-muted-foreground",e),...t}));hW.displayName="CardDescription";const Ae=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ge("p-6 pt-0",e),...t}));Ae.displayName="CardContent";const fW=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:Ge("flex items-center p-6 pt-0",e),...t}));fW.displayName="CardFooter";var Sp="Tabs",[mW,Nse]=ls(Sp,[zc]),CO=zc(),[pW,vw]=mW(Sp),EO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=$c(c),[m,u]=Fr({prop:r,onChange:i,defaultProp:a??"",caller:Sp});return n.jsx(pW,{scope:s,baseId:Ir(),value:m,onValueChange:u,orientation:o,dir:f,activationMode:d,children:n.jsx(Xe.div,{dir:f,"data-orientation":o,...h,ref:t})})});EO.displayName=Sp;var PO="TabsList",TO=j.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...i}=e,a=vw(PO,s),o=CO(s);return n.jsx(Cb,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:n.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});TO.displayName=PO;var AO="TabsTrigger",OO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:i=!1,...a}=e,o=vw(AO,s),c=CO(s),d=MO(o.baseId,r),h=IO(o.baseId,r),f=r===o.value;return n.jsx(Eb,{asChild:!0,...c,focusable:!i,active:f,children:n.jsx(Xe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...a,ref:t,onMouseDown:Me(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?o.onValueChange(r):m.preventDefault()}),onKeyDown:Me(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(r)}),onFocus:Me(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!i&&m&&o.onValueChange(r)})})})});OO.displayName=AO;var RO="TabsContent",LO=j.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:i,children:a,...o}=e,c=vw(RO,s),d=MO(c.baseId,r),h=IO(c.baseId,r),f=r===c.value,m=j.useRef(f);return j.useEffect(()=>{const u=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(u)},[]),n.jsx(Xn,{present:i||f,children:({present:u})=>n.jsx(Xe.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!u,id:h,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:u&&a})})});LO.displayName=RO;function MO(e,t){return`${e}-trigger-${t}`}function IO(e,t){return`${e}-content-${t}`}var gW=EO,DO=TO,FO=OO,$O=LO;const Ni=gW,Vr=j.forwardRef(({className:e,...t},s)=>n.jsx(DO,{ref:s,className:Ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vr.displayName=DO.displayName;const Ct=j.forwardRef(({className:e,...t},s)=>n.jsx(FO,{ref:s,className:Ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ct.displayName=FO.displayName;const lt=j.forwardRef(({className:e,...t},s)=>n.jsx($O,{ref:s,className:Ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lt.displayName=$O.displayName;const vW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function xW(){var N;const e=rt(),{vendorId:t}=fp(),[s,r]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState(xt.getLocation()),[y,v]=j.useState("N/A"),{toast:w}=un(),{addToCart:x}=fr();j.useEffect(()=>{const C=xt.subscribe(p);return xt.startTracking(),C},[]),j.useEffect(()=>{t&&b()},[t]);const b=async()=>{var C;try{h(!0),m(null);const{response:I,data:k}=await Be(`/api/vendors/${t}/`);if(!I.ok)throw I.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile");if(!k)throw new Error("No vendor data received");a(k);const P=xt.getLocation();if(P&&k.latitude&&k.longitude){const T=vW(P.latitude,P.longitude,k.latitude,k.longitude);v(`${T.toFixed(1)} km`)}const{response:R,data:E}=await Be(`search/products/?search=${encodeURIComponent(k.business_name)}`);if(R.ok&&E){const T=((C=E.results)==null?void 0:C.filter(A=>A.vendor_name===k.business_name))||[];c(T)}if(!I.ok)throw I.status===404?new Error("Vendor not found"):new Error("Failed to fetch vendor profile")}catch(I){console.error("Error fetching vendor profile:",I),m(I.message),w({title:"Error",description:"Failed to load vendor profile",variant:"destructive"})}finally{h(!1)}},_=C=>{const I=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],k=[];for(const P of I){const R=`${P}_open`,E=`${P}_close`,T=`${P}_closed`;!C[T]&&C[R]&&C[E]&&k.push(`${P.charAt(0).toUpperCase()+P.slice(1)}: ${C[R]} - ${C[E]}`)}return k.length>0?k.join(", "):"Hours not specified"};return d?n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading vendor profile..."})]})}):f||!i?n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold",children:"Vendor Not Found"}),n.jsx("div",{className:"w-10"})]})}),n.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ps,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Vendor Not Found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"The vendor you're looking for doesn't exist or is not available."}),n.jsx(ne,{onClick:()=>e("/search"),children:"Browse Vendors"})]})})]}):n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold truncate",children:i.business_name}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>r(!s),className:"p-2",children:n.jsx(ur,{className:`h-5 w-5 ${s?"fill-red-500 text-red-500":""}`})})]})}),n.jsx("div",{className:"p-4 bg-gradient-subtle",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center",children:(N=i.user_info)!=null&&N.profile_picture?n.jsx("img",{src:as(i.user_info.profile_picture),alt:i.business_name,className:"w-full h-full object-cover",onError:C=>{C.target.src="/placeholder-vendor.jpg"}}):n.jsx(ps,{className:"h-8 w-8 text-gray-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h2",{className:"text-lg font-bold",children:i.business_name}),i.is_approved&&n.jsx(yi,{className:"h-5 w-5 text-green-500"}),n.jsx(De,{variant:i.is_active?"default":"destructive",className:"text-xs",children:i.is_active?"Open":"Closed"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),n.jsx("span",{className:"font-medium",children:"4.5"}),n.jsx("span",{children:"(Reviews coming soon)"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-4 w-4"}),n.jsx("span",{children:y})]})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:i.categories&&i.categories.map((C,I)=>n.jsx(De,{variant:"secondary",className:"text-xs",children:C},I))})]})]})}),n.jsx("div",{className:"px-4 py-3 bg-card border-b border-border/50",children:n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx(ar,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Delivery"}),n.jsx("p",{className:"text-sm font-medium",children:i.estimated_delivery_time||"30-45 mins"})]}),n.jsxs("div",{children:[n.jsx(ps,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Min Order"}),n.jsxs("p",{className:"text-sm font-medium",children:["",i.min_order_amount||"0"]})]}),n.jsxs("div",{children:[n.jsx(Kt,{className:"h-5 w-5 mx-auto mb-1 text-primary"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Type"}),n.jsx("p",{className:"text-sm font-medium capitalize",children:i.business_type})]})]})}),n.jsxs("div",{className:"px-4 py-3 flex gap-3",children:[n.jsxs(ne,{variant:"brand",className:"flex-1 h-10",onClick:()=>e(`/messages?vendor=${i.user}`),children:[n.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Message"]}),n.jsxs(ne,{variant:"outline",className:"flex-1 h-10",onClick:()=>{if(i.latitude&&i.longitude&&u){const C=`https://www.google.com/maps/dir/${u.latitude},${u.longitude}/${i.latitude},${i.longitude}`;window.open(C,"_blank")}else if(i.latitude&&i.longitude){const C=`https://www.google.com/maps/place/${i.latitude},${i.longitude}`;window.open(C,"_blank")}},children:[n.jsx(Kt,{className:"h-4 w-4 mr-2"}),"View in Map"]})]}),n.jsx("div",{className:"flex-1",children:n.jsxs(Ni,{defaultValue:"products",className:"w-full",children:[n.jsxs(Vr,{className:"grid w-full grid-cols-3 mx-4",children:[n.jsx(Ct,{value:"products",children:"Products"}),n.jsx(Ct,{value:"about",children:"About"}),n.jsx(Ct,{value:"reviews",children:"Reviews"})]}),n.jsx(lt,{value:"products",className:"p-4 space-y-3",children:o.length>0?n.jsx("div",{className:"grid grid-cols-2 gap-3",children:o.map(C=>{var k,P;const I=((k=C.images)==null?void 0:k.find(R=>R.is_primary))||((P=C.images)==null?void 0:P[0]);return n.jsx(Pe,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${C.id}`),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:as(I==null?void 0:I.image_url),alt:C.name,className:"w-full h-full object-cover",onError:R=>{R.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:C.name}),n.jsxs("p",{className:"font-semibold text-primary text-sm mb-2",children:["",C.price]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:C.quantity===0,onClick:R=>{R.stopPropagation(),x(C.id,1)},children:n.jsx(Is,{className:"h-3 w-3"})}),n.jsxs(ne,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:C.quantity===0,onClick:R=>{R.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:C.id,name:C.name,price:C.price,quantity:1,vendor_name:C.vendor_name,images:C.images}}})},children:[n.jsx(vn,{className:"h-3 w-3"}),"Buy"]})]})]})},C.id)})}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ps,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold mb-2",children:"No Products Available"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"This vendor hasn't added any products yet."})]})}),n.jsxs(lt,{value:"about",className:"p-4 space-y-4",children:[i.description&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),n.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.description})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Business Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ps,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Owner:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.owner_name})]}),i.business_email&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Email:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_email})]}),i.business_phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ro,{className:"h-4 w-4 text-primary"}),n.jsx("span",{className:"text-sm font-medium",children:"Phone:"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:i.business_phone})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Location"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Kt,{className:"h-4 w-4 text-primary mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:i.business_address}),i.location_address&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.location_address}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i.city,", ",i.state," - ",i.pincode]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Operating Hours"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:_(i)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Services"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.home_delivery&&n.jsx(De,{variant:"secondary",children:"Home Delivery"}),i.pickup_service&&n.jsx(De,{variant:"secondary",children:"Pickup Service"}),i.online_ordering&&n.jsx(De,{variant:"secondary",children:"Online Ordering"}),i.bulk_orders&&n.jsx(De,{variant:"secondary",children:"Bulk Orders"}),i.subscription_service&&n.jsx(De,{variant:"secondary",children:"Subscription"}),i.loyalty_program&&n.jsx(De,{variant:"secondary",children:"Loyalty Program"})]})]})]}),n.jsx(lt,{value:"reviews",className:"p-4",children:n.jsxs("div",{className:"text-center py-8",children:[n.jsx(cn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-muted-foreground",children:"Reviews coming soon"})]})})]})})]})}function yW(){const e=rt();return j.useEffect(()=>{const t=setTimeout(()=>{e("/login")},3e3);return()=>clearTimeout(t)},[e]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-700 via-emerald-600 to-blue-600 flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-float top-10 left-10"}),n.jsx("div",{className:"absolute w-80 h-80 bg-emerald-400/20 rounded-full blur-3xl animate-float-delayed bottom-20 right-20"})]}),n.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl w-full max-w-sm rounded-2xl p-10 text-center shadow-2xl border border-white/15 animate-in fade-in zoom-in-95 duration-1000",children:[n.jsx("div",{className:"relative w-28 h-28 bg-gradient-to-r from-indigo-500 to-emerald-500 rounded-xl flex items-center justify-center mx-auto mb-6 shadow-xl transform transition-all duration-700 hover:scale-110 hover:rotate-3",children:n.jsx("span",{className:"text-6xl drop-shadow-lg animate-pulse-subtle",children:""})}),n.jsx("h1",{className:"text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-100 to-emerald-100 tracking-tight mb-3",children:"KathSnap"}),n.jsx("p",{className:"text-white/90 text-lg font-medium tracking-wide leading-relaxed",children:"Swift Shopping, Delivered to Your Door"})]}),n.jsxs("div",{className:"absolute bottom-16 flex flex-col items-center",children:[n.jsx("div",{className:"w-10 h-10 border-4 border-t-transparent border-white/95 rounded-full animate-spin mb-4 shadow-lg"}),n.jsx("p",{className:"text-white/85 text-sm font-medium tracking-wide animate-pulse-subtle",children:"Preparing Your Shopping Journey..."})]}),n.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(-20px) translateX(10px); }
        }
        @keyframes float-delayed {
          0%, 100% { transform: translateY(0) translateX(0); }
          50% { transform: translateY(20px) translateX(-10px); }
        }
        @keyframes pulse-subtle {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.03); opacity: 0.9; }
        }
        .animate-float {
          animation: float 6s ease-in-out infinite;
        }
        .animate-float-delayed {
          animation: float-delayed 6s ease-in-out infinite;
        }
        .animate-pulse-subtle {
          animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
      `})]})}function kp(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cp="Checkbox",[bW,Sse]=ls(Cp),[wW,xw]=bW(Cp);function jW(e){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:i,disabled:a,form:o,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:m}=e,[u,p]=Fr({prop:s,defaultProp:i??!1,onChange:d,caller:Cp}),[y,v]=j.useState(null),[w,x]=j.useState(null),b=j.useRef(!1),_=y?!!o||!!y.closest("form"):!0,N={checked:u,disabled:a,setChecked:p,control:y,setControl:v,name:c,form:o,value:f,hasConsumerStoppedPropagationRef:b,required:h,defaultChecked:Ia(i)?!1:i,isFormControl:_,bubbleInput:w,setBubbleInput:x};return n.jsx(wW,{scope:t,...N,children:_W(m)?m(N):r})}var zO="CheckboxTrigger",BO=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...r},i)=>{const{control:a,value:o,disabled:c,checked:d,required:h,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:u,isFormControl:p,bubbleInput:y}=xw(zO,e),v=ht(i,f),w=j.useRef(d);return j.useEffect(()=>{const x=a==null?void 0:a.form;if(x){const b=()=>m(w.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[a,m]),n.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Ia(d)?"mixed":d,"aria-required":h,"data-state":WO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...r,ref:v,onKeyDown:Me(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Me(s,x=>{m(b=>Ia(b)?!0:!b),y&&p&&(u.current=x.isPropagationStopped(),u.current||x.stopPropagation())})})});BO.displayName=zO;var yw=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d,onCheckedChange:h,form:f,...m}=e;return n.jsx(jW,{__scopeCheckbox:s,checked:i,defaultChecked:a,disabled:c,required:o,onCheckedChange:h,name:r,form:f,value:d,internal_do_not_use_render:({isFormControl:u})=>n.jsxs(n.Fragment,{children:[n.jsx(BO,{...m,ref:t,__scopeCheckbox:s}),u&&n.jsx(HO,{__scopeCheckbox:s})]})})});yw.displayName=Cp;var VO="CheckboxIndicator",UO=j.forwardRef((e,t)=>{const{__scopeCheckbox:s,forceMount:r,...i}=e,a=xw(VO,s);return n.jsx(Xn,{present:r||Ia(a.checked)||a.checked===!0,children:n.jsx(Xe.span,{"data-state":WO(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});UO.displayName=VO;var qO="CheckboxBubbleInput",HO=j.forwardRef(({__scopeCheckbox:e,...t},s)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:c,disabled:d,name:h,value:f,form:m,bubbleInput:u,setBubbleInput:p}=xw(qO,e),y=ht(s,p),v=kp(a),w=rp(r);j.useEffect(()=>{const b=u;if(!b)return;const _=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(_,"checked").set,I=!i.current;if(v!==a&&C){const k=new Event("click",{bubbles:I});b.indeterminate=Ia(a),C.call(b,Ia(a)?!1:a),b.dispatchEvent(k)}},[u,v,a,i]);const x=j.useRef(Ia(a)?!1:a);return n.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:c,disabled:d,name:h,value:f,form:m,...t,tabIndex:-1,ref:y,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});HO.displayName=qO;function _W(e){return typeof e=="function"}function Ia(e){return e==="indeterminate"}function WO(e){return Ia(e)?"indeterminate":e?"checked":"unchecked"}const py=j.forwardRef(({className:e,...t},s)=>n.jsx(yw,{ref:s,className:Ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(UO,{className:Ge("flex items-center justify-center text-current"),children:n.jsx(ep,{className:"h-4 w-4"})})}));py.displayName=yw.displayName;const NW=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3},vS=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),{addToCart:i}=fr(),a=rt();j.useEffect(()=>{o()},[]);const o=async()=>{try{const c={"ngrok-skip-browser-warning":"true"},d=xt.getLocation(),h=new URLSearchParams({page_size:"6"});d&&(h.append("latitude",d.latitude.toString()),h.append("longitude",d.longitude.toString()));const u=((await(await fetch(`${st}search/products/?${h}`,{headers:c})).json()).results||[]).map(p=>{var w,x;const y=((w=p.images)==null?void 0:w.find(b=>b.is_primary))||((x=p.images)==null?void 0:x[0]);let v="N/A";return d&&p.vendor_latitude&&p.vendor_longitude&&(v=`${NW(d.latitude,d.longitude,p.vendor_latitude,p.vendor_longitude).toFixed(1)} km`),{id:p.id,name:p.name,vendor:p.vendor_name||"Unknown Vendor",price:p.price,image:(y==null?void 0:y.image_url)||"/placeholder-product.jpg",distance:v,inStock:p.quantity>0}});t(u)}catch(c){console.error("Failed to fetch products:",c)}finally{r(!1)}};return s?n.jsx("div",{className:"grid grid-cols-2 gap-2 px-2 md:grid-cols-3 md:gap-3",children:[...Array(6)].map((c,d)=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden animate-pulse",children:[n.jsx("div",{className:"h-24 bg-gray-200"}),n.jsxs("div",{className:"p-2 space-y-2",children:[n.jsx("div",{className:"h-3 bg-gray-200 rounded"}),n.jsx("div",{className:"h-2 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},d))}):n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3 px-2",children:"Products Near You"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 px-2 md:grid-cols-3 md:gap-3",children:e.map(c=>n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-[#856043]/30 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"relative h-24 overflow-hidden bg-gray-100 cursor-pointer",onClick:()=>a(`/product/${c.id}`),children:n.jsx("img",{src:c.image,alt:c.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105",onError:d=>{d.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"p-2 space-y-1",children:[n.jsx("h4",{className:"text-xs font-semibold text-gray-900 line-clamp-2 leading-tight",children:c.name}),n.jsx("p",{className:"text-[10px] text-gray-500",children:c.vendor}),n.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500",children:[n.jsx(Kt,{className:"h-2 w-2"}),n.jsx("span",{children:c.distance})]}),n.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",c.price]}),n.jsxs(ne,{variant:"outline",size:"sm",className:"w-full border-[#856043] text-[#856043] hover:bg-[#856043] hover:text-white rounded-md text-[10px] py-1",disabled:!c.inStock,onClick:()=>i(c.id,1),children:[n.jsx(Is,{className:"w-2 h-2 mr-1"}),"Add to Cart"]})]})]},c.id))})]})};function SW(){const{toast:e}=un(),{cart:t,loading:s,updateCartItem:r,removeFromCart:i}=fr();j.useState("");const[a,o]=j.useState(0),[c,d]=j.useState([]),h=rt(),f=[];j.useEffect(()=>{t!=null&&t.items&&d([])},[t]);const m=(t==null?void 0:t.items)||[],u=m.filter(E=>c.includes(E.id)),p=c.length===m.length&&m.length>0,y=E=>{d(E?m.map(T=>T.id):[])},v=E=>{d(T=>T.includes(E)?T.filter(A=>A!==E):[...T,E])},w=async(E,T)=>{const A=m.find($=>$.id===E);if(A){const $=A.quantity+T;$>0&&await r(E,$)}},x=async E=>{await i(E)},b=async()=>{if(c.length!==0){for(const E of c)await i(E);d([])}},_=E=>{x(E.id),e({title:"Feature Coming Soon",description:"Save for later feature will be available soon"})},N=E=>{e({title:"Feature Coming Soon",description:"Move to cart feature will be available soon"})},I=u.reduce((E,T)=>E+parseFloat(T.total_price.toString()),0),k=I*.05,P=I*a,R=I+k-P;return s?n.jsx("div",{className:"min-h-screen bg-gray-50 font-sans flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Is,{className:"mx-auto h-10 w-10 text-[#856043] mb-2 animate-pulse"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading cart..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-sm border-b py-2 px-3",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-2",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Is,{className:"w-4 h-4 mr-1 text-[#856043]"}),"(",m.length,")"]}),n.jsx(ne,{variant:"outline",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 hover:text-[#856043] rounded-md text-xs font-medium py-1 px-2",onClick:()=>h("/search"),children:"Continue Shopping"})]})}),n.jsx("main",{className:"max-w-7xl mx-auto px-3 py-4 pb-52 overflow-y-auto",style:{height:"calc(100vh - 120px)"},children:m.length===0?n.jsxs("div",{children:[n.jsxs("div",{className:"text-center py-6",children:[n.jsx(Is,{className:"mx-auto h-10 w-10 text-[#856043] mb-2"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Your Cart is Empty"}),n.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Discover products near you"})]}),n.jsx(vS,{})]}):n.jsxs("div",{className:"md:flex md:gap-4 space-y-2 md:space-y-0",children:[n.jsxs("div",{className:"md:w-1/2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-200 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(py,{id:"select-all",checked:p,onCheckedChange:y,className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043]"}),n.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select all (",m.length,")"]})]}),n.jsxs(ne,{variant:"ghost",className:"text-red-600 hover:text-red-700 hover:bg-red-50 text-xs px-3 py-1 rounded-md",onClick:b,disabled:c.length===0,children:[n.jsx(Ua,{className:"w-3 h-3 mr-1"}),"Delete (",c.length,")"]})]}),n.jsx("div",{className:"space-y-2",children:n.jsx(_1,{children:m.map((E,T)=>{var A,$;return n.jsxs(Xl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:T*.1},className:"bg-white p-3 flex items-center gap-3 rounded-lg border border-gray-200 shadow-sm hover:bg-gray-50 transition-colors",children:[n.jsx(py,{checked:c.includes(E.id),onCheckedChange:()=>v(E.id),className:"data-[state=checked]:bg-[#856043] data-[state=checked]:border-[#856043] flex-shrink-0"}),n.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:n.jsx("img",{src:(($=(A=E.product.images)==null?void 0:A[0])==null?void 0:$.image_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200",alt:E.product.name,className:"w-full h-full object-cover",onError:O=>{O.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:E.product.name}),n.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",E.product.vendor_name]}),n.jsx("div",{className:"flex items-center gap-1 mt-1",children:n.jsxs("p",{className:"text-xs font-bold text-[#856043]",children:["",E.product.price]})})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ne,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(E.id,-1),children:"-"}),n.jsx("span",{className:"text-xs min-w-[1rem] text-center",children:E.quantity}),n.jsx(ne,{variant:"outline",size:"sm",className:"h-5 w-5 p-0 text-gray-600 border-gray-300 hover:border-[#856043] hover:text-[#856043]",onClick:()=>w(E.id,1),children:"+"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 text-[#856043] hover:text-[#856043]/90 hover:bg-[#856043]/5",onClick:()=>_(E),children:n.jsx(ur,{className:"w-3 h-3"})}),n.jsx(ne,{variant:"ghost",size:"sm",className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>x(E.id),children:n.jsx(Ua,{className:"w-3 h-3"})})]})]},E.id)})})}),f.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2 px-2",children:"Saved for Later"}),n.jsx(_1,{children:f.map((E,T)=>n.jsxs(Xl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:T*.1},className:"bg-white p-2 flex items-center gap-2 border-b border-gray-300 hover:bg-gray-50",children:[n.jsx("div",{className:"w-12 h-12 flex-shrink-0 overflow-hidden rounded",children:n.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover",onError:A=>{A.currentTarget.src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=200&h=200"}})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-xs font-medium text-gray-900 truncate",children:E.name}),n.jsxs("p",{className:"text-[10px] text-gray-500 truncate",children:["Sold by ",E.vendor]}),n.jsx("p",{className:"text-xs font-bold text-[#856043] mt-1",children:E.price})]}),n.jsx(ne,{variant:"outline",size:"sm",className:"border-[#856043] text-[#856043] hover:bg-[#856043]/10 text-[10px] px-2 py-1",onClick:()=>N(),children:"Move to Cart"})]},E.id))})]})]}),n.jsx("div",{className:"md:w-1/2",children:n.jsx(vS,{})})]})}),m.length>0&&n.jsx(Xl.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"fixed bottom-20 left-0 right-0 bg-white border-t border-gray-300 z-40",children:n.jsx("div",{className:"max-w-7xl mx-auto px-3",children:n.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"30vh"},children:n.jsx("div",{className:"py-2",children:n.jsxs("div",{className:"md:flex md:items-center md:justify-between md:gap-6",children:[n.jsxs("div",{className:"md:flex-1",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Order Summary"}),n.jsxs("div",{className:"space-y-2 text-xs mb-4 md:mb-0",children:[n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsxs("span",{children:["Subtotal (",u.length," items)"]}),n.jsxs("span",{className:"font-medium",children:["",I.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-gray-700",children:[n.jsx("span",{children:"Taxes (5%)"}),n.jsxs("span",{className:"font-medium",children:["",k.toFixed(2)]})]}),n.jsx("hr",{className:"border-gray-300 my-2"}),n.jsxs("div",{className:"flex justify-between font-bold text-sm text-gray-900",children:[n.jsx("span",{children:"Total"}),n.jsxs("span",{children:["",R.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-600 mt-2",children:[n.jsx(Hl,{className:"w-3 h-3"}),n.jsx("span",{className:"text-xs font-semibold",children:"Estimated delivery: 50-60"})]})]})]}),n.jsx(ne,{size:"lg",className:"w-full md:w-auto md:px-8 rounded-md bg-[#856043] text-white hover:bg-[#856043]/90 py-3 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed mb-2 md:mb-0",disabled:u.length===0,onClick:()=>h("/checkout",{state:{selectedItems:u}}),children:"Proceed to Checkout"})]})})})})}),n.jsx(Ds,{})]})}const mm=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3},kW=()=>{const e=27.6398805,t=85.3303725,s=27.66424179701499,r=85.3465231243003,i=mm(e,t,s,r);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=mm(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${s},${r}`)};function CW(){const e=rt(),[t,s]=_b(),[r,i]=j.useState(t.get("q")||""),[a,o]=j.useState({products:[],vendors:[]}),[c,d]=j.useState("all"),[h,f]=j.useState(!1),[m,u]=j.useState(xt.getLocation()),[p,y]=j.useState({page:1,hasMore:!0}),[v,w]=j.useState(new Set),[x,b]=j.useState(!1),[_,N]=j.useState(""),[C,I]=j.useState([]),{addToCart:k}=fr(),{toast:P}=un(),[R,E]=j.useState([]),T=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const z=xt.subscribe(u);return xt.startTracking(),kW(),A(),K(),z},[]),j.useEffect(()=>{s(r?{q:r}:{}),y({page:1,hasMore:!0}),A(1,r)},[r,s]),j.useEffect(()=>{A(1,r)},[_,C]),j.useEffect(()=>{m&&(console.log(" Location updated, refetching data:",m),A(1,r))},[m]);const A=async(z=1,Z="")=>{var W;f(!0);try{const X={"ngrok-skip-browser-warning":"true"},V=xt.getLocation();console.log(" Frontend location check:",{userLocation:m,currentLocation:V});const H=new URLSearchParams({page:z.toString(),page_size:"10"});Z&&H.append("search",Z),V?(H.append("latitude",V.latitude.toString()),H.append("longitude",V.longitude.toString()),console.log(" Sending location to API:",V)):console.log(" No location available for API call");const[se,Q]=await Promise.all([fetch(`${st}search/products/?${H}`,{headers:X}),fetch(`${st}search/vendors/?${H}`,{headers:X})]),ie=await se.json(),fe=await Q.json(),te=$(ie.results||[]),ve=O(fe.results||[]),Ce=[...new Set(((W=ie.results)==null?void 0:W.map(he=>he.category).filter(Boolean))||[])];E(Ce),o(z===1?{products:te,vendors:ve}:he=>({products:[...he.products,...te],vendors:[...he.vendors,...ve]})),y({page:z,hasMore:ie.next!==null||fe.next!==null})}catch(X){console.error("Fetch error:",X)}finally{f(!1)}},$=z=>{const Z=xt.getLocation();let W=z.map(X=>{var Q,ie;const V=((Q=X.images)==null?void 0:Q.find(fe=>fe.is_primary))||((ie=X.images)==null?void 0:ie[0]);let H="N/A",se=1/0;return Z&&X.vendor_latitude&&X.vendor_longitude&&(se=mm(Z.latitude,Z.longitude,X.vendor_latitude,X.vendor_longitude),H=`${se.toFixed(1)} km`),{id:X.id,name:X.name,vendor:X.vendor_name||"Unknown Vendor",price:`${X.price}`,priceValue:parseFloat(X.price),image:(V==null?void 0:V.image_url)||"/placeholder-product.jpg",rating:4.5,distance:H,distanceValue:se,deliveryTime:"30-45 mins",inStock:X.quantity>0,category:X.category}});return C.length>0&&(W=W.filter(X=>C.includes(X.category))),_==="price_low"?W.sort((X,V)=>X.priceValue-V.priceValue):_==="price_high"?W.sort((X,V)=>V.priceValue-X.priceValue):W.sort((X,V)=>X.distanceValue-V.distanceValue),W},O=z=>{const Z=xt.getLocation();return z.map(W=>{var H;let X="N/A",V=1/0;return Z&&W.latitude&&W.longitude&&(V=mm(Z.latitude,Z.longitude,W.latitude,W.longitude),X=`${V.toFixed(1)} km`),{id:W.id,name:W.business_name,image:((H=W.user_info)==null?void 0:H.profile_picture)||"/placeholder-vendor.jpg",rating:4.5,distance:X,distanceValue:V,deliveryTime:"30-45 mins",categories:W.categories||[]}}).sort((W,X)=>W.distanceValue-X.distanceValue)},F=()=>{!h&&p.hasMore&&A(p.page+1,r)},G=z=>{e(`/product/${z}`)},Y=z=>{e(`/vendor/${z.id}`)},K=async()=>{var Z;const z=await Re.getToken();if(z)try{const W=await fetch(`${st}favorites/`,{headers:{Authorization:`Token ${z}`,"ngrok-skip-browser-warning":"true"}});if(W.ok){const X=await W.json(),V=new Set(((Z=X.results)==null?void 0:Z.map(H=>H.product.id))||[]);w(V)}}catch(W){console.error("Failed to fetch favorites:",W)}},U=async(z,Z)=>{Z.stopPropagation();const W=await Re.getToken();if(!W){P({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const X=await fetch(`${st}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${W}`,"ngrok-skip-browser-warning":"true"},body:JSON.stringify({product_id:z})});if(X.ok){const V=await X.json(),H=new Set(v);V.is_favorite?H.add(z):H.delete(z),w(H),P({title:V.is_favorite?"Added to Favorites":"Removed from Favorites",description:V.message})}}catch{P({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},B=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",children:a.products.map(z=>n.jsxs(Pe,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>G(z.id),children:[n.jsxs("div",{className:"aspect-square md:aspect-[4/3] relative",children:[n.jsx("img",{src:z.image,alt:z.name,className:"w-full h-full object-cover",onError:Z=>{Z.target.src="/placeholder-product.jpg"}}),n.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:Z=>U(z.id,Z),children:n.jsx(ur,{className:`h-4 w-4 ${v.has(z.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(De,{variant:z.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:z.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(Ae,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:z.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:z.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:z.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:z.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:z.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:z.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!z.inStock,onClick:Z=>{Z.stopPropagation(),k(z.id,1)},children:[n.jsx(Is,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!z.inStock,onClick:Z=>{Z.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:z.id,name:z.name,price:z.price.replace("",""),quantity:1,vendor_name:z.vendor,images:[{image_url:z.image}]}}})},children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},z.id))}),p.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(ne,{onClick:F,disabled:h,variant:"outline",children:[h?n.jsx(Bn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]}),M=()=>n.jsx("div",{className:"space-y-3",children:a.vendors.map(z=>n.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Y(z),children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("img",{src:z.image,alt:z.name,className:"w-16 h-16 object-cover rounded-full",onError:Z=>{Z.target.src="/placeholder-vendor.jpg"}}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-base mb-1",children:z.name}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:z.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:z.distance})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ar,{className:"h-3 w-3"}),n.jsx("span",{children:z.deliveryTime})]})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:z.categories.map((Z,W)=>n.jsx(De,{variant:"secondary",className:"text-xs",children:Z},W))})]})]})})},z.id))});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Search products, vendors...",value:r,onChange:z=>i(z.target.value),className:"pl-10 pr-4 py-2"})]}),n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>b(!0),children:n.jsx(ji,{className:"h-5 w-5"})})]})}),n.jsx("div",{className:"px-4 py-3 border-b border-border/50",children:n.jsx("div",{className:"flex gap-2",children:[{id:"all",label:"All"},{id:"products",label:"Products"},{id:"vendors",label:"Vendors"}].map(z=>n.jsx(ne,{variant:c===z.id?"default":"ghost",size:"sm",onClick:()=>d(z.id),className:"flex-1",children:z.label},z.id))})}),n.jsxs("div",{className:"p-4 pb-20",children:[r&&n.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[c==="all"&&`Found ${a.products.length} products and ${a.vendors.length} vendors`,c==="products"&&`Found ${a.products.length} products`,c==="vendors"&&`Found ${a.vendors.length} vendors`,r&&" for ",n.jsxs("span",{className:"font-medium",children:['"',r,'"']})]}),(c==="all"||c==="products")&&a.products.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Products"}),B()]}),(c==="all"||c==="vendors")&&a.vendors.length>0&&n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Vendors"}),M()]}),r&&a.products.length===0&&a.vendors.length===0&&!h&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Lo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No results found"}),n.jsx("p",{className:"text-muted-foreground",children:"Try searching for products or vendors with different keywords"})]}),!r&&!h&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Lo,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Search for anything"}),n.jsx("p",{className:"text-muted-foreground",children:"Find products, vendors, and more in your area"})]}),h&&a.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),x&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>b(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:z=>z.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:T.map(z=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:z.value,checked:_===z.value,onChange:Z=>N(Z.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:z.label})]},z.value))})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Categories"}),n.jsx("div",{className:"space-y-2",children:R.map(z=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:C.includes(z),onChange:Z=>{Z.target.checked?I([...C,z]):I(C.filter(W=>W!==z))},className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:z})]},z))})]}),n.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{N(""),I([])},children:"Clear All Filters"})]})]})}),n.jsx(Ds,{})]})}const xS=ws.BASE_URL;class EW{async getAuthHeaders(){return{"Content-Type":"application/json",Authorization:`Token ${await Re.getToken()}`,"ngrok-skip-browser-warning":"true"}}async getFavorites(){try{const t=await fetch(`${xS}/favorites/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch favorites");const s=await t.json();return s.results||s}catch(t){throw console.error("Error fetching favorites:",t),t}}async toggleFavorite(t){try{const s=await fetch(`${xS}/favorites/toggle/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({product_id:t})});if(!s.ok)throw new Error("Failed to toggle favorite");return await s.json()}catch(s){throw console.error("Error toggling favorite:",s),s}}}const yS=new EW,PW=()=>{const e=rt();ra();const{addToCart:t}=fr(),{toast:s}=un(),[r,i]=j.useState([]),[a,o]=j.useState(!0),[c,d]=j.useState([]),[h,f]=j.useState(xt.getLocation());j.useEffect(()=>(u(),xt.subscribe(f)),[]),j.useEffect(()=>{r.length>0&&p()},[r,h]);const m=(I,k,P,R)=>{const T=K=>K*(Math.PI/180),A=T(P-I),$=T(R-k),O=T(I),F=T(P),G=Math.sin(A/2)*Math.sin(A/2)+Math.cos(O)*Math.cos(F)*Math.sin($/2)*Math.sin($/2);return 6371*(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)))},u=async()=>{if(!await Re.getToken()){o(!1);return}try{const k=await yS.getFavorites();i(k)}catch(k){console.error("Error fetching favorites:",k),s({title:"Error",description:"Failed to load favorites",variant:"destructive"})}finally{o(!1)}},p=async()=>{try{const I=[...new Set(r.map($=>$.product.category).filter(Boolean))];if(I.length===0)return;const k=await Re.getToken(),P=k?{Authorization:`Token ${k}`}:{},R=new URLSearchParams({page_size:"12"});h&&(R.append("latitude",h.latitude.toString()),R.append("longitude",h.longitude.toString()));const A=((await(await fetch(mp(`/search/products/?${R}`),{headers:P})).json()).results||[]).filter($=>I.includes($.category)).map($=>{var Y,K;const O=((Y=$.images)==null?void 0:Y.find(U=>U.is_primary))||((K=$.images)==null?void 0:K[0]);let F="N/A",G=1/0;return h&&$.vendor_latitude&&$.vendor_longitude&&(G=m(h.latitude,h.longitude,$.vendor_latitude,$.vendor_longitude),F=`${G.toFixed(1)} km`),{id:$.id,name:$.name,vendor:$.vendor_name||"Unknown Vendor",price:$.price,image:(O==null?void 0:O.image_url)||"/placeholder-product.jpg",distance:F,distanceValue:G,inStock:$.quantity>0,category:$.category}}).sort(($,O)=>$.distanceValue-O.distanceValue).slice(0,8);d(A)}catch(I){console.error("Error fetching related products:",I)}},y=async I=>{try{await yS.toggleFavorite(I),i(k=>k.filter(P=>P.product.id!==I)),s({title:"Removed from Wishlist",description:"Item has been removed from your wishlist"})}catch{s({title:"Error",description:"Failed to remove from wishlist",variant:"destructive"})}},v=async(I,k)=>{k==null||k.stopPropagation();try{await t(I.product.id,1),s({title:"Added to Cart",description:`${I.product.name} has been added to your cart`})}catch{s({title:"Error",description:"Failed to add to cart",variant:"destructive"})}},w=async(I,k)=>{k==null||k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:I.product.id,name:I.product.name,price:I.product.price,quantity:1,vendor_name:I.product.vendor_name,vendor_id:I.product.vendor_id,images:I.product.images}}})},x=I=>{e(`/product/${I}`)},[b,_]=j.useState(!1),[N,C]=j.useState(!0);return j.useEffect(()=>{(async()=>{const k=await Re.getToken();_(!!k),C(!1)})()},[]),N?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):b?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Yt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("div",{}),n.jsxs("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-3 py-1 rounded-full",children:[r.length," items"]})]})}),n.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[a?n.jsx("div",{className:"flex justify-center items-center py-16",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600"})}):r.length>0?n.jsx("div",{className:"space-y-4",children:r.map(I=>{var k,P;return n.jsxs("div",{className:"bg-white rounded-xl shadow-lg hover:shadow-xl border p-4 flex items-center transition-all duration-300 cursor-pointer hover:bg-gray-50",onClick:()=>x(I.product.id),children:[n.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-xl overflow-hidden bg-gray-100",children:n.jsx("img",{src:((P=(k=I.product.images)==null?void 0:k[0])==null?void 0:P.image_url)||"/placeholder-product.jpg",alt:I.product.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"ml-6 flex-1",children:[n.jsx("h3",{className:"font-semibold text-xl text-gray-900 truncate",children:I.product.name}),n.jsx("p",{className:"text-sm text-gray-500 truncate",children:I.product.vendor_name}),n.jsxs("p",{className:"font-bold text-2xl text-emerald-600 mt-1",children:["",parseFloat(I.product.price).toFixed(2)]}),n.jsx("div",{className:"flex items-center mt-2",children:I.product.quantity>0?n.jsx("span",{className:"text-green-600 text-sm font-medium bg-green-50 px-2 py-1 rounded-full",children:"In Stock"}):n.jsx("span",{className:"text-red-600 text-sm font-medium bg-red-50 px-2 py-1 rounded-full",children:"Out of Stock"})})]}),n.jsxs("div",{className:"flex flex-col justify-between items-end space-y-2",children:[n.jsx(ne,{variant:"ghost",size:"icon",onClick:R=>{R.stopPropagation(),y(I.product.id)},className:"text-gray-500 hover:text-red-600 hover:bg-red-100 rounded-full",children:n.jsx(Ua,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{size:"sm",disabled:I.product.quantity<=0,onClick:R=>v(I,R),className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:n.jsx(Is,{className:"h-3 w-3 mr-1"})}),n.jsxs(ne,{size:"sm",disabled:I.product.quantity<=0,onClick:R=>w(I,R),className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full disabled:bg-gray-300 disabled:text-gray-500",children:[n.jsx(LD,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]})]},I.id)})}):n.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg border",children:[n.jsx(ur,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Start adding items you love!"}),n.jsx(ne,{className:"bg-emerald-600 hover:bg-emerald-700 text-white rounded-full px-6 py-2",onClick:()=>e("/"),children:"Browse Products"})]}),c.length>0&&n.jsxs("div",{className:"mt-8",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Related Products Near You"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.map(I=>n.jsx(Pe,{className:"p-3 cursor-pointer hover:shadow-md transition-smooth",onClick:()=>e(`/product/${I.id}`),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"aspect-square mb-2 bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="/placeholder-product.jpg"}})}),n.jsx("h3",{className:"font-medium text-sm mb-1 line-clamp-2",children:I.name}),n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:I.vendor}),n.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-gray-500 mb-2",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:I.distance})]}),n.jsxs("p",{className:"font-semibold text-emerald-600 text-sm mb-2",children:["",I.price]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 h-7 text-xs",disabled:!I.inStock,onClick:k=>{k.stopPropagation(),t(I.id,1)},children:n.jsx(Is,{className:"h-3 w-3"})}),n.jsxs(ne,{size:"sm",className:"flex-1 h-7 text-xs bg-green-600 hover:bg-green-700",disabled:!I.inStock,onClick:k=>{k.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:I.id,name:I.name,price:I.price,quantity:1,vendor_name:I.vendor,images:[{image_url:I.image}]}}})},children:[n.jsx(vn,{className:"h-3 w-3"}),"Buy"]})]})]})},I.id))})]})]}),n.jsx(Ds,{})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ur,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Please Login"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You need to login to view your wishlist"}),n.jsx(ne,{onClick:()=>e("/login"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Login"})]})})};function ZO(){var a,o,c;const{state:e,login:t}=ra(),s=rt();console.log(" RoleSwitcher rendered, user:",e.user),console.log(" Available roles:",(a=e.user)==null?void 0:a.available_roles),console.log(" Current user_type:",(o=e.user)==null?void 0:o.user_type);const r=async d=>{var h;console.log(" handleRoleSwitch called with role:",d);try{console.log(" Attempting role switch to:",d),console.log(" Current user:",e.user),console.log(" Current user_type:",(h=e.user)==null?void 0:h.user_type);const{response:f,data:m}=await Be("/switch-role/",{method:"POST",body:JSON.stringify({role:d})});if(console.log(" Switch role response:",f.status,m),f.ok){console.log(" Role switch successful");const u={...e.user,user_type:d};if(await t(u,""),d==="customer")console.log(" Navigating to customer home"),s("/home");else{console.log(" Navigating to vendor dashboard");try{const p=await Be("/vendor/status/");p.response.ok&&p.data.profile_exists&&p.data.is_approved?s("/vendor/dashboard"):s("/vendor/onboarding")}catch{s("/vendor/onboarding")}}}else console.error(" Role switch failed:",m)}catch(f){console.error(" Role switch error:",f)}};if(!((c=e.user)!=null&&c.available_roles)||e.user.available_roles.length<=1)return null;const i=e.user.available_roles.find(d=>d!==e.user.user_type);return n.jsxs("button",{onClick:()=>r(i),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:["Switch to ",i==="customer"?"Customer":"Vendor"]})}const TW=[{icon:bE,label:"My Orders",path:"/orders"},{icon:ur,label:"Wishlist",path:"/wishlist"},{icon:Or,label:"Personal Information",path:"/profile-edit"},{icon:yi,label:"Privacy & Security",path:"/privacy"}],AW=()=>{const e=rt(),{logout:t,state:s,login:r}=ra(),[i,a]=j.useState(null),[o,c]=j.useState(!0),[d,h]=j.useState("");j.useEffect(()=>{f()},[]);const f=async()=>{try{const p=await Re.getToken();if(!p){e("/login");return}const y=await fetch(st+"profile/",{headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}});if(!y.ok)throw new Error("Failed to fetch profile");const v=await y.json();if(s.user){const w={...s.user,available_roles:v.available_roles||s.user.available_roles,user_type:v.user_type||s.user.user_type};await r(w,"")}a({email:v.email,avatar:v.profile_picture?v.profile_picture.startsWith("http")?v.profile_picture:`${st}media/${v.profile_picture}`:"/placeholder-avatar.jpg"})}catch(p){h(p.message),console.error("Error fetching profile:",p)}finally{c(!1)}},m=async()=>{try{const p=await Re.getToken();p&&await fetch(st+"logout/",{method:"POST",headers:{Authorization:`Token ${p}`,"ngrok-skip-browser-warning":"true"}})}catch(p){console.error("Logout error:",p)}finally{await t(),e("/login")}},u=async p=>{if(p)try{const y=await Re.getToken();if(!y)return;const v=new FormData;v.append("profile_picture",p);const w=await fetch(st+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${y}`,"ngrok-skip-browser-warning":"true"},body:v});if(w.ok){const x=await w.json();a(b=>({...b,avatar:x.profile_picture}))}}catch(y){console.error("Profile image upload error:",y)}};return o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):d||!i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:d||"Failed to load profile"}),n.jsx(ne,{onClick:()=>e("/login"),children:"Go to Login"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex flex-col items-center pt-6 pb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden mb-3 cursor-pointer hover:bg-gray-300 transition-colors",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=y=>{var w;const v=(w=y.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:i.avatar&&i.avatar!=="/placeholder-avatar.jpg"?n.jsx("img",{src:i.avatar,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold text-lg",children:i.email?i.email.charAt(0).toUpperCase():"U"})}),n.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=y=>{var w;const v=(w=y.target.files)==null?void 0:w[0];v&&u(v)},p.click()},children:n.jsx(Hi,{className:"h-3 w-3"})})]}),n.jsx("p",{className:"text-gray-800 text-base font-medium",children:i.email}),n.jsx("div",{className:"mt-3",children:n.jsx(ZO,{})})]})}),n.jsxs("div",{className:"p-4 space-y-6 pb-20",children:[n.jsxs(Pe,{children:[n.jsx(jt,{className:"pb-3",children:n.jsx(_t,{className:"text-base",children:"Account"})}),n.jsx(Ae,{className:"space-y-1",children:TW.map((p,y)=>{const v=p.icon;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>e(p.path),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(v,{className:"h-4 w-4 text-primary"})}),n.jsx("span",{className:"font-medium text-sm",children:p.label})]}),n.jsx("div",{className:"text-gray-400",children:""})]},y)})})]}),n.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:m,children:[n.jsx(tb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]}),n.jsx(Ds,{})]})};var OW="Label",GO=j.forwardRef((e,t)=>n.jsx(Xe.label,{...e,ref:t,onMouseDown:s=>{var i;s.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));GO.displayName=OW;var KO=GO;const RW=Gu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=j.forwardRef(({className:e,...t},s)=>n.jsx(KO,{ref:s,className:Ge(RW(),e),...t}));ue.displayName=KO.displayName;const Kn=j.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:Ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));Kn.displayName="Textarea";const LW=()=>{const e=rt(),{toast:t}=un(),[s,r]=j.useState(!1),[i,a]=j.useState(!0),[o,c]=j.useState(!1),[d,h]=j.useState({username:"",email:"",phone_number:"",address:"",date_of_birth:"",profile_picture:null});j.useEffect(()=>{f()},[]);const f=async()=>{try{const y=await Re.getToken();if(!y){e("/login");return}const v=await fetch(st+"profile/",{headers:{Authorization:`Token ${y}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json();h({username:w.username||"",email:w.email||"",phone_number:w.phone_number||"",address:w.address||"",date_of_birth:w.date_of_birth||"",profile_picture:w.profile_picture?w.profile_picture.startsWith("http")?w.profile_picture:`${st}media/${w.profile_picture}`:null})}catch(y){console.error("Error fetching profile:",y),t({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{a(!1)}},m=async()=>{c(!0);try{const y=await Re.getToken();if(!y)return;if((await fetch(st+"profile/update/",{method:"PUT",headers:{Authorization:`Token ${y}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({username:d.username,phone_number:d.phone_number,address:d.address,date_of_birth:d.date_of_birth||null})})).ok)r(!1),t({title:"Success",description:"Profile updated successfully!"});else throw new Error("Failed to update profile")}catch(y){console.error("Error saving profile:",y),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{c(!1)}},u=async y=>{if(y)try{const v=await Re.getToken();if(!v)return;const w=new FormData;w.append("profile_picture",y);const x=await fetch(st+"profile/upload-picture/",{method:"POST",headers:{Authorization:`Token ${v}`,"ngrok-skip-browser-warning":"true"},body:w});if(x.ok){const b=await x.json();h(_=>({..._,profile_picture:b.profile_picture})),t({title:"Success",description:"Profile picture updated successfully!"})}else throw new Error("Failed to upload image")}catch(v){console.error("Profile image upload error:",v),t({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}},p=(y,v)=>{h(w=>({...w,[y]:v}))};return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-30",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/profile"),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Personal Information"})]}),n.jsx(ne,{onClick:()=>s?m():r(!0),size:"sm",className:"bg-blue-600 hover:bg-blue-700",disabled:o,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Rc,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Yu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),n.jsx("div",{className:"p-4 pb-20",children:n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"Profile Information"]})}),n.jsxs(Ae,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden ${s?"cursor-pointer hover:bg-gray-200":""}`,onClick:s?()=>{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=v=>{var x;const w=(x=v.target.files)==null?void 0:x[0];w&&u(w)},y.click()}:void 0,children:d.profile_picture?n.jsx("img",{src:d.profile_picture,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold text-2xl",children:d.username?d.username.charAt(0).toUpperCase():"U"})}),s&&n.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-8 h-8 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const y=document.createElement("input");y.type="file",y.accept="image/*",y.onchange=v=>{var x;const w=(x=v.target.files)==null?void 0:x[0];w&&u(w)},y.click()},children:n.jsx(Hi,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:s?"Click to change profile picture":"Profile Picture"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"username",children:"Username"}),n.jsx(ge,{id:"username",value:d.username,onChange:y=>p("username",y.target.value),disabled:!s,className:"mt-1"})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"email",children:"Email"}),n.jsx(ge,{id:"email",type:"email",value:d.email,disabled:!0,className:"mt-1 bg-gray-50"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"phone",children:"Phone Number"}),n.jsx(ge,{id:"phone",value:d.phone_number,onChange:y=>p("phone_number",y.target.value),disabled:!s,className:"mt-1",placeholder:"Enter your phone number"})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"address",children:"Address"}),n.jsx(Kn,{id:"address",value:d.address,onChange:y=>p("address",y.target.value),disabled:!s,className:"mt-1",placeholder:"Enter your address",rows:3})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"dob",children:"Date of Birth"}),n.jsx(ge,{id:"dob",type:"date",value:d.date_of_birth||"",onChange:y=>p("date_of_birth",y.target.value||null),disabled:!s,className:"mt-1"})]})]})]})]})}),n.jsx(Ds,{})]})},MW=()=>{const e=rt(),{toast:t}=un(),[s,r]=j.useState(!0),[i,a]=j.useState(""),[o,c]=j.useState(!1),[d,h]=j.useState(""),[f,m]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const y=await Re.getToken();if(!y){e("/login");return}const v=await fetch(st+"profile/",{headers:{Authorization:`Token ${y}`,"ngrok-skip-browser-warning":"true"}});if(!v.ok)throw new Error("Failed to fetch profile");const w=await v.json(),x=(w==null?void 0:w.plain_password)||"";a(x)}catch(y){console.error(y)}})()},[]);const u=async()=>{if(!d){t({title:"Error",description:"New password is required",variant:"destructive"});return}m(!0);try{const p=await Re.getToken();if(!p){t({title:"Error",description:"You are not authenticated. Please log in.",variant:"destructive"}),e("/login");return}const y=await fetch(st+"change-password/simple/",{method:"POST",headers:{Authorization:`Token ${p}`,"Content-Type":"application/json","ngrok-skip-browser-warning":"true"},body:JSON.stringify({new_password:d})});if(!y.ok){const w=await y.json();throw new Error(w.error||"Failed to change password")}const v=await y.json();await Re.setAuth(v.token,await Re.getUser()),t({title:"Success",description:"Password changed successfully"}),a(d),h(""),c(!1)}catch(p){t({title:"Error",description:p instanceof Error?p.message:"Failed to change password",variant:"destructive"})}finally{m(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center gap-3 p-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Privacy & Security"})]})}),n.jsx("div",{className:"p-4 space-y-6 pb-20",children:n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(yi,{className:"h-5 w-5 text-blue-600"}),n.jsx("h2",{className:"font-semibold",children:"Password"})]}),o?n.jsxs("div",{className:"space-y-4",children:[n.jsx(ue,{children:"New Password"}),n.jsx(ge,{type:"text",value:d,onChange:p=>h(p.target.value),placeholder:"Enter new password"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{onClick:u,disabled:f,children:f?"Saving...":"Save"}),n.jsx(ne,{variant:"outline",onClick:()=>{c(!1),h("")},disabled:f,children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(ue,{children:"Your Password"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ge,{type:s?"text":"password",value:i,disabled:!0,className:"bg-gray-100"}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>r(!s),children:s?n.jsx(J0,{className:"h-4 w-4"}):n.jsx(Sn,{className:"h-4 w-4"})})]}),n.jsx(ne,{onClick:()=>c(!0),disabled:f,children:"Change Password"})]})]})}),n.jsx(Ds,{})]})};function IW(){const e=rt(),[t,s]=j.useState(1),[r,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,y]=j.useState(""),[v,w]=j.useState(!1),[x,b]=j.useState(!1),[_,N]=j.useState(""),C=async()=>{var E,T,A;if(h!==m){N("Passwords do not match");return}b(!0),N("");try{const $=await fetch(st+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,email:c,password:h,user_type:"customer",phone_number:a})}),O=await $.json();if(!$.ok){const F=((E=O.username)==null?void 0:E[0])||((T=O.email)==null?void 0:T[0])||O.message||((A=Object.values(O)[0])==null?void 0:A[0])||"Registration failed";throw new Error(F)}s(2)}catch($){N($.message)}finally{b(!1)}},I=E=>{y(E),E.length===6&&k(E)},k=async E=>{b(!0),N("");try{const T=await fetch(st+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,otp:E})}),A=await T.json();if(!T.ok)throw new Error(A.error||"Verification failed");localStorage.setItem("token",A.token),e("/home")}catch(T){N(T.message)}finally{b(!1)}},P=async()=>{b(!0),N("");try{const E=await fetch(st+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c})}),T=await E.json();if(!E.ok)throw new Error(T.error||"Failed to resend OTP");N("OTP resent successfully")}catch(E){N(E.message)}finally{b(!1)}},R=()=>{e("/login")};return n.jsx("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Signup"})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:r,onChange:E=>i(E.target.value),placeholder:"Full Name",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(ge,{type:"tel",value:a,onChange:E=>o(E.target.value),placeholder:"Phone Number",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(ge,{type:"email",value:c,onChange:E=>d(E.target.value),placeholder:"Email Address",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:v?"text":"password",value:h,onChange:E=>f(E.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),n.jsx(ge,{type:"password",value:m,onChange:E=>u(E.target.value),placeholder:"Confirm Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),n.jsx(ne,{onClick:C,disabled:!r||!a||!c||!h||!m||h!==m||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Creating Account...":"Sign Up"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:R,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Already have an account? Login"})})]}),t===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",c]})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:p,onChange:E=>I(E.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),x&&n.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),n.jsx("button",{onClick:()=>s(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),n.jsx("button",{onClick:P,disabled:x,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})})}function DW(){const e=rt(),[t,s]=j.useState(""),r=o=>{o.preventDefault(),e("/login")},i=()=>{e("/login")},a=()=>{console.log("Resend link clicked")};return n.jsx("div",{className:"min-h-screen flex items-end justify-center bg-cover bg-center bg-no-repeat p-4 pb-12",style:{backgroundImage:"url(/images/forgot.png)"},children:n.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-lg p-4",style:{backgroundColor:"#856043"},children:[n.jsx("h2",{className:"text-xl font-bold text-white text-center mb-5",children:"Forgot Password"}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"email",className:"text-white font-medium",children:"Email or Phone Number"}),n.jsx(ge,{id:"email",type:"text",value:t,onChange:o=>s(o.target.value),placeholder:"Enter your email or phone",className:"mt-1 w-full rounded-md border-gray-300 focus:border-white focus:ring-white text-gray-900"})]}),n.jsx(ne,{onClick:r,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Submit"}),n.jsx(ne,{onClick:a,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Resend Link"}),n.jsx(ne,{onClick:i,className:"w-full bg-[#a67c5b] text-white hover:bg-[#b88f6e] font-semibold transition-colors",children:"Back to Login"})]})]})})}var bw="Radio",[FW,YO]=ls(bw),[$W,zW]=FW(bw),XO=j.forwardRef((e,t)=>{const{__scopeRadio:s,name:r,checked:i=!1,required:a,disabled:o,value:c="on",onCheck:d,form:h,...f}=e,[m,u]=j.useState(null),p=ht(t,w=>u(w)),y=j.useRef(!1),v=m?h||!!m.closest("form"):!0;return n.jsxs($W,{scope:s,checked:i,disabled:o,children:[n.jsx(Xe.button,{type:"button",role:"radio","aria-checked":i,"data-state":tR(i),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:p,onClick:Me(e.onClick,w=>{i||d==null||d(),v&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),v&&n.jsx(eR,{control:m,bubbles:!y.current,name:r,value:c,checked:i,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});XO.displayName=bw;var QO="RadioIndicator",JO=j.forwardRef((e,t)=>{const{__scopeRadio:s,forceMount:r,...i}=e,a=zW(QO,s);return n.jsx(Xn,{present:r||a.checked,children:n.jsx(Xe.span,{"data-state":tR(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});JO.displayName=QO;var BW="RadioBubbleInput",eR=j.forwardRef(({__scopeRadio:e,control:t,checked:s,bubbles:r=!0,...i},a)=>{const o=j.useRef(null),c=ht(o,a),d=kp(s),h=rp(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==s&&p){const y=new Event("click",{bubbles:r});p.call(f,s),f.dispatchEvent(y)}},[d,s,r]),n.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eR.displayName=BW;function tR(e){return e?"checked":"unchecked"}var VW=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ep="RadioGroup",[UW,kse]=ls(Ep,[zc,YO]),nR=zc(),sR=YO(),[qW,HW]=UW(Ep),rR=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,name:r,defaultValue:i,value:a,required:o=!1,disabled:c=!1,orientation:d,dir:h,loop:f=!0,onValueChange:m,...u}=e,p=nR(s),y=$c(h),[v,w]=Fr({prop:a,defaultProp:i??null,onChange:m,caller:Ep});return n.jsx(qW,{scope:s,name:r,required:o,disabled:c,value:v,onValueChange:w,children:n.jsx(Cb,{asChild:!0,...p,orientation:d,dir:y,loop:f,children:n.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:y,...u,ref:t})})})});rR.displayName=Ep;var iR="RadioGroupItem",aR=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,disabled:r,...i}=e,a=HW(iR,s),o=a.disabled||r,c=nR(s),d=sR(s),h=j.useRef(null),f=ht(t,h),m=a.value===i.value,u=j.useRef(!1);return j.useEffect(()=>{const p=v=>{VW.includes(v.key)&&(u.current=!0)},y=()=>u.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),n.jsx(Eb,{asChild:!0,...c,focusable:!o,active:m,children:n.jsx(XO,{disabled:o,required:a.required,checked:m,...d,...i,name:a.name,ref:f,onCheck:()=>a.onValueChange(i.value),onKeyDown:Me(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Me(i.onFocus,()=>{var p;u.current&&((p=h.current)==null||p.click())})})})});aR.displayName=iR;var WW="RadioGroupIndicator",oR=j.forwardRef((e,t)=>{const{__scopeRadioGroup:s,...r}=e,i=sR(s);return n.jsx(JO,{...i,...r,ref:t})});oR.displayName=WW;var lR=rR,cR=aR,ZW=oR;const dR=j.forwardRef(({className:e,...t},s)=>n.jsx(lR,{className:Ge("grid gap-2",e),...t,ref:s}));dR.displayName=lR.displayName;const gy=j.forwardRef(({className:e,...t},s)=>n.jsx(cR,{ref:s,className:Ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(ZW,{className:"flex items-center justify-center",children:n.jsx(gE,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gy.displayName=cR.displayName;var GW="Separator",bS="horizontal",KW=["horizontal","vertical"],uR=j.forwardRef((e,t)=>{const{decorative:s,orientation:r=bS,...i}=e,a=YW(r)?r:bS,c=s?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return n.jsx(Xe.div,{"data-orientation":a,...c,...i,ref:t})});uR.displayName=GW;function YW(e){return KW.includes(e)}var hR=uR;const pi=j.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},i)=>n.jsx(hR,{ref:i,decorative:s,orientation:t,className:Ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));pi.displayName=hR.displayName;function XW(e,t){const s=j.useRef(t);j.useEffect(function(){t!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),t!=null&&e.attributionControl.addAttribution(t)),s.current=t},[e,t])}function QW(e,t,s){t.center!==s.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==s.radius&&e.setRadius(t.radius)}const JW=1;function eZ(e){return Object.freeze({__version:JW,map:e})}function fR(e,t){return Object.freeze({...e,...t})}const mR=j.createContext(null),pR=mR.Provider;function ww(){const e=j.useContext(mR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function gR(e){function t(s,r){const{instance:i,context:a}=e(s).current;return j.useImperativeHandle(r,()=>i),s.children==null?null:Ne.createElement(pR,{value:a},s.children)}return j.forwardRef(t)}function tZ(e){function t(s,r){const{instance:i}=e(s).current;return j.useImperativeHandle(r,()=>i),null}return j.forwardRef(t)}function vR(e,t){const s=j.useRef();j.useEffect(function(){return t!=null&&e.instance.on(t),s.current=t,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,t])}function jw(e,t){const s=e.pane??t.pane;return s?{...e,pane:s}:e}var vy={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(s,r){r(t)})(vi,function(s){var r="1.9.4";function i(l){var g,S,D,q;for(S=1,D=arguments.length;S<D;S++){q=arguments[S];for(g in q)l[g]=q[g]}return l}var a=Object.create||function(){function l(){}return function(g){return l.prototype=g,new l}}();function o(l,g){var S=Array.prototype.slice;if(l.bind)return l.bind.apply(l,S.call(arguments,1));var D=S.call(arguments,2);return function(){return l.apply(g,D.length?D.concat(S.call(arguments)):arguments)}}var c=0;function d(l){return"_leaflet_id"in l||(l._leaflet_id=++c),l._leaflet_id}function h(l,g,S){var D,q,J,ce;return ce=function(){D=!1,q&&(J.apply(S,q),q=!1)},J=function(){D?q=arguments:(l.apply(S,arguments),setTimeout(ce,g),D=!0)},J}function f(l,g,S){var D=g[1],q=g[0],J=D-q;return l===D&&S?l:((l-q)%J+J)%J+q}function m(){return!1}function u(l,g){if(g===!1)return l;var S=Math.pow(10,g===void 0?6:g);return Math.round(l*S)/S}function p(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function y(l){return p(l).split(/\s+/)}function v(l,g){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?a(l.options):{});for(var S in g)l.options[S]=g[S];return l.options}function w(l,g,S){var D=[];for(var q in l)D.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(l[q]));return(!g||g.indexOf("?")===-1?"?":"&")+D.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function b(l,g){return l.replace(x,function(S,D){var q=g[D];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(g)),q})}var _=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function N(l,g){for(var S=0;S<l.length;S++)if(l[S]===g)return S;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var k=0;function P(l){var g=+new Date,S=Math.max(0,16-(g-k));return k=g+S,window.setTimeout(l,S)}var R=window.requestAnimationFrame||I("RequestAnimationFrame")||P,E=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function T(l,g,S){if(S&&R===P)l.call(g);else return R.call(window,o(l,g))}function A(l){l&&E.call(window,l)}var $={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:d,throttle:h,wrapNum:f,falseFn:m,formatNum:u,trim:p,splitWords:y,setOptions:v,getParamString:w,template:b,isArray:_,indexOf:N,emptyImageUrl:C,requestFn:R,cancelFn:E,requestAnimFrame:T,cancelAnimFrame:A};function O(){}O.extend=function(l){var g=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,D=a(S);D.constructor=g,g.prototype=D;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(g[q]=this[q]);return l.statics&&i(g,l.statics),l.includes&&(F(l.includes),i.apply(null,[D].concat(l.includes))),i(D,l),delete D.statics,delete D.includes,D.options&&(D.options=S.options?a(S.options):{},i(D.options,l.options)),D._initHooks=[],D.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,ce=D._initHooks.length;J<ce;J++)D._initHooks[J].call(this)}},g},O.include=function(l){var g=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=g,this.mergeOptions(l.options)),this},O.mergeOptions=function(l){return i(this.prototype.options,l),this},O.addInitHook=function(l){var g=Array.prototype.slice.call(arguments,1),S=typeof l=="function"?l:function(){this[l].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function F(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=_(l)?l:[l];for(var g=0;g<l.length;g++)l[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(l,g,S){if(typeof l=="object")for(var D in l)this._on(D,l[D],g);else{l=y(l);for(var q=0,J=l.length;q<J;q++)this._on(l[q],g,S)}return this},off:function(l,g,S){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var D in l)this._off(D,l[D],g);else{l=y(l);for(var q=arguments.length===1,J=0,ce=l.length;J<ce;J++)q?this._off(l[J]):this._off(l[J],g,S)}return this},_on:function(l,g,S,D){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(l,g,S)===!1){S===this&&(S=void 0);var q={fn:g,ctx:S};D&&(q.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(q)}},_off:function(l,g,S){var D,q,J;if(this._events&&(D=this._events[l],!!D)){if(arguments.length===1){if(this._firingCount)for(q=0,J=D.length;q<J;q++)D[q].fn=m;delete this._events[l];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var ce=this._listens(l,g,S);if(ce!==!1){var pe=D[ce];this._firingCount&&(pe.fn=m,this._events[l]=D=D.slice()),D.splice(ce,1)}}},fire:function(l,g,S){if(!this.listens(l,S))return this;var D=i({},g,{type:l,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var q=this._events[l];if(q){this._firingCount=this._firingCount+1||1;for(var J=0,ce=q.length;J<ce;J++){var pe=q[J],ye=pe.fn;pe.once&&this.off(l,ye,pe.ctx),ye.call(pe.ctx||this,D)}this._firingCount--}}return S&&this._propagateEvent(D),this},listens:function(l,g,S,D){typeof l!="string"&&console.warn('"string" type argument expected');var q=g;typeof g!="function"&&(D=!!g,q=void 0,S=void 0);var J=this._events&&this._events[l];if(J&&J.length&&this._listens(l,q,S)!==!1)return!0;if(D){for(var ce in this._eventParents)if(this._eventParents[ce].listens(l,g,S,D))return!0}return!1},_listens:function(l,g,S){if(!this._events)return!1;var D=this._events[l]||[];if(!g)return!!D.length;S===this&&(S=void 0);for(var q=0,J=D.length;q<J;q++)if(D[q].fn===g&&D[q].ctx===S)return q;return!1},once:function(l,g,S){if(typeof l=="object")for(var D in l)this._on(D,l[D],g,!0);else{l=y(l);for(var q=0,J=l.length;q<J;q++)this._on(l[q],g,S,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[d(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[d(l)],this},_propagateEvent:function(l){for(var g in this._eventParents)this._eventParents[g].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var Y=O.extend(G);function K(l,g,S){this.x=S?Math.round(l):l,this.y=S?Math.round(g):g}var U=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(l){return this.clone()._add(B(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(B(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new K(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new K(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=U(this.x),this.y=U(this.y),this},distanceTo:function(l){l=B(l);var g=l.x-this.x,S=l.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(l){return l=B(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=B(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function B(l,g,S){return l instanceof K?l:_(l)?new K(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new K(l.x,l.y):new K(l,g,S)}function M(l,g){if(l)for(var S=g?[l,g]:l,D=0,q=S.length;D<q;D++)this.extend(S[D])}M.prototype={extend:function(l){var g,S;if(!l)return this;if(l instanceof K||typeof l[0]=="number"||"x"in l)g=S=B(l);else if(l=z(l),g=l.min,S=l.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(l){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var g,S;return typeof l[0]=="number"||l instanceof K?l=B(l):l=z(l),l instanceof M?(g=l.min,S=l.max):g=S=l,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(l){l=z(l);var g=this.min,S=this.max,D=l.min,q=l.max,J=q.x>=g.x&&D.x<=S.x,ce=q.y>=g.y&&D.y<=S.y;return J&&ce},overlaps:function(l){l=z(l);var g=this.min,S=this.max,D=l.min,q=l.max,J=q.x>g.x&&D.x<S.x,ce=q.y>g.y&&D.y<S.y;return J&&ce},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var g=this.min,S=this.max,D=Math.abs(g.x-S.x)*l,q=Math.abs(g.y-S.y)*l;return z(B(g.x-D,g.y-q),B(S.x+D,S.y+q))},equals:function(l){return l?(l=z(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function z(l,g){return!l||l instanceof M?l:new M(l,g)}function Z(l,g){if(l)for(var S=g?[l,g]:l,D=0,q=S.length;D<q;D++)this.extend(S[D])}Z.prototype={extend:function(l){var g=this._southWest,S=this._northEast,D,q;if(l instanceof X)D=l,q=l;else if(l instanceof Z){if(D=l._southWest,q=l._northEast,!D||!q)return this}else return l?this.extend(V(l)||W(l)):this;return!g&&!S?(this._southWest=new X(D.lat,D.lng),this._northEast=new X(q.lat,q.lng)):(g.lat=Math.min(D.lat,g.lat),g.lng=Math.min(D.lng,g.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(l){var g=this._southWest,S=this._northEast,D=Math.abs(g.lat-S.lat)*l,q=Math.abs(g.lng-S.lng)*l;return new Z(new X(g.lat-D,g.lng-q),new X(S.lat+D,S.lng+q))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof X||"lat"in l?l=V(l):l=W(l);var g=this._southWest,S=this._northEast,D,q;return l instanceof Z?(D=l.getSouthWest(),q=l.getNorthEast()):D=q=l,D.lat>=g.lat&&q.lat<=S.lat&&D.lng>=g.lng&&q.lng<=S.lng},intersects:function(l){l=W(l);var g=this._southWest,S=this._northEast,D=l.getSouthWest(),q=l.getNorthEast(),J=q.lat>=g.lat&&D.lat<=S.lat,ce=q.lng>=g.lng&&D.lng<=S.lng;return J&&ce},overlaps:function(l){l=W(l);var g=this._southWest,S=this._northEast,D=l.getSouthWest(),q=l.getNorthEast(),J=q.lat>g.lat&&D.lat<S.lat,ce=q.lng>g.lng&&D.lng<S.lng;return J&&ce},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,g){return l?(l=W(l),this._southWest.equals(l.getSouthWest(),g)&&this._northEast.equals(l.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(l,g){return l instanceof Z?l:new Z(l,g)}function X(l,g,S){if(isNaN(l)||isNaN(g))throw new Error("Invalid LatLng object: ("+l+", "+g+")");this.lat=+l,this.lng=+g,S!==void 0&&(this.alt=+S)}X.prototype={equals:function(l,g){if(!l)return!1;l=V(l);var S=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return S<=(g===void 0?1e-9:g)},toString:function(l){return"LatLng("+u(this.lat,l)+", "+u(this.lng,l)+")"},distanceTo:function(l){return se.distance(this,V(l))},wrap:function(){return se.wrapLatLng(this)},toBounds:function(l){var g=180*l/40075017,S=g/Math.cos(Math.PI/180*this.lat);return W([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function V(l,g,S){return l instanceof X?l:_(l)&&typeof l[0]!="object"?l.length===3?new X(l[0],l[1],l[2]):l.length===2?new X(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new X(l.lat,"lng"in l?l.lng:l.lon,l.alt):g===void 0?null:new X(l,g,S)}var H={latLngToPoint:function(l,g){var S=this.projection.project(l),D=this.scale(g);return this.transformation._transform(S,D)},pointToLatLng:function(l,g){var S=this.scale(g),D=this.transformation.untransform(l,S);return this.projection.unproject(D)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(l),D=this.transformation.transform(g.min,S),q=this.transformation.transform(g.max,S);return new M(D,q)},infinite:!1,wrapLatLng:function(l){var g=this.wrapLng?f(l.lng,this.wrapLng,!0):l.lng,S=this.wrapLat?f(l.lat,this.wrapLat,!0):l.lat,D=l.alt;return new X(S,g,D)},wrapLatLngBounds:function(l){var g=l.getCenter(),S=this.wrapLatLng(g),D=g.lat-S.lat,q=g.lng-S.lng;if(D===0&&q===0)return l;var J=l.getSouthWest(),ce=l.getNorthEast(),pe=new X(J.lat-D,J.lng-q),ye=new X(ce.lat-D,ce.lng-q);return new Z(pe,ye)}},se=i({},H,{wrapLng:[-180,180],R:6371e3,distance:function(l,g){var S=Math.PI/180,D=l.lat*S,q=g.lat*S,J=Math.sin((g.lat-l.lat)*S/2),ce=Math.sin((g.lng-l.lng)*S/2),pe=J*J+Math.cos(D)*Math.cos(q)*ce*ce,ye=2*Math.atan2(Math.sqrt(pe),Math.sqrt(1-pe));return this.R*ye}}),Q=6378137,ie={R:Q,MAX_LATITUDE:85.0511287798,project:function(l){var g=Math.PI/180,S=this.MAX_LATITUDE,D=Math.max(Math.min(S,l.lat),-S),q=Math.sin(D*g);return new K(this.R*l.lng*g,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(l){var g=180/Math.PI;return new X((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*g,l.x*g/this.R)},bounds:function(){var l=Q*Math.PI;return new M([-l,-l],[l,l])}()};function fe(l,g,S,D){if(_(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=g,this._c=S,this._d=D}fe.prototype={transform:function(l,g){return this._transform(l.clone(),g)},_transform:function(l,g){return g=g||1,l.x=g*(this._a*l.x+this._b),l.y=g*(this._c*l.y+this._d),l},untransform:function(l,g){return g=g||1,new K((l.x/g-this._b)/this._a,(l.y/g-this._d)/this._c)}};function te(l,g,S,D){return new fe(l,g,S,D)}var ve=i({},se,{code:"EPSG:3857",projection:ie,transformation:function(){var l=.5/(Math.PI*ie.R);return te(l,.5,-l,.5)}()}),Ce=i({},ve,{code:"EPSG:900913"});function he(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function je(l,g){var S="",D,q,J,ce,pe,ye;for(D=0,J=l.length;D<J;D++){for(pe=l[D],q=0,ce=pe.length;q<ce;q++)ye=pe[q],S+=(q?"L":"M")+ye.x+" "+ye.y;S+=g?tt.svg?"z":"x":""}return S||"M0 0"}var _e=document.documentElement.style,de="ActiveXObject"in window,me=de&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),ae=Wr("webkit"),oe=Wr("android"),be=Wr("android 2")||Wr("android 3"),we=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xe=oe&&Wr("Google")&&we<537&&!("AudioNode"in window),re=!!window.opera,Se=!ee&&Wr("chrome"),Te=Wr("gecko")&&!ae&&!re&&!de,nt=!Se&&Wr("safari"),ot=Wr("phantom"),$t="OTransition"in _e,le=navigator.platform.indexOf("Win")===0,He=de&&"transition"in _e,Ze="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!be,dt="MozPerspective"in _e,ze=!window.L_DISABLE_3D&&(He||Ze||dt)&&!$t&&!ot,Ie=typeof orientation<"u"||Wr("mobile"),It=Ie&&ae,Ot=Ie&&Ze,xn=!window.PointerEvent&&window.MSPointerEvent,En=!!(window.PointerEvent||xn),cs="ontouchstart"in window||!!window.TouchEvent,Qn=!window.L_NO_TOUCH&&(cs||En),aa=Ie&&re,Ve=Ie&&Te,pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kt=function(){var l=!1;try{var g=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",m,g),window.removeEventListener("testPassiveEventSupport",m,g)}catch{}return l}(),yn=function(){return!!document.createElement("canvas").getContext}(),Xt=!!(document.createElementNS&&he("svg").createSVGRect),qr=!!Xt&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ki=!Xt&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var g=l.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),Fs=navigator.platform.indexOf("Mac")===0,Hr=navigator.platform.indexOf("Linux")===0;function Wr(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var tt={ie:de,ielt9:me,edge:ee,webkit:ae,android:oe,android23:be,androidStock:xe,opera:re,chrome:Se,gecko:Te,safari:nt,phantom:ot,opera12:$t,win:le,ie3d:He,webkit3d:Ze,gecko3d:dt,any3d:ze,mobile:Ie,mobileWebkit:It,mobileWebkit3d:Ot,msPointer:xn,pointer:En,touch:Qn,touchNative:cs,mobileOpera:aa,mobileGecko:Ve,retina:pt,passiveEvents:kt,canvas:yn,svg:Xt,vml:ki,inlineSvg:qr,mac:Fs,linux:Hr},Ww=tt.msPointer?"MSPointerDown":"pointerdown",Zw=tt.msPointer?"MSPointerMove":"pointermove",Gw=tt.msPointer?"MSPointerUp":"pointerup",Kw=tt.msPointer?"MSPointerCancel":"pointercancel",Kp={touchstart:Ww,touchmove:Zw,touchend:Gw,touchcancel:Kw},Yw={touchstart:W4,touchmove:lh,touchend:lh,touchcancel:lh},sl={},Xw=!1;function B4(l,g,S){return g==="touchstart"&&H4(),Yw[g]?(S=Yw[g].bind(this,S),l.addEventListener(Kp[g],S,!1),S):(console.warn("wrong event specified:",g),m)}function V4(l,g,S){if(!Kp[g]){console.warn("wrong event specified:",g);return}l.removeEventListener(Kp[g],S,!1)}function U4(l){sl[l.pointerId]=l}function q4(l){sl[l.pointerId]&&(sl[l.pointerId]=l)}function Qw(l){delete sl[l.pointerId]}function H4(){Xw||(document.addEventListener(Ww,U4,!0),document.addEventListener(Zw,q4,!0),document.addEventListener(Gw,Qw,!0),document.addEventListener(Kw,Qw,!0),Xw=!0)}function lh(l,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in sl)g.touches.push(sl[S]);g.changedTouches=[g],l(g)}}function W4(l,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Vn(g),lh(l,g)}function Z4(l){var g={},S,D;for(D in l)S=l[D],g[D]=S&&S.bind?S.bind(l):S;return l=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var G4=200;function K4(l,g){l.addEventListener("dblclick",g);var S=0,D;function q(J){if(J.detail!==1){D=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var ce=sj(J);if(!(ce.some(function(ye){return ye instanceof HTMLLabelElement&&ye.attributes.for})&&!ce.some(function(ye){return ye instanceof HTMLInputElement||ye instanceof HTMLSelectElement}))){var pe=Date.now();pe-S<=G4?(D++,D===2&&g(Z4(J))):D=1,S=pe}}}return l.addEventListener("click",q),{dblclick:g,simDblclick:q}}function Y4(l,g){l.removeEventListener("dblclick",g.dblclick),l.removeEventListener("click",g.simDblclick)}var Yp=uh(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xc=uh(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jw=Xc==="webkitTransition"||Xc==="OTransition"?Xc+"End":"transitionend";function ej(l){return typeof l=="string"?document.getElementById(l):l}function Qc(l,g){var S=l.style[g]||l.currentStyle&&l.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var D=document.defaultView.getComputedStyle(l,null);S=D?D[g]:null}return S==="auto"?null:S}function Rt(l,g,S){var D=document.createElement(l);return D.className=g||"",S&&S.appendChild(D),D}function rn(l){var g=l.parentNode;g&&g.removeChild(l)}function ch(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function rl(l){var g=l.parentNode;g&&g.lastChild!==l&&g.appendChild(l)}function il(l){var g=l.parentNode;g&&g.firstChild!==l&&g.insertBefore(l,g.firstChild)}function Xp(l,g){if(l.classList!==void 0)return l.classList.contains(g);var S=dh(l);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function yt(l,g){if(l.classList!==void 0)for(var S=y(g),D=0,q=S.length;D<q;D++)l.classList.add(S[D]);else if(!Xp(l,g)){var J=dh(l);Qp(l,(J?J+" ":"")+g)}}function bn(l,g){l.classList!==void 0?l.classList.remove(g):Qp(l,p((" "+dh(l)+" ").replace(" "+g+" "," ")))}function Qp(l,g){l.className.baseVal===void 0?l.className=g:l.className.baseVal=g}function dh(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function Ks(l,g){"opacity"in l.style?l.style.opacity=g:"filter"in l.style&&X4(l,g)}function X4(l,g){var S=!1,D="DXImageTransform.Microsoft.Alpha";try{S=l.filters.item(D)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):l.style.filter+=" progid:"+D+"(opacity="+g+")"}function uh(l){for(var g=document.documentElement.style,S=0;S<l.length;S++)if(l[S]in g)return l[S];return!1}function ao(l,g,S){var D=g||new K(0,0);l.style[Yp]=(tt.ie3d?"translate("+D.x+"px,"+D.y+"px)":"translate3d("+D.x+"px,"+D.y+"px,0)")+(S?" scale("+S+")":"")}function Pn(l,g){l._leaflet_pos=g,tt.any3d?ao(l,g):(l.style.left=g.x+"px",l.style.top=g.y+"px")}function oo(l){return l._leaflet_pos||new K(0,0)}var Jc,ed,Jp;if("onselectstart"in document)Jc=function(){mt(window,"selectstart",Vn)},ed=function(){Ht(window,"selectstart",Vn)};else{var td=uh(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jc=function(){if(td){var l=document.documentElement.style;Jp=l[td],l[td]="none"}},ed=function(){td&&(document.documentElement.style[td]=Jp,Jp=void 0)}}function eg(){mt(window,"dragstart",Vn)}function tg(){Ht(window,"dragstart",Vn)}var hh,ng;function sg(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(fh(),hh=l,ng=l.style.outlineStyle,l.style.outlineStyle="none",mt(window,"keydown",fh))}function fh(){hh&&(hh.style.outlineStyle=ng,hh=void 0,ng=void 0,Ht(window,"keydown",fh))}function tj(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function rg(l){var g=l.getBoundingClientRect();return{x:g.width/l.offsetWidth||1,y:g.height/l.offsetHeight||1,boundingClientRect:g}}var Q4={__proto__:null,TRANSFORM:Yp,TRANSITION:Xc,TRANSITION_END:Jw,get:ej,getStyle:Qc,create:Rt,remove:rn,empty:ch,toFront:rl,toBack:il,hasClass:Xp,addClass:yt,removeClass:bn,setClass:Qp,getClass:dh,setOpacity:Ks,testProp:uh,setTransform:ao,setPosition:Pn,getPosition:oo,get disableTextSelection(){return Jc},get enableTextSelection(){return ed},disableImageDrag:eg,enableImageDrag:tg,preventOutline:sg,restoreOutline:fh,getSizedParentNode:tj,getScale:rg};function mt(l,g,S,D){if(g&&typeof g=="object")for(var q in g)ag(l,q,g[q],S);else{g=y(g);for(var J=0,ce=g.length;J<ce;J++)ag(l,g[J],S,D)}return this}var Zr="_leaflet_events";function Ht(l,g,S,D){if(arguments.length===1)nj(l),delete l[Zr];else if(g&&typeof g=="object")for(var q in g)og(l,q,g[q],S);else if(g=y(g),arguments.length===2)nj(l,function(pe){return N(g,pe)!==-1});else for(var J=0,ce=g.length;J<ce;J++)og(l,g[J],S,D);return this}function nj(l,g){for(var S in l[Zr]){var D=S.split(/\d/)[0];(!g||g(D))&&og(l,D,null,null,S)}}var ig={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ag(l,g,S,D){var q=g+d(S)+(D?"_"+d(D):"");if(l[Zr]&&l[Zr][q])return this;var J=function(pe){return S.call(D||l,pe||window.event)},ce=J;!tt.touchNative&&tt.pointer&&g.indexOf("touch")===0?J=B4(l,g,J):tt.touch&&g==="dblclick"?J=K4(l,J):"addEventListener"in l?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?l.addEventListener(ig[g]||g,J,tt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(J=function(pe){pe=pe||window.event,cg(l,pe)&&ce(pe)},l.addEventListener(ig[g],J,!1)):l.addEventListener(g,ce,!1):l.attachEvent("on"+g,J),l[Zr]=l[Zr]||{},l[Zr][q]=J}function og(l,g,S,D,q){q=q||g+d(S)+(D?"_"+d(D):"");var J=l[Zr]&&l[Zr][q];if(!J)return this;!tt.touchNative&&tt.pointer&&g.indexOf("touch")===0?V4(l,g,J):tt.touch&&g==="dblclick"?Y4(l,J):"removeEventListener"in l?l.removeEventListener(ig[g]||g,J,!1):l.detachEvent("on"+g,J),l[Zr][q]=null}function lo(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function lg(l){return ag(l,"wheel",lo),this}function nd(l){return mt(l,"mousedown touchstart dblclick contextmenu",lo),l._leaflet_disable_click=!0,this}function Vn(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function co(l){return Vn(l),lo(l),this}function sj(l){if(l.composedPath)return l.composedPath();for(var g=[],S=l.target;S;)g.push(S),S=S.parentNode;return g}function rj(l,g){if(!g)return new K(l.clientX,l.clientY);var S=rg(g),D=S.boundingClientRect;return new K((l.clientX-D.left)/S.x-g.clientLeft,(l.clientY-D.top)/S.y-g.clientTop)}var J4=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ij(l){return tt.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/J4:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function cg(l,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==l;)S=S.parentNode}catch{return!1}return S!==l}var e5={__proto__:null,on:mt,off:Ht,stopPropagation:lo,disableScrollPropagation:lg,disableClickPropagation:nd,preventDefault:Vn,stop:co,getPropagationPath:sj,getMousePosition:rj,getWheelDelta:ij,isExternalTarget:cg,addListener:mt,removeListener:Ht},aj=Y.extend({run:function(l,g,S,D){this.stop(),this._el=l,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(D||.5,.2),this._startPos=oo(l),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(l){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),l):(this._runFrame(1),this._complete())},_runFrame:function(l,g){var S=this._startPos.add(this._offset.multiplyBy(l));g&&S._round(),Pn(this._el,S),this.fire("step")},_complete:function(){A(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Pt=Y.extend({options:{crs:ve,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,g){g=v(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(V(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xc&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Jw,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),l=this._limitCenter(V(l),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var D=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,g,S.zoom):this._tryAnimatedPan(l,S.pan);if(D)return clearTimeout(this._sizeTimer),this}return this._resetView(l,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(l,g){return this._loaded?this.setView(this.getCenter(),l,{zoom:g}):(this._zoom=l,this)},zoomIn:function(l,g){return l=l||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,g)},zoomOut:function(l,g){return l=l||(tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,g)},setZoomAround:function(l,g,S){var D=this.getZoomScale(g),q=this.getSize().divideBy(2),J=l instanceof K?l:this.latLngToContainerPoint(l),ce=J.subtract(q).multiplyBy(1-1/D),pe=this.containerPointToLatLng(q.add(ce));return this.setView(pe,g,{zoom:S})},_getBoundsCenterZoom:function(l,g){g=g||{},l=l.getBounds?l.getBounds():W(l);var S=B(g.paddingTopLeft||g.padding||[0,0]),D=B(g.paddingBottomRight||g.padding||[0,0]),q=this.getBoundsZoom(l,!1,S.add(D));if(q=typeof g.maxZoom=="number"?Math.min(g.maxZoom,q):q,q===1/0)return{center:l.getCenter(),zoom:q};var J=D.subtract(S).divideBy(2),ce=this.project(l.getSouthWest(),q),pe=this.project(l.getNorthEast(),q),ye=this.unproject(ce.add(pe).divideBy(2).add(J),q);return{center:ye,zoom:q}},fitBounds:function(l,g){if(l=W(l),!l.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(l,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,g){return this.setView(l,this._zoom,{pan:g})},panBy:function(l,g){if(l=B(l).round(),g=g||{},!l.x&&!l.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new aj,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,g,S){if(S=S||{},S.animate===!1||!tt.any3d)return this.setView(l,g,S);this._stop();var D=this.project(this.getCenter()),q=this.project(l),J=this.getSize(),ce=this._zoom;l=V(l),g=g===void 0?ce:g;var pe=Math.max(J.x,J.y),ye=pe*this.getZoomScale(ce,g),Ee=q.distanceTo(D)||1,qe=1.42,it=qe*qe;function Nt(Tn){var Sh=Tn?-1:1,V5=Tn?ye:pe,U5=ye*ye-pe*pe+Sh*it*it*Ee*Ee,q5=2*V5*it*Ee,bg=U5/q5,zj=Math.sqrt(bg*bg+1)-bg,H5=zj<1e-9?-18:Math.log(zj);return H5}function ds(Tn){return(Math.exp(Tn)-Math.exp(-Tn))/2}function Fn(Tn){return(Math.exp(Tn)+Math.exp(-Tn))/2}function Xs(Tn){return ds(Tn)/Fn(Tn)}var ks=Nt(0);function ul(Tn){return pe*(Fn(ks)/Fn(ks+qe*Tn))}function F5(Tn){return pe*(Fn(ks)*Xs(ks+qe*Tn)-ds(ks))/it}function $5(Tn){return 1-Math.pow(1-Tn,1.5)}var z5=Date.now(),Fj=(Nt(1)-ks)/qe,B5=S.duration?1e3*S.duration:1e3*Fj*.8;function $j(){var Tn=(Date.now()-z5)/B5,Sh=$5(Tn)*Fj;Tn<=1?(this._flyToFrame=T($j,this),this._move(this.unproject(D.add(q.subtract(D).multiplyBy(F5(Sh)/Ee)),ce),this.getScaleZoom(pe/ul(Sh),ce),{flyTo:!0})):this._move(l,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),$j.call(this),this},flyToBounds:function(l,g){var S=this._getBoundsCenterZoom(l,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(l){return l=W(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var g=this.options.minZoom;return this.options.minZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var g=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&g!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,g){this._enforcingBounds=!0;var S=this.getCenter(),D=this._limitCenter(S,this._zoom,W(l));return S.equals(D)||this.panTo(D,g),this._enforcingBounds=!1,this},panInside:function(l,g){g=g||{};var S=B(g.paddingTopLeft||g.padding||[0,0]),D=B(g.paddingBottomRight||g.padding||[0,0]),q=this.project(this.getCenter()),J=this.project(l),ce=this.getPixelBounds(),pe=z([ce.min.add(S),ce.max.subtract(D)]),ye=pe.getSize();if(!pe.contains(J)){this._enforcingBounds=!0;var Ee=J.subtract(pe.getCenter()),qe=pe.extend(J).getSize().subtract(ye);q.x+=Ee.x<0?-qe.x:qe.x,q.y+=Ee.y<0?-qe.y:qe.y,this.panTo(this.unproject(q),g),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),D=g.divideBy(2).round(),q=S.divideBy(2).round(),J=D.subtract(q);return!J.x&&!J.y?this:(l.animate&&l.pan?this.panBy(J):(l.pan&&this._rawPanBy(J),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,l):navigator.geolocation.getCurrentPosition(g,S,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var g=l.code,S=l.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var g=l.coords.latitude,S=l.coords.longitude,D=new X(g,S),q=D.toBounds(l.coords.accuracy*2),J=this._locateOptions;if(J.setView){var ce=this.getBoundsZoom(q);this.setView(D,J.maxZoom?Math.min(ce,J.maxZoom):ce)}var pe={latlng:D,bounds:q,timestamp:l.timestamp};for(var ye in l.coords)typeof l.coords[ye]=="number"&&(pe[ye]=l.coords[ye]);this.fire("locationfound",pe)}},addHandler:function(l,g){if(!g)return this;var S=this[l]=new g(this);return this._handlers.push(S),this.options[l]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),rn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(A(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)rn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,g){var S="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),D=Rt("div",S,g||this._mapPane);return l&&(this._panes[l]=D),D},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),g=this.unproject(l.getBottomLeft()),S=this.unproject(l.getTopRight());return new Z(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,g,S){l=W(l),S=B(S||[0,0]);var D=this.getZoom()||0,q=this.getMinZoom(),J=this.getMaxZoom(),ce=l.getNorthWest(),pe=l.getSouthEast(),ye=this.getSize().subtract(S),Ee=z(this.project(pe,D),this.project(ce,D)).getSize(),qe=tt.any3d?this.options.zoomSnap:1,it=ye.x/Ee.x,Nt=ye.y/Ee.y,ds=g?Math.max(it,Nt):Math.min(it,Nt);return D=this.getScaleZoom(ds,D),qe&&(D=Math.round(D/(qe/100))*(qe/100),D=g?Math.ceil(D/qe)*qe:Math.floor(D/qe)*qe),Math.max(q,Math.min(J,D))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,g){var S=this._getTopLeftPoint(l,g);return new M(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(l)/S.scale(g)},getScaleZoom:function(l,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var D=S.zoom(l*S.scale(g));return isNaN(D)?1/0:D},project:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(V(l),g)},unproject:function(l,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(B(l),g)},layerPointToLatLng:function(l){var g=B(l).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(l){var g=this.project(V(l))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(V(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(W(l))},distance:function(l,g){return this.options.crs.distance(V(l),V(g))},containerPointToLayerPoint:function(l){return B(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return B(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var g=this.containerPointToLayerPoint(B(l));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(V(l)))},mouseEventToContainerPoint:function(l){return rj(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var g=this._container=ej(l);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,yt(l,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Qc(l,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pn(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(l.markerPane,"leaflet-zoom-hide"),yt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,g,S){Pn(this._mapPane,new K(0,0));var D=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var q=this._zoom!==g;this._moveStart(q,S)._move(l,g)._moveEnd(q),this.fire("viewreset"),D&&this.fire("load")},_moveStart:function(l,g){return l&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(l,g,S,D){g===void 0&&(g=this._zoom);var q=this._zoom!==g;return this._zoom=g,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),D?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return A(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Pn(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[d(this._container)]=this;var g=l?Ht:mt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){A(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,g){for(var S=[],D,q=g==="mouseout"||g==="mouseover",J=l.target||l.srcElement,ce=!1;J;){if(D=this._targets[d(J)],D&&(g==="click"||g==="preclick")&&this._draggableMoved(D)){ce=!0;break}if(D&&D.listens(g,!0)&&(q&&!cg(J,l)||(S.push(D),q))||J===this._container)break;J=J.parentNode}return!S.length&&!ce&&!q&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var g=l.target||l.srcElement;if(!(!this._loaded||g._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(g))){var S=l.type;S==="mousedown"&&sg(g),this._fireDOMEvent(l,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,g,S){if(l.type==="click"){var D=i({},l);D.type="preclick",this._fireDOMEvent(D,D.type,S)}var q=this._findEventTargets(l,g);if(S){for(var J=[],ce=0;ce<S.length;ce++)S[ce].listens(g,!0)&&J.push(S[ce]);q=J.concat(q)}if(q.length){g==="contextmenu"&&Vn(l);var pe=q[0],ye={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var Ee=pe.getLatLng&&(!pe._radius||pe._radius<=10);ye.containerPoint=Ee?this.latLngToContainerPoint(pe.getLatLng()):this.mouseEventToContainerPoint(l),ye.layerPoint=this.containerPointToLayerPoint(ye.containerPoint),ye.latlng=Ee?pe.getLatLng():this.layerPointToLatLng(ye.layerPoint)}for(ce=0;ce<q.length;ce++)if(q[ce].fire(g,ye,!0),ye.originalEvent._stopped||q[ce].options.bubblingMouseEvents===!1&&N(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,g=this._handlers.length;l<g;l++)this._handlers[l].disable()},whenReady:function(l,g){return this._loaded?l.call(g||this,{target:this}):this.on("load",l,g),this},_getMapPanePos:function(){return oo(this._mapPane)||new K(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,g){var S=l&&g!==void 0?this._getNewPixelOrigin(l,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,g){var S=this.getSize()._divideBy(2);return this.project(l,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,g,S){var D=this._getNewPixelOrigin(S,g);return this.project(l,g)._subtract(D)},_latLngBoundsToNewLayerBounds:function(l,g,S){var D=this._getNewPixelOrigin(S,g);return z([this.project(l.getSouthWest(),g)._subtract(D),this.project(l.getNorthWest(),g)._subtract(D),this.project(l.getSouthEast(),g)._subtract(D),this.project(l.getNorthEast(),g)._subtract(D)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,g,S){if(!S)return l;var D=this.project(l,g),q=this.getSize().divideBy(2),J=new M(D.subtract(q),D.add(q)),ce=this._getBoundsOffset(J,S,g);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?l:this.unproject(D.add(ce),g)},_limitOffset:function(l,g){if(!g)return l;var S=this.getPixelBounds(),D=new M(S.min.add(l),S.max.add(l));return l.add(this._getBoundsOffset(D,g))},_getBoundsOffset:function(l,g,S){var D=z(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),q=D.min.subtract(l.min),J=D.max.subtract(l.max),ce=this._rebound(q.x,-J.x),pe=this._rebound(q.y,-J.y);return new K(ce,pe)},_rebound:function(l,g){return l+g>0?Math.round(l-g)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(g))},_limitZoom:function(l){var g=this.getMinZoom(),S=this.getMaxZoom(),D=tt.any3d?this.options.zoomSnap:1;return D&&(l=Math.round(l/D)*D),Math.max(g,Math.min(S,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,g){var S=this._getCenterOffset(l)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var l=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(g){var S=Yp,D=this._proxy.style[S];ao(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),D===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){rn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),g=this.getZoom();ao(this._proxy,this.project(l,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var D=this.getZoomScale(g),q=this._getCenterOffset(l)._divideBy(1-1/D);return S.animate!==!0&&!this.getSize().contains(q)?!1:(T(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(l,g,!0)},this),!0)},_animateZoom:function(l,g,S,D){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=g,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:g,noUpdate:D}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function t5(l,g){return new Pt(l,g)}var gr=O.extend({options:{position:"topright"},initialize:function(l){v(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var g=this._map;return g&&g.removeControl(this),this.options.position=l,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var g=this._container=this.onAdd(l),S=this.getPosition(),D=l._controlCorners[S];return yt(g,"leaflet-control"),S.indexOf("bottom")!==-1?D.insertBefore(g,D.firstChild):D.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(rn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),sd=function(l){return new gr(l)};Pt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},g="leaflet-",S=this._controlContainer=Rt("div",g+"control-container",this._container);function D(q,J){var ce=g+q+" "+g+J;l[q+J]=Rt("div",ce,S)}D("top","left"),D("top","right"),D("bottom","left"),D("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)rn(this._controlCorners[l]);rn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var oj=gr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,g,S,D){return S<D?-1:D<S?1:0}},initialize:function(l,g,S){v(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var D in l)this._addLayer(l[D],D);for(D in g)this._addLayer(g[D],D,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return gr.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,g){return this._addLayer(l,g),this._map?this._update():this},addOverlay:function(l,g){return this._addLayer(l,g,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(l));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):bn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",g=this._container=Rt("div",l),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),nd(g),lg(g);var D=this._section=Rt("section",l+"-list");S&&(this._map.on("click",this.collapse,this),mt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=Rt("a",l+"-toggle",g);q.href="#",q.title="Layers",q.setAttribute("role","button"),mt(q,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){Vn(J),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Rt("div",l+"-base",D),this._separator=Rt("div",l+"-separator",D),this._overlaysList=Rt("div",l+"-overlays",D),g.appendChild(D)},_getLayer:function(l){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===l)return this._layers[g]},_addLayer:function(l,g,S){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(D,q){return this.options.sortFunction(D.layer,q.layer,D.name,q.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ch(this._baseLayersList),ch(this._overlaysList),this._layerControlInputs=[];var l,g,S,D,q=0;for(S=0;S<this._layers.length;S++)D=this._layers[S],this._addItem(D),g=g||D.overlay,l=l||!D.overlay,q+=D.overlay?0:1;return this.options.hideSingleBase&&(l=l&&q>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=g&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var g=this._getLayer(d(l.target)),S=g.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(l,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(g?' checked="checked"':"")+"/>",D=document.createElement("div");return D.innerHTML=S,D.firstChild},_addItem:function(l){var g=document.createElement("label"),S=this._map.hasLayer(l.layer),D;l.overlay?(D=document.createElement("input"),D.type="checkbox",D.className="leaflet-control-layers-selector",D.defaultChecked=S):D=this._createRadioElement("leaflet-base-layers_"+d(this),S),this._layerControlInputs.push(D),D.layerId=d(l.layer),mt(D,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+l.name;var J=document.createElement("span");g.appendChild(J),J.appendChild(D),J.appendChild(q);var ce=l.overlay?this._overlaysList:this._baseLayersList;return ce.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,g,S,D=[],q=[];this._handlingClick=!0;for(var J=l.length-1;J>=0;J--)g=l[J],S=this._getLayer(g.layerId).layer,g.checked?D.push(S):g.checked||q.push(S);for(J=0;J<q.length;J++)this._map.hasLayer(q[J])&&this._map.removeLayer(q[J]);for(J=0;J<D.length;J++)this._map.hasLayer(D[J])||this._map.addLayer(D[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,g,S,D=this._map.getZoom(),q=l.length-1;q>=0;q--)g=l[q],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&D<S.options.minZoom||S.options.maxZoom!==void 0&&D>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,mt(l,"click",Vn),this.expand();var g=this;setTimeout(function(){Ht(l,"click",Vn),g._preventClick=!1})}}),n5=function(l,g,S){return new oj(l,g,S)},dg=gr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var g="leaflet-control-zoom",S=Rt("div",g+" leaflet-bar"),D=this.options;return this._zoomInButton=this._createButton(D.zoomInText,D.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(D.zoomOutText,D.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,g,S,D,q){var J=Rt("a",S,D);return J.innerHTML=l,J.href="#",J.title=g,J.setAttribute("role","button"),J.setAttribute("aria-label",g),nd(J),mt(J,"click",co),mt(J,"click",q,this),mt(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var l=this._map,g="leaflet-disabled";bn(this._zoomInButton,g),bn(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(yt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(yt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pt.mergeOptions({zoomControl:!0}),Pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new dg,this.addControl(this.zoomControl))});var s5=function(l){return new dg(l)},lj=gr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var g="leaflet-control-scale",S=Rt("div",g),D=this.options;return this._addScales(D,g+"-line",S),l.on(D.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),S},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,g,S){l.metric&&(this._mScale=Rt("div",g,S)),l.imperial&&(this._iScale=Rt("div",g,S))},_update:function(){var l=this._map,g=l.getSize().y/2,S=l.distance(l.containerPointToLatLng([0,g]),l.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var g=this._getRoundNum(l),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/l)},_updateImperial:function(l){var g=l*3.2808399,S,D,q;g>5280?(S=g/5280,D=this._getRoundNum(S),this._updateScale(this._iScale,D+" mi",D/S)):(q=this._getRoundNum(g),this._updateScale(this._iScale,q+" ft",q/g))},_updateScale:function(l,g,S){l.style.width=Math.round(this.options.maxWidth*S)+"px",l.innerHTML=g},_getRoundNum:function(l){var g=Math.pow(10,(Math.floor(l)+"").length-1),S=l/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),r5=function(l){return new lj(l)},i5='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ug=gr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?i5+" ":"")+"Leaflet</a>"},initialize:function(l){v(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),nd(this._container);for(var g in l._layers)l._layers[g].getAttribution&&this.addAttribution(l._layers[g].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var g in this._attributions)this._attributions[g]&&l.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),l.length&&S.push(l.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Pt.mergeOptions({attributionControl:!0}),Pt.addInitHook(function(){this.options.attributionControl&&new ug().addTo(this)});var a5=function(l){return new ug(l)};gr.Layers=oj,gr.Zoom=dg,gr.Scale=lj,gr.Attribution=ug,sd.layers=n5,sd.zoom=s5,sd.scale=r5,sd.attribution=a5;var Gr=O.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Gr.addTo=function(l,g){return l.addHandler(g,this),this};var o5={Events:G},cj=tt.touch?"touchstart mousedown":"mousedown",oa=Y.extend({options:{clickTolerance:3},initialize:function(l,g,S,D){v(this,D),this._element=l,this._dragStartTarget=g||l,this._preventOutline=S},enable:function(){this._enabled||(mt(this._dragStartTarget,cj,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oa._dragging===this&&this.finishDrag(!0),Ht(this._dragStartTarget,cj,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Xp(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){oa._dragging===this&&this.finishDrag();return}if(!(oa._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(oa._dragging=this,this._preventOutline&&sg(this._element),eg(),Jc(),!this._moving)){this.fire("down");var g=l.touches?l.touches[0]:l,S=tj(this._element);this._startPoint=new K(g.clientX,g.clientY),this._startPos=oo(this._element),this._parentScale=rg(S);var D=l.type==="mousedown";mt(document,D?"mousemove":"touchmove",this._onMove,this),mt(document,D?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var g=l.touches&&l.touches.length===1?l.touches[0]:l,S=new K(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Vn(l),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Pn(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){bn(document.body,"leaflet-dragging"),this._lastTarget&&(bn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ht(document,"mousemove touchmove",this._onMove,this),Ht(document,"mouseup touchend touchcancel",this._onUp,this),tg(),ed();var g=this._moved&&this._moving;this._moving=!1,oa._dragging=!1,g&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function dj(l,g,S){var D,q=[1,4,2,8],J,ce,pe,ye,Ee,qe,it,Nt;for(J=0,qe=l.length;J<qe;J++)l[J]._code=uo(l[J],g);for(pe=0;pe<4;pe++){for(it=q[pe],D=[],J=0,qe=l.length,ce=qe-1;J<qe;ce=J++)ye=l[J],Ee=l[ce],ye._code&it?Ee._code&it||(Nt=mh(Ee,ye,it,g,S),Nt._code=uo(Nt,g),D.push(Nt)):(Ee._code&it&&(Nt=mh(Ee,ye,it,g,S),Nt._code=uo(Nt,g),D.push(Nt)),D.push(ye));l=D}return l}function uj(l,g){var S,D,q,J,ce,pe,ye,Ee,qe;if(!l||l.length===0)throw new Error("latlngs not passed");Ys(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var it=V([0,0]),Nt=W(l),ds=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());ds<1700&&(it=hg(l));var Fn=l.length,Xs=[];for(S=0;S<Fn;S++){var ks=V(l[S]);Xs.push(g.project(V([ks.lat-it.lat,ks.lng-it.lng])))}for(pe=ye=Ee=0,S=0,D=Fn-1;S<Fn;D=S++)q=Xs[S],J=Xs[D],ce=q.y*J.x-J.y*q.x,ye+=(q.x+J.x)*ce,Ee+=(q.y+J.y)*ce,pe+=ce*3;pe===0?qe=Xs[0]:qe=[ye/pe,Ee/pe];var ul=g.unproject(B(qe));return V([ul.lat+it.lat,ul.lng+it.lng])}function hg(l){for(var g=0,S=0,D=0,q=0;q<l.length;q++){var J=V(l[q]);g+=J.lat,S+=J.lng,D++}return V([g/D,S/D])}var l5={__proto__:null,clipPolygon:dj,polygonCenter:uj,centroid:hg};function hj(l,g){if(!g||!l.length)return l.slice();var S=g*g;return l=u5(l,S),l=d5(l,S),l}function fj(l,g,S){return Math.sqrt(rd(l,g,S,!0))}function c5(l,g,S){return rd(l,g,S)}function d5(l,g){var S=l.length,D=typeof Uint8Array<"u"?Uint8Array:Array,q=new D(S);q[0]=q[S-1]=1,fg(l,q,g,0,S-1);var J,ce=[];for(J=0;J<S;J++)q[J]&&ce.push(l[J]);return ce}function fg(l,g,S,D,q){var J=0,ce,pe,ye;for(pe=D+1;pe<=q-1;pe++)ye=rd(l[pe],l[D],l[q],!0),ye>J&&(ce=pe,J=ye);J>S&&(g[ce]=1,fg(l,g,S,D,ce),fg(l,g,S,ce,q))}function u5(l,g){for(var S=[l[0]],D=1,q=0,J=l.length;D<J;D++)h5(l[D],l[q])>g&&(S.push(l[D]),q=D);return q<J-1&&S.push(l[J-1]),S}var mj;function pj(l,g,S,D,q){var J=D?mj:uo(l,S),ce=uo(g,S),pe,ye,Ee;for(mj=ce;;){if(!(J|ce))return[l,g];if(J&ce)return!1;pe=J||ce,ye=mh(l,g,pe,S,q),Ee=uo(ye,S),pe===J?(l=ye,J=Ee):(g=ye,ce=Ee)}}function mh(l,g,S,D,q){var J=g.x-l.x,ce=g.y-l.y,pe=D.min,ye=D.max,Ee,qe;return S&8?(Ee=l.x+J*(ye.y-l.y)/ce,qe=ye.y):S&4?(Ee=l.x+J*(pe.y-l.y)/ce,qe=pe.y):S&2?(Ee=ye.x,qe=l.y+ce*(ye.x-l.x)/J):S&1&&(Ee=pe.x,qe=l.y+ce*(pe.x-l.x)/J),new K(Ee,qe,q)}function uo(l,g){var S=0;return l.x<g.min.x?S|=1:l.x>g.max.x&&(S|=2),l.y<g.min.y?S|=4:l.y>g.max.y&&(S|=8),S}function h5(l,g){var S=g.x-l.x,D=g.y-l.y;return S*S+D*D}function rd(l,g,S,D){var q=g.x,J=g.y,ce=S.x-q,pe=S.y-J,ye=ce*ce+pe*pe,Ee;return ye>0&&(Ee=((l.x-q)*ce+(l.y-J)*pe)/ye,Ee>1?(q=S.x,J=S.y):Ee>0&&(q+=ce*Ee,J+=pe*Ee)),ce=l.x-q,pe=l.y-J,D?ce*ce+pe*pe:new K(q,J)}function Ys(l){return!_(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function gj(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ys(l)}function vj(l,g){var S,D,q,J,ce,pe,ye,Ee;if(!l||l.length===0)throw new Error("latlngs not passed");Ys(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var qe=V([0,0]),it=W(l),Nt=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Nt<1700&&(qe=hg(l));var ds=l.length,Fn=[];for(S=0;S<ds;S++){var Xs=V(l[S]);Fn.push(g.project(V([Xs.lat-qe.lat,Xs.lng-qe.lng])))}for(S=0,D=0;S<ds-1;S++)D+=Fn[S].distanceTo(Fn[S+1])/2;if(D===0)Ee=Fn[0];else for(S=0,J=0;S<ds-1;S++)if(ce=Fn[S],pe=Fn[S+1],q=ce.distanceTo(pe),J+=q,J>D){ye=(J-D)/q,Ee=[pe.x-ye*(pe.x-ce.x),pe.y-ye*(pe.y-ce.y)];break}var ks=g.unproject(B(Ee));return V([ks.lat+qe.lat,ks.lng+qe.lng])}var f5={__proto__:null,simplify:hj,pointToSegmentDistance:fj,closestPointOnSegment:c5,clipSegment:pj,_getEdgeIntersection:mh,_getBitCode:uo,_sqClosestPointOnSegment:rd,isFlat:Ys,_flat:gj,polylineCenter:vj},mg={project:function(l){return new K(l.lng,l.lat)},unproject:function(l){return new X(l.y,l.x)},bounds:new M([-180,-90],[180,90])},pg={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var g=Math.PI/180,S=this.R,D=l.lat*g,q=this.R_MINOR/S,J=Math.sqrt(1-q*q),ce=J*Math.sin(D),pe=Math.tan(Math.PI/4-D/2)/Math.pow((1-ce)/(1+ce),J/2);return D=-S*Math.log(Math.max(pe,1e-10)),new K(l.lng*g*S,D)},unproject:function(l){for(var g=180/Math.PI,S=this.R,D=this.R_MINOR/S,q=Math.sqrt(1-D*D),J=Math.exp(-l.y/S),ce=Math.PI/2-2*Math.atan(J),pe=0,ye=.1,Ee;pe<15&&Math.abs(ye)>1e-7;pe++)Ee=q*Math.sin(ce),Ee=Math.pow((1-Ee)/(1+Ee),q/2),ye=Math.PI/2-2*Math.atan(J*Ee)-ce,ce+=ye;return new X(ce*g,l.x*g/S)}},m5={__proto__:null,LonLat:mg,Mercator:pg,SphericalMercator:ie},p5=i({},se,{code:"EPSG:3395",projection:pg,transformation:function(){var l=.5/(Math.PI*pg.R);return te(l,.5,-l,.5)}()}),xj=i({},se,{code:"EPSG:4326",projection:mg,transformation:te(1/180,1,-1/180,.5)}),g5=i({},H,{projection:mg,transformation:te(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,g){var S=g.lng-l.lng,D=g.lat-l.lat;return Math.sqrt(S*S+D*D)},infinite:!0});H.Earth=se,H.EPSG3395=p5,H.EPSG3857=ve,H.EPSG900913=Ce,H.EPSG4326=xj,H.Simple=g5;var vr=Y.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[d(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[d(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var g=l.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Pt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(l);return this._layers[g]?this:(this._layers[g]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var g=d(l);return this._layers[g]?(this._loaded&&l.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return d(l)in this._layers},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},_addLayers:function(l){l=l?_(l)?l:[l]:[];for(var g=0,S=l.length;g<S;g++)this.addLayer(l[g])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[d(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var g=d(l);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,g=-1/0,S=this._getZoomSpan();for(var D in this._zoomBoundLayers){var q=this._zoomBoundLayers[D].options;l=q.minZoom===void 0?l:Math.min(l,q.minZoom),g=q.maxZoom===void 0?g:Math.max(g,q.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=l===1/0?void 0:l,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var al=vr.extend({initialize:function(l,g){v(this,g),this._layers={};var S,D;if(l)for(S=0,D=l.length;S<D;S++)this.addLayer(l[S])},addLayer:function(l){var g=this.getLayerId(l);return this._layers[g]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var g=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(l){var g=typeof l=="number"?l:this.getLayerId(l);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var g=Array.prototype.slice.call(arguments,1),S,D;for(S in this._layers)D=this._layers[S],D[l]&&D[l].apply(D,g);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,g){for(var S in this._layers)l.call(g,this._layers[S]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return d(l)}}),v5=function(l,g){return new al(l,g)},Ci=al.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),al.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),al.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new Z;for(var g in this._layers){var S=this._layers[g];l.extend(S.getBounds?S.getBounds():S.getLatLng())}return l}}),x5=function(l,g){return new Ci(l,g)},ol=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){v(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,g){var S=this._getIconUrl(l);if(!S){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var D=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(D,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(D.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),D},_setIconStyles:function(l,g){var S=this.options,D=S[g+"Size"];typeof D=="number"&&(D=[D,D]);var q=B(D),J=B(g==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));l.className="leaflet-marker-"+g+" "+(S.className||""),J&&(l.style.marginLeft=-J.x+"px",l.style.marginTop=-J.y+"px"),q&&(l.style.width=q.x+"px",l.style.height=q.y+"px")},_createImg:function(l,g){return g=g||document.createElement("img"),g.src=l,g},_getIconUrl:function(l){return tt.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function y5(l){return new ol(l)}var id=ol.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof id.imagePath!="string"&&(id.imagePath=this._detectIconPath()),(this.options.imagePath||id.imagePath)+ol.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var g=function(S,D,q){var J=D.exec(S);return J&&J[q]};return l=g(l,/^url\((['"])?(.+)\1\)$/,2),l&&g(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Rt("div","leaflet-default-icon-path",document.body),g=Qc(l,"background-image")||Qc(l,"backgroundImage");if(document.body.removeChild(l),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),yj=Gr.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new oa(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var g=this._marker,S=g._map,D=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,J=oo(g._icon),ce=S.getPixelBounds(),pe=S.getPixelOrigin(),ye=z(ce.min._subtract(pe).add(q),ce.max._subtract(pe).subtract(q));if(!ye.contains(J)){var Ee=B((Math.max(ye.max.x,J.x)-ye.max.x)/(ce.max.x-ye.max.x)-(Math.min(ye.min.x,J.x)-ye.min.x)/(ce.min.x-ye.min.x),(Math.max(ye.max.y,J.y)-ye.max.y)/(ce.max.y-ye.max.y)-(Math.min(ye.min.y,J.y)-ye.min.y)/(ce.min.y-ye.min.y)).multiplyBy(D);S.panBy(Ee,{animate:!1}),this._draggable._newPos._add(Ee),this._draggable._startPos._add(Ee),Pn(g._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=T(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(A(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,l)))},_onDrag:function(l){var g=this._marker,S=g._shadow,D=oo(g._icon),q=g._map.layerPointToLatLng(D);S&&Pn(S,D),g._latlng=q,l.latlng=q,l.oldLatLng=this._oldLatLng,g.fire("move",l).fire("drag",l)},_onDragEnd:function(l){A(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),ph=vr.extend({options:{icon:new id,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,g){v(this,g),this._latlng=V(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var g=this._latlng;return this._latlng=V(l),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=l.icon.createIcon(this._icon),D=!1;S!==this._icon&&(this._icon&&this._removeIcon(),D=!0,l.title&&(S.title=l.title),S.tagName==="IMG"&&(S.alt=l.alt||"")),yt(S,g),l.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(S,"focus",this._panOnFocus,this);var q=l.icon.createShadow(this._shadow),J=!1;q!==this._shadow&&(this._removeShadow(),J=!0),q&&(yt(q,g),q.alt=""),this._shadow=q,l.opacity<1&&this._updateOpacity(),D&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&J&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ht(this._icon,"focus",this._panOnFocus,this),rn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&rn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Pn(this._icon,l),this._shadow&&Pn(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yj)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yj(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&Ks(this._icon,l),this._shadow&&Ks(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var g=this.options.icon.options,S=g.iconSize?B(g.iconSize):B(0,0),D=g.iconAnchor?B(g.iconAnchor):B(0,0);l.panInside(this._latlng,{paddingTopLeft:D,paddingBottomRight:S.subtract(D)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function b5(l,g){return new ph(l,g)}var la=vr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return v(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),gh=la.extend({options:{fill:!0,radius:10},initialize:function(l,g){v(this,g),this._latlng=V(l),this._radius=this.options.radius},setLatLng:function(l){var g=this._latlng;return this._latlng=V(l),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var g=l&&l.radius||this._radius;return la.prototype.setStyle.call(this,l),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,g=this._radiusY||l,S=this._clickTolerance(),D=[l+S,g+S];this._pxBounds=new M(this._point.subtract(D),this._point.add(D))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function w5(l,g){return new gh(l,g)}var gg=gh.extend({initialize:function(l,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),v(this,g),this._latlng=V(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new Z(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:la.prototype.setStyle,_project:function(){var l=this._latlng.lng,g=this._latlng.lat,S=this._map,D=S.options.crs;if(D.distance===se.distance){var q=Math.PI/180,J=this._mRadius/se.R/q,ce=S.project([g+J,l]),pe=S.project([g-J,l]),ye=ce.add(pe).divideBy(2),Ee=S.unproject(ye).lat,qe=Math.acos((Math.cos(J*q)-Math.sin(g*q)*Math.sin(Ee*q))/(Math.cos(g*q)*Math.cos(Ee*q)))/q;(isNaN(qe)||qe===0)&&(qe=J/Math.cos(Math.PI/180*g)),this._point=ye.subtract(S.getPixelOrigin()),this._radius=isNaN(qe)?0:ye.x-S.project([Ee,l-qe]).x,this._radiusY=ye.y-ce.y}else{var it=D.unproject(D.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(it).x}this._updateBounds()}});function j5(l,g,S){return new gg(l,g,S)}var Ei=la.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,g){v(this,g),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var g=1/0,S=null,D=rd,q,J,ce=0,pe=this._parts.length;ce<pe;ce++)for(var ye=this._parts[ce],Ee=1,qe=ye.length;Ee<qe;Ee++){q=ye[Ee-1],J=ye[Ee];var it=D(l,q,J,!0);it<g&&(g=it,S=D(l,q,J))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vj(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,g){return g=g||this._defaultShape(),l=V(l),g.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new Z,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Ys(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var g=[],S=Ys(l),D=0,q=l.length;D<q;D++)S?(g[D]=V(l[D]),this._bounds.extend(g[D])):g[D]=this._convertLatLngs(l[D]);return g},_project:function(){var l=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),g=new K(l,l);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(l,g,S){var D=l[0]instanceof X,q=l.length,J,ce;if(D){for(ce=[],J=0;J<q;J++)ce[J]=this._map.latLngToLayerPoint(l[J]),S.extend(ce[J]);g.push(ce)}else for(J=0;J<q;J++)this._projectLatlngs(l[J],g,S)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,D,q,J,ce,pe,ye;for(S=0,q=0,J=this._rings.length;S<J;S++)for(ye=this._rings[S],D=0,ce=ye.length;D<ce-1;D++)pe=pj(ye[D],ye[D+1],l,D,!0),pe&&(g[q]=g[q]||[],g[q].push(pe[0]),(pe[1]!==ye[D+1]||D===ce-2)&&(g[q].push(pe[1]),q++))}},_simplifyPoints:function(){for(var l=this._parts,g=this.options.smoothFactor,S=0,D=l.length;S<D;S++)l[S]=hj(l[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,g){var S,D,q,J,ce,pe,ye=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(S=0,J=this._parts.length;S<J;S++)for(pe=this._parts[S],D=0,ce=pe.length,q=ce-1;D<ce;q=D++)if(!(!g&&D===0)&&fj(l,pe[q],pe[D])<=ye)return!0;return!1}});function _5(l,g){return new Ei(l,g)}Ei._flat=gj;var ll=Ei.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return uj(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var g=Ei.prototype._convertLatLngs.call(this,l),S=g.length;return S>=2&&g[0]instanceof X&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(l){Ei.prototype._setLatLngs.call(this,l),Ys(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ys(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,g=this.options.weight,S=new K(g,g);if(l=new M(l.min.subtract(S),l.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var D=0,q=this._rings.length,J;D<q;D++)J=dj(this._rings[D],l,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var g=!1,S,D,q,J,ce,pe,ye,Ee;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(J=0,ye=this._parts.length;J<ye;J++)for(S=this._parts[J],ce=0,Ee=S.length,pe=Ee-1;ce<Ee;pe=ce++)D=S[ce],q=S[pe],D.y>l.y!=q.y>l.y&&l.x<(q.x-D.x)*(l.y-D.y)/(q.y-D.y)+D.x&&(g=!g);return g||Ei.prototype._containsPoint.call(this,l,!0)}});function N5(l,g){return new ll(l,g)}var Pi=Ci.extend({initialize:function(l,g){v(this,g),this._layers={},l&&this.addData(l)},addData:function(l){var g=_(l)?l:l.features,S,D,q;if(g){for(S=0,D=g.length;S<D;S++)q=g[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var J=this.options;if(J.filter&&!J.filter(l))return this;var ce=vh(l,J);return ce?(ce.feature=bh(l),ce.defaultOptions=ce.options,this.resetStyle(ce),J.onEachFeature&&J.onEachFeature(l,ce),this.addLayer(ce)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(g){this._setLayerStyle(g,l)},this)},_setLayerStyle:function(l,g){l.setStyle&&(typeof g=="function"&&(g=g(l.feature)),l.setStyle(g))}});function vh(l,g){var S=l.type==="Feature"?l.geometry:l,D=S?S.coordinates:null,q=[],J=g&&g.pointToLayer,ce=g&&g.coordsToLatLng||vg,pe,ye,Ee,qe;if(!D&&!S)return null;switch(S.type){case"Point":return pe=ce(D),bj(J,l,pe,g);case"MultiPoint":for(Ee=0,qe=D.length;Ee<qe;Ee++)pe=ce(D[Ee]),q.push(bj(J,l,pe,g));return new Ci(q);case"LineString":case"MultiLineString":return ye=xh(D,S.type==="LineString"?0:1,ce),new Ei(ye,g);case"Polygon":case"MultiPolygon":return ye=xh(D,S.type==="Polygon"?1:2,ce),new ll(ye,g);case"GeometryCollection":for(Ee=0,qe=S.geometries.length;Ee<qe;Ee++){var it=vh({geometry:S.geometries[Ee],type:"Feature",properties:l.properties},g);it&&q.push(it)}return new Ci(q);case"FeatureCollection":for(Ee=0,qe=S.features.length;Ee<qe;Ee++){var Nt=vh(S.features[Ee],g);Nt&&q.push(Nt)}return new Ci(q);default:throw new Error("Invalid GeoJSON object.")}}function bj(l,g,S,D){return l?l(g,S):new ph(S,D&&D.markersInheritOptions&&D)}function vg(l){return new X(l[1],l[0],l[2])}function xh(l,g,S){for(var D=[],q=0,J=l.length,ce;q<J;q++)ce=g?xh(l[q],g-1,S):(S||vg)(l[q]),D.push(ce);return D}function xg(l,g){return l=V(l),l.alt!==void 0?[u(l.lng,g),u(l.lat,g),u(l.alt,g)]:[u(l.lng,g),u(l.lat,g)]}function yh(l,g,S,D){for(var q=[],J=0,ce=l.length;J<ce;J++)q.push(g?yh(l[J],Ys(l[J])?0:g-1,S,D):xg(l[J],D));return!g&&S&&q.length>0&&q.push(q[0].slice()),q}function cl(l,g){return l.feature?i({},l.feature,{geometry:g}):bh(g)}function bh(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var yg={toGeoJSON:function(l){return cl(this,{type:"Point",coordinates:xg(this.getLatLng(),l)})}};ph.include(yg),gg.include(yg),gh.include(yg),Ei.include({toGeoJSON:function(l){var g=!Ys(this._latlngs),S=yh(this._latlngs,g?1:0,!1,l);return cl(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),ll.include({toGeoJSON:function(l){var g=!Ys(this._latlngs),S=g&&!Ys(this._latlngs[0]),D=yh(this._latlngs,S?2:g?1:0,!0,l);return g||(D=[D]),cl(this,{type:(S?"Multi":"")+"Polygon",coordinates:D})}}),al.include({toMultiPoint:function(l){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(l).geometry.coordinates)}),cl(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(l){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(l);var S=g==="GeometryCollection",D=[];return this.eachLayer(function(q){if(q.toGeoJSON){var J=q.toGeoJSON(l);if(S)D.push(J.geometry);else{var ce=bh(J);ce.type==="FeatureCollection"?D.push.apply(D,ce.features):D.push(ce)}}}),S?cl(this,{geometries:D,type:"GeometryCollection"}):{type:"FeatureCollection",features:D}}});function wj(l,g){return new Pi(l,g)}var S5=wj,wh=vr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,g,S){this._url=l,this._bounds=W(g),v(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){rn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&rl(this._image),this},bringToBack:function(){return this._map&&il(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=W(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",g=this._image=l?this._url:Rt("img");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(l){var g=this._map.getZoomScale(l.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;ao(this._image,S,g)},_reset:function(){var l=this._image,g=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();Pn(l,g.min),l.style.width=S.x+"px",l.style.height=S.y+"px"},_updateOpacity:function(){Ks(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),k5=function(l,g,S){return new wh(l,g,S)},jj=wh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",g=this._image=l?this._url:Rt("video");if(yt(g,"leaflet-image-layer"),this._zoomAnimated&&yt(g,"leaflet-zoom-animated"),this.options.className&&yt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onloadeddata=o(this.fire,this,"load"),l){for(var S=g.getElementsByTagName("source"),D=[],q=0;q<S.length;q++)D.push(S[q].src);this._url=S.length>0?D:[g.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var ce=Rt("source");ce.src=this._url[J],g.appendChild(ce)}}});function C5(l,g,S){return new jj(l,g,S)}var _j=wh.extend({_initImage:function(){var l=this._image=this._url;yt(l,"leaflet-image-layer"),this._zoomAnimated&&yt(l,"leaflet-zoom-animated"),this.options.className&&yt(l,this.options.className),l.onselectstart=m,l.onmousemove=m}});function E5(l,g,S){return new _j(l,g,S)}var Kr=vr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,g){l&&(l instanceof X||_(l))?(this._latlng=V(l),v(this,g)):(v(this,l),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&Ks(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&Ks(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(Ks(this._container,0),this._removeTimeout=setTimeout(o(rn,void 0,this._container),200)):rn(this._container),this.options.interactive&&(bn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=V(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rl(this._container),this},bringToBack:function(){return this._map&&il(this._container),this},_prepareOpen:function(l){var g=this._source;if(!g._map)return!1;if(g instanceof Ci){g=null;var S=this._source._layers;for(var D in S)if(S[D]._map){g=S[D];break}if(!g)return!1;this._source=g}if(!l)if(g.getCenter)l=g.getCenter();else if(g.getLatLng)l=g.getLatLng();else if(g.getBounds)l=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")l.innerHTML=g;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),g=B(this.options.offset),S=this._getAnchor();this._zoomAnimated?Pn(this._container,l.add(S)):g=g.add(l).add(S);var D=this._containerBottom=-g.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=D+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Pt.include({_initOverlay:function(l,g,S,D){var q=g;return q instanceof l||(q=new l(D).setContent(g)),S&&q.setLatLng(S),q}}),vr.include({_initOverlay:function(l,g,S,D){var q=S;return q instanceof l?(v(q,D),q._source=this):(q=g&&!D?g:new l(D,this),q.setContent(S)),q}});var jh=Kr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Kr.prototype.openOn.call(this,l)},onAdd:function(l){Kr.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof la||this._source.on("preclick",lo))},onRemove:function(l){Kr.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof la||this._source.off("preclick",lo))},getEvents:function(){var l=Kr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",g=this._container=Rt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Rt("div",l+"-content-wrapper",g);if(this._contentNode=Rt("div",l+"-content",S),nd(g),lg(this._contentNode),mt(g,"contextmenu",lo),this._tipContainer=Rt("div",l+"-tip-container",g),this._tip=Rt("div",l+"-tip",this._tipContainer),this.options.closeButton){var D=this._closeButton=Rt("a",l+"-close-button",g);D.setAttribute("role","button"),D.setAttribute("aria-label","Close popup"),D.href="#close",D.innerHTML='<span aria-hidden="true">&#215;</span>',mt(D,"click",function(q){Vn(q),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,g=l.style;g.width="",g.whiteSpace="nowrap";var S=l.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var D=l.offsetHeight,q=this.options.maxHeight,J="leaflet-popup-scrolled";q&&D>q?(g.height=q+"px",yt(l,J)):bn(l,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),S=this._getAnchor();Pn(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,g=parseInt(Qc(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,D=this._containerWidth,q=new K(this._containerLeft,-S-this._containerBottom);q._add(oo(this._container));var J=l.layerPointToContainerPoint(q),ce=B(this.options.autoPanPadding),pe=B(this.options.autoPanPaddingTopLeft||ce),ye=B(this.options.autoPanPaddingBottomRight||ce),Ee=l.getSize(),qe=0,it=0;J.x+D+ye.x>Ee.x&&(qe=J.x+D-Ee.x+ye.x),J.x-qe-pe.x<0&&(qe=J.x-pe.x),J.y+S+ye.y>Ee.y&&(it=J.y+S-Ee.y+ye.y),J.y-it-pe.y<0&&(it=J.y-pe.y),(qe||it)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([qe,it]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),P5=function(l,g){return new jh(l,g)};Pt.mergeOptions({closePopupOnClick:!0}),Pt.include({openPopup:function(l,g,S){return this._initOverlay(jh,l,g,S).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),vr.include({bindPopup:function(l,g){return this._popup=this._initOverlay(jh,this._popup,l,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Ci||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){co(l);var g=l.layer||l.target;if(this._popup._source===g&&!(g instanceof la)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=g,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var _h=Kr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Kr.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Kr.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Kr.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",g=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var g,S,D=this._map,q=this._container,J=D.latLngToContainerPoint(D.getCenter()),ce=D.layerPointToContainerPoint(l),pe=this.options.direction,ye=q.offsetWidth,Ee=q.offsetHeight,qe=B(this.options.offset),it=this._getAnchor();pe==="top"?(g=ye/2,S=Ee):pe==="bottom"?(g=ye/2,S=0):pe==="center"?(g=ye/2,S=Ee/2):pe==="right"?(g=0,S=Ee/2):pe==="left"?(g=ye,S=Ee/2):ce.x<J.x?(pe="right",g=0,S=Ee/2):(pe="left",g=ye+(qe.x+it.x)*2,S=Ee/2),l=l.subtract(B(g,S,!0)).add(qe).add(it),bn(q,"leaflet-tooltip-right"),bn(q,"leaflet-tooltip-left"),bn(q,"leaflet-tooltip-top"),bn(q,"leaflet-tooltip-bottom"),yt(q,"leaflet-tooltip-"+pe),Pn(q,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&Ks(this._container,l)},_animateZoom:function(l){var g=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(g)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),T5=function(l,g){return new _h(l,g)};Pt.include({openTooltip:function(l,g,S){return this._initOverlay(_h,l,g,S).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),vr.include({bindTooltip:function(l,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_h,this._tooltip,l,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var g=l?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Ci||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&(mt(g,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),mt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var g=typeof l.getElement=="function"&&l.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var g=l.latlng,S,D;this._tooltip.options.sticky&&l.originalEvent&&(S=this._map.mouseEventToContainerPoint(l.originalEvent),D=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(D)),this._tooltip.setLatLng(g)}});var Nj=ol.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var g=l&&l.tagName==="DIV"?l:document.createElement("div"),S=this.options;if(S.html instanceof Element?(ch(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var D=B(S.bgPos);g.style.backgroundPosition=-D.x+"px "+-D.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function A5(l){return new Nj(l)}ol.Default=id;var ad=vr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){v(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),rn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(il(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof K?l:new K(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var g=this.getPane().children,S=-l(-1/0,1/0),D=0,q=g.length,J;D<q;D++)J=g[D].style.zIndex,g[D]!==this._container&&J&&(S=l(S,+J));isFinite(S)&&(this.options.zIndex=S+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){Ks(this._container,this.options.opacity);var l=+new Date,g=!1,S=!1;for(var D in this._tiles){var q=this._tiles[D];if(!(!q.current||!q.loaded)){var J=Math.min(1,(l-q.loaded)/200);Ks(q.el,J),J<1?g=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,g=this.options.maxZoom;if(l!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===l?(this._levels[S].el.style.zIndex=g-Math.abs(l-S),this._onUpdateLevel(S)):(rn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var D=this._levels[l],q=this._map;return D||(D=this._levels[l]={},D.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),D.el.style.zIndex=g,D.origin=q.project(q.unproject(q.getPixelOrigin()),l).round(),D.zoom=l,this._setZoomTransform(D,q.getCenter(),q.getZoom()),m(D.el.offsetWidth),this._onCreateLevel(D)),this._level=D,D}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var l,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)g=this._tiles[l],g.retain=g.current;for(l in this._tiles)if(g=this._tiles[l],g.current&&!g.active){var D=g.coords;this._retainParent(D.x,D.y,D.z,D.z-5)||this._retainChildren(D.x,D.y,D.z,D.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var g in this._tiles)this._tiles[g].coords.z===l&&this._removeTile(g)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)rn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,g,S,D){var q=Math.floor(l/2),J=Math.floor(g/2),ce=S-1,pe=new K(+q,+J);pe.z=+ce;var ye=this._tileCoordsToKey(pe),Ee=this._tiles[ye];return Ee&&Ee.active?(Ee.retain=!0,!0):(Ee&&Ee.loaded&&(Ee.retain=!0),ce>D?this._retainParent(q,J,ce,D):!1)},_retainChildren:function(l,g,S,D){for(var q=2*l;q<2*l+2;q++)for(var J=2*g;J<2*g+2;J++){var ce=new K(q,J);ce.z=S+1;var pe=this._tileCoordsToKey(ce),ye=this._tiles[pe];if(ye&&ye.active){ye.retain=!0;continue}else ye&&ye.loaded&&(ye.retain=!0);S+1<D&&this._retainChildren(q,J,S+1,D)}},_resetView:function(l){var g=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var g=this.options;return g.minNativeZoom!==void 0&&l<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<l?g.maxNativeZoom:l},_setView:function(l,g,S,D){var q=Math.round(g);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var J=this.options.updateWhenZooming&&q!==this._tileZoom;(!D||J)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(l),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(l,g)},_setZoomTransforms:function(l,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],l,g)},_setZoomTransform:function(l,g,S){var D=this._map.getZoomScale(S,l.zoom),q=l.origin.multiplyBy(D).subtract(this._map._getNewPixelOrigin(g,S)).round();tt.any3d?ao(l.el,q,D):Pn(l.el,q)},_resetGrid:function(){var l=this._map,g=l.options.crs,S=this._tileSize=this.getTileSize(),D=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,g.wrapLng[0]],D).x/S.x),Math.ceil(l.project([0,g.wrapLng[1]],D).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([g.wrapLat[0],0],D).y/S.x),Math.ceil(l.project([g.wrapLat[1],0],D).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),D=g.getZoomScale(S,this._tileZoom),q=g.project(l,this._tileZoom).floor(),J=g.getSize().divideBy(D*2);return new M(q.subtract(J),q.add(J))},_update:function(l){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(l===void 0&&(l=g.getCenter()),this._tileZoom!==void 0){var D=this._getTiledPixelBounds(l),q=this._pxBoundsToTileRange(D),J=q.getCenter(),ce=[],pe=this.options.keepBuffer,ye=new M(q.getBottomLeft().subtract([pe,-pe]),q.getTopRight().add([pe,-pe]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ee in this._tiles){var qe=this._tiles[Ee].coords;(qe.z!==this._tileZoom||!ye.contains(new K(qe.x,qe.y)))&&(this._tiles[Ee].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(l,S);return}for(var it=q.min.y;it<=q.max.y;it++)for(var Nt=q.min.x;Nt<=q.max.x;Nt++){var ds=new K(Nt,it);if(ds.z=this._tileZoom,!!this._isValidTile(ds)){var Fn=this._tiles[this._tileCoordsToKey(ds)];Fn?Fn.current=!0:ce.push(ds)}}if(ce.sort(function(ks,ul){return ks.distanceTo(J)-ul.distanceTo(J)}),ce.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xs=document.createDocumentFragment();for(Nt=0;Nt<ce.length;Nt++)this._addTile(ce[Nt],Xs);this._level.el.appendChild(Xs)}}}},_isValidTile:function(l){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(l.x<S.min.x||l.x>S.max.x)||!g.wrapLat&&(l.y<S.min.y||l.y>S.max.y))return!1}if(!this.options.bounds)return!0;var D=this._tileCoordsToBounds(l);return W(this.options.bounds).overlaps(D)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var g=this._map,S=this.getTileSize(),D=l.scaleBy(S),q=D.add(S),J=g.unproject(D,l.z),ce=g.unproject(q,l.z);return[J,ce]},_tileCoordsToBounds:function(l){var g=this._tileCoordsToNwSe(l),S=new Z(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var g=l.split(":"),S=new K(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(l){var g=this._tiles[l];g&&(rn(g.el),delete this._tiles[l],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){yt(l,"leaflet-tile");var g=this.getTileSize();l.style.width=g.x+"px",l.style.height=g.y+"px",l.onselectstart=m,l.onmousemove=m,tt.ielt9&&this.options.opacity<1&&Ks(l,this.options.opacity)},_addTile:function(l,g){var S=this._getTilePos(l),D=this._tileCoordsToKey(l),q=this.createTile(this._wrapCoords(l),o(this._tileReady,this,l));this._initTile(q),this.createTile.length<2&&T(o(this._tileReady,this,l,null,q)),Pn(q,S),this._tiles[D]={el:q,coords:l,current:!0},g.appendChild(q),this.fire("tileloadstart",{tile:q,coords:l})},_tileReady:function(l,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:l});var D=this._tileCoordsToKey(l);S=this._tiles[D],S&&(S.loaded=+new Date,this._map._fadeAnimated?(Ks(S.el,0),A(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(yt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var g=new K(this._wrapX?f(l.x,this._wrapX):l.x,this._wrapY?f(l.y,this._wrapY):l.y);return g.z=l.z,g},_pxBoundsToTileRange:function(l){var g=this.getTileSize();return new M(l.min.unscaleBy(g).floor(),l.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function O5(l){return new ad(l)}var dl=ad.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,g){this._url=l,g=v(this,g),g.detectRetina&&tt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,g){return this._url===l&&g===void 0&&(g=!0),this._url=l,g||this.redraw(),this},createTile:function(l,g){var S=document.createElement("img");return mt(S,"load",o(this._tileOnLoad,this,g,S)),mt(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(l),S},getTileUrl:function(l){var g={r:tt.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-l.y;this.options.tms&&(g.y=S),g["-y"]=S}return b(this._url,i(g,this.options))},_tileOnLoad:function(l,g){tt.ielt9?setTimeout(o(l,this,null,g),0):l(null,g)},_tileOnError:function(l,g,S){var D=this.options.errorTileUrl;D&&g.getAttribute("src")!==D&&(g.src=D),l(S,g)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,D=this.options.zoomOffset;return S&&(l=g-l),l+D},_getSubdomain:function(l){var g=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var l,g;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(g=this._tiles[l].el,g.onload=m,g.onerror=m,!g.complete)){g.src=C;var S=this._tiles[l].coords;rn(g),delete this._tiles[l],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(l){var g=this._tiles[l];if(g)return g.el.setAttribute("src",C),ad.prototype._removeTile.call(this,l)},_tileReady:function(l,g,S){if(!(!this._map||S&&S.getAttribute("src")===C))return ad.prototype._tileReady.call(this,l,g,S)}});function Sj(l,g){return new dl(l,g)}var kj=dl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,g){this._url=l;var S=i({},this.defaultWmsParams);for(var D in g)D in this.options||(S[D]=g[D]);g=v(this,g);var q=g.detectRetina&&tt.retina?2:1,J=this.getTileSize();S.width=J.x*q,S.height=J.y*q,this.wmsParams=S},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,dl.prototype.onAdd.call(this,l)},getTileUrl:function(l){var g=this._tileCoordsToNwSe(l),S=this._crs,D=z(S.project(g[0]),S.project(g[1])),q=D.min,J=D.max,ce=(this._wmsVersion>=1.3&&this._crs===xj?[q.y,q.x,J.y,J.x]:[q.x,q.y,J.x,J.y]).join(","),pe=dl.prototype.getTileUrl.call(this,l);return pe+w(this.wmsParams,pe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(l,g){return i(this.wmsParams,l),g||this.redraw(),this}});function R5(l,g){return new kj(l,g)}dl.WMS=kj,Sj.wms=R5;var Ti=vr.extend({options:{padding:.1},initialize:function(l){v(this,l),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,g){var S=this._map.getZoomScale(g,this._zoom),D=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,g),J=D.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(l,g));tt.any3d?ao(this._container,J,S):Pn(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-l)).round();this._bounds=new M(S,S.add(g.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Cj=Ti.extend({options:{tolerance:0},getEvents:function(){var l=Ti.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ti.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");mt(l,"mousemove",this._onMouseMove,this),mt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){A(this._redrawRequest),delete this._ctx,rn(this._container),Ht(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var g in this._layers)l=this._layers[g],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var l=this._bounds,g=this._container,S=l.getSize(),D=tt.retina?2:1;Pn(g,l.min),g.width=D*S.x,g.height=D*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){Ti.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[d(l)]=l;var g=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var g=l._order,S=g.next,D=g.prev;S?S.prev=D:this._drawLast=D,D?D.next=S:this._drawFirst=S,delete l._order,delete this._layers[d(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var g=l.options.dashArray.split(/[, ]+/),S=[],D,q;for(q=0;q<g.length;q++){if(D=Number(g[q]),isNaN(D))return;S.push(D)}l.options._dashArray=S}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var g=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(l._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(l._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var g=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var D=this._drawFirst;D;D=D.next)l=D.layer,(!g||l._pxBounds&&l._pxBounds.intersects(g))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,g){if(this._drawing){var S,D,q,J,ce=l._parts,pe=ce.length,ye=this._ctx;if(pe){for(ye.beginPath(),S=0;S<pe;S++){for(D=0,q=ce[S].length;D<q;D++)J=ce[S][D],ye[D?"lineTo":"moveTo"](J.x,J.y);g&&ye.closePath()}this._fillStroke(ye,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var g=l._point,S=this._ctx,D=Math.max(Math.round(l._radius),1),q=(Math.max(Math.round(l._radiusY),1)||D)/D;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(g.x,g.y/q,D,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,l)}},_fillStroke:function(l,g){var S=g.options;S.fill&&(l.globalAlpha=S.fillOpacity,l.fillStyle=S.fillColor||S.color,l.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(l.setLineDash&&l.setLineDash(g.options&&g.options._dashArray||[]),l.globalAlpha=S.opacity,l.lineWidth=S.weight,l.strokeStyle=S.color,l.lineCap=S.lineCap,l.lineJoin=S.lineJoin,l.stroke())},_onClick:function(l){for(var g=this._map.mouseEventToLayerPoint(l),S,D,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(S))&&(D=S);this._fireEvent(D?[D]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,g)}},_handleMouseOut:function(l){var g=this._hoveredLayer;g&&(bn(this._container,"leaflet-interactive"),this._fireEvent([g],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,g){if(!this._mouseHoverThrottled){for(var S,D,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(D=S);D!==this._hoveredLayer&&(this._handleMouseOut(l),D&&(yt(this._container,"leaflet-interactive"),this._fireEvent([D],l,"mouseover"),this._hoveredLayer=D)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,g,S){this._map._fireDOMEvent(g,S||g.type,l)},_bringToFront:function(l){var g=l._order;if(g){var S=g.next,D=g.prev;if(S)S.prev=D;else return;D?D.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(l)}},_bringToBack:function(l){var g=l._order;if(g){var S=g.next,D=g.prev;if(D)D.next=S;else return;S?S.prev=D:D&&(this._drawLast=D),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(l)}}});function Ej(l){return tt.canvas?new Cj(l):null}var od=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),L5={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ti.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var g=l._container=od("shape");yt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",l._path=od("path"),g.appendChild(l._path),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){var g=l._container;this._container.appendChild(g),l.options.interactive&&l.addInteractiveTarget(g)},_removePath:function(l){var g=l._container;rn(g),l.removeInteractiveTarget(g),delete this._layers[d(l)]},_updateStyle:function(l){var g=l._stroke,S=l._fill,D=l.options,q=l._container;q.stroked=!!D.stroke,q.filled=!!D.fill,D.stroke?(g||(g=l._stroke=od("stroke")),q.appendChild(g),g.weight=D.weight+"px",g.color=D.color,g.opacity=D.opacity,D.dashArray?g.dashStyle=_(D.dashArray)?D.dashArray.join(" "):D.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=D.lineCap.replace("butt","flat"),g.joinstyle=D.lineJoin):g&&(q.removeChild(g),l._stroke=null),D.fill?(S||(S=l._fill=od("fill")),q.appendChild(S),S.color=D.fillColor||D.color,S.opacity=D.fillOpacity):S&&(q.removeChild(S),l._fill=null)},_updateCircle:function(l){var g=l._point.round(),S=Math.round(l._radius),D=Math.round(l._radiusY||S);this._setPath(l,l._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+D+" 0,"+65535*360)},_setPath:function(l,g){l._path.v=g},_bringToFront:function(l){rl(l._container)},_bringToBack:function(l){il(l._container)}},Nh=tt.vml?od:he,ld=Ti.extend({_initContainer:function(){this._container=Nh("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nh("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){rn(this._container),Ht(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ti.prototype._update.call(this);var l=this._bounds,g=l.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),Pn(S,l.min),S.setAttribute("viewBox",[l.min.x,l.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(l){var g=l._path=Nh("path");l.options.className&&yt(g,l.options.className),l.options.interactive&&yt(g,"leaflet-interactive"),this._updateStyle(l),this._layers[d(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){rn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[d(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var g=l._path,S=l.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(l,g){this._setPath(l,je(l._parts,g))},_updateCircle:function(l){var g=l._point,S=Math.max(Math.round(l._radius),1),D=Math.max(Math.round(l._radiusY),1)||S,q="a"+S+","+D+" 0 1,0 ",J=l._empty()?"M0 0":"M"+(g.x-S)+","+g.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(l,J)},_setPath:function(l,g){l._path.setAttribute("d",g)},_bringToFront:function(l){rl(l._path)},_bringToBack:function(l){il(l._path)}});tt.vml&&ld.include(L5);function Pj(l){return tt.svg||tt.vml?new ld(l):null}Pt.include({getRenderer:function(l){var g=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var g=this._paneRenderers[l];return g===void 0&&(g=this._createRenderer({pane:l}),this._paneRenderers[l]=g),g},_createRenderer:function(l){return this.options.preferCanvas&&Ej(l)||Pj(l)}});var Tj=ll.extend({initialize:function(l,g){ll.prototype.initialize.call(this,this._boundsToLatLngs(l),g)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=W(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function M5(l,g){return new Tj(l,g)}ld.create=Nh,ld.pointsToPath=je,Pi.geometryToLayer=vh,Pi.coordsToLatLng=vg,Pi.coordsToLatLngs=xh,Pi.latLngToCoords=xg,Pi.latLngsToCoords=yh,Pi.getFeature=cl,Pi.asFeature=bh,Pt.mergeOptions({boxZoom:!0});var Aj=Gr.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ht(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){rn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Jc(),eg(),this._startPoint=this._map.mouseEventToContainerPoint(l),mt(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var g=new M(this._point,this._startPoint),S=g.getSize();Pn(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(rn(this._box),bn(this._container,"leaflet-crosshair")),ed(),tg(),Ht(document,{contextmenu:co,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new Z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pt.addInitHook("addHandler","boxZoom",Aj),Pt.mergeOptions({doubleClickZoom:!0});var Oj=Gr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var g=this._map,S=g.getZoom(),D=g.options.zoomDelta,q=l.originalEvent.shiftKey?S-D:S+D;g.options.doubleClickZoom==="center"?g.setZoom(q):g.setZoomAround(l.containerPoint,q)}});Pt.addInitHook("addHandler","doubleClickZoom",Oj),Pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rj=Gr.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new oa(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bn(this._map._container,"leaflet-grab"),bn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=W(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,g){return l-(l-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;l.x<g.min.x&&(l.x=this._viscousLimit(l.x,g.min.x)),l.y<g.min.y&&(l.y=this._viscousLimit(l.y,g.min.y)),l.x>g.max.x&&(l.x=this._viscousLimit(l.x,g.max.x)),l.y>g.max.y&&(l.y=this._viscousLimit(l.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,g=Math.round(l/2),S=this._initialWorldOffset,D=this._draggable._newPos.x,q=(D-g+S)%l+g-S,J=(D+g+S)%l-g-S,ce=Math.abs(q+S)<Math.abs(J+S)?q:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(l){var g=this._map,S=g.options,D=!S.inertia||l.noInertia||this._times.length<2;if(g.fire("dragend",l),D)g.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,ce=S.easeLinearity,pe=q.multiplyBy(ce/J),ye=pe.distanceTo([0,0]),Ee=Math.min(S.inertiaMaxSpeed,ye),qe=pe.multiplyBy(Ee/ye),it=Ee/(S.inertiaDeceleration*ce),Nt=qe.multiplyBy(-it/2).round();!Nt.x&&!Nt.y?g.fire("moveend"):(Nt=g._limitOffset(Nt,g.options.maxBounds),T(function(){g.panBy(Nt,{duration:it,easeLinearity:ce,noMoveStart:!0,animate:!0})}))}}});Pt.addInitHook("addHandler","dragging",Rj),Pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lj=Gr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),mt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ht(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,g=document.documentElement,S=l.scrollTop||g.scrollTop,D=l.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(D,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var g=this._panKeys={},S=this.keyCodes,D,q;for(D=0,q=S.left.length;D<q;D++)g[S.left[D]]=[-1*l,0];for(D=0,q=S.right.length;D<q;D++)g[S.right[D]]=[l,0];for(D=0,q=S.down.length;D<q;D++)g[S.down[D]]=[0,l];for(D=0,q=S.up.length;D<q;D++)g[S.up[D]]=[0,-1*l]},_setZoomDelta:function(l){var g=this._zoomKeys={},S=this.keyCodes,D,q;for(D=0,q=S.zoomIn.length;D<q;D++)g[S.zoomIn[D]]=l;for(D=0,q=S.zoomOut.length;D<q;D++)g[S.zoomOut[D]]=-l},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ht(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var g=l.keyCode,S=this._map,D;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(D=this._panKeys[g],l.shiftKey&&(D=B(D).multiplyBy(3)),S.options.maxBounds&&(D=S._limitOffset(B(D),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(D)));S.panTo(q)}else S.panBy(D)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;co(l)}}});Pt.addInitHook("addHandler","keyboard",Lj),Pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mj=Gr.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ht(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var g=ij(l),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var D=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),D),co(l)},_performZoom:function(){var l=this._map,g=l.getZoom(),S=this._map.options.zoomSnap||0;l._stop();var D=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(D))))/Math.LN2,J=S?Math.ceil(q/S)*S:q,ce=l._limitZoom(g+(this._delta>0?J:-J))-g;this._delta=0,this._startTime=null,ce&&(l.options.scrollWheelZoom==="center"?l.setZoom(g+ce):l.setZoomAround(this._lastMousePos,g+ce))}});Pt.addInitHook("addHandler","scrollWheelZoom",Mj);var I5=600;Pt.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15});var Ij=Gr.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ht(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var g=l.touches[0];this._startPos=this._newPos=new K(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",Vn),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),I5),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Ht(document,"touchend",Vn),Ht(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Ht(document,"touchend touchcancel contextmenu",this._cancel,this),Ht(document,"touchmove",this._onMove,this)},_onMove:function(l){var g=l.touches[0];this._newPos=new K(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,g){var S=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Pt.addInitHook("addHandler","tapHold",Ij),Pt.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0});var Dj=Gr.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bn(this._map._container,"leaflet-touch-zoom"),Ht(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var g=this._map;if(!(!l.touches||l.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(l.touches[0]),D=g.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(D)._divideBy(2))),this._startDist=S.distanceTo(D),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),Vn(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(l.touches[0]),D=g.mouseEventToContainerPoint(l.touches[1]),q=S.distanceTo(D)/this._startDist;if(this._zoom=g.getScaleZoom(q,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&q<1||this._zoom>g.getMaxZoom()&&q>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var J=S._add(D)._divideBy(2)._subtract(this._centerPoint);if(q===1&&J.x===0&&J.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),A(this._animRequest);var ce=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(ce,this,!0),Vn(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,A(this._animRequest),Ht(document,"touchmove",this._onTouchMove,this),Ht(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pt.addInitHook("addHandler","touchZoom",Dj),Pt.BoxZoom=Aj,Pt.DoubleClickZoom=Oj,Pt.Drag=Rj,Pt.Keyboard=Lj,Pt.ScrollWheelZoom=Mj,Pt.TapHold=Ij,Pt.TouchZoom=Dj,s.Bounds=M,s.Browser=tt,s.CRS=H,s.Canvas=Cj,s.Circle=gg,s.CircleMarker=gh,s.Class=O,s.Control=gr,s.DivIcon=Nj,s.DivOverlay=Kr,s.DomEvent=e5,s.DomUtil=Q4,s.Draggable=oa,s.Evented=Y,s.FeatureGroup=Ci,s.GeoJSON=Pi,s.GridLayer=ad,s.Handler=Gr,s.Icon=ol,s.ImageOverlay=wh,s.LatLng=X,s.LatLngBounds=Z,s.Layer=vr,s.LayerGroup=al,s.LineUtil=f5,s.Map=Pt,s.Marker=ph,s.Mixin=o5,s.Path=la,s.Point=K,s.PolyUtil=l5,s.Polygon=ll,s.Polyline=Ei,s.Popup=jh,s.PosAnimation=aj,s.Projection=m5,s.Rectangle=Tj,s.Renderer=Ti,s.SVG=ld,s.SVGOverlay=_j,s.TileLayer=dl,s.Tooltip=_h,s.Transformation=fe,s.Util=$,s.VideoOverlay=jj,s.bind=o,s.bounds=z,s.canvas=Ej,s.circle=j5,s.circleMarker=w5,s.control=sd,s.divIcon=A5,s.extend=i,s.featureGroup=x5,s.geoJSON=wj,s.geoJson=S5,s.gridLayer=O5,s.icon=y5,s.imageOverlay=k5,s.latLng=V,s.latLngBounds=W,s.layerGroup=v5,s.map=t5,s.marker=b5,s.point=B,s.polygon=N5,s.polyline=_5,s.popup=P5,s.rectangle=M5,s.setOptions=v,s.stamp=d,s.svg=Pj,s.svgOverlay=E5,s.tileLayer=Sj,s.tooltip=T5,s.transformation=te,s.version=r,s.videoOverlay=C5;var D5=window.L;s.noConflict=function(){return window.L=D5,this},window.L=s})})(vy,vy.exports);var ah=vy.exports;const _w=Rm(ah);function Nw(e,t,s){return Object.freeze({instance:e,context:t,container:s})}function Sw(e,t){return t==null?function(r,i){const a=j.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=j.useRef();a.current||(a.current=e(r,i));const o=j.useRef(r),{instance:c}=a.current;return j.useEffect(function(){o.current!==r&&(t(c,r,o.current),o.current=r)},[c,r,i]),a}}function xR(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function yR(e){return function(s){const r=ww(),i=e(jw(s,r),r);return XW(r.map,s.attribution),vR(i.current,s.eventHandlers),xR(i.current,r),i}}function nZ(e,t){const s=j.useRef();j.useEffect(function(){if(t.pathOptions!==s.current){const i=t.pathOptions??{};e.instance.setStyle(i),s.current=i}},[e,t])}function sZ(e){return function(s){const r=ww(),i=e(jw(s,r),r);return vR(i.current,s.eventHandlers),xR(i.current,r),nZ(i.current,s),i}}function rZ(e,t){const s=Sw(e,t),r=yR(s);return gR(r)}function iZ(e,t){const s=Sw(e,t),r=sZ(s);return gR(r)}function aZ(e,t){const s=Sw(e,t),r=yR(s);return tZ(r)}function oZ(e,t,s){const{opacity:r,zIndex:i}=t;r!=null&&r!==s.opacity&&e.setOpacity(r),i!=null&&i!==s.zIndex&&e.setZIndex(i)}function bR(){return ww().map}function wR(e){const t=bR();return j.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const lZ=iZ(function({center:t,children:s,...r},i){const a=new ah.Circle(t,r);return Nw(a,fR(i,{overlayContainer:a}))},QW);function xy(){return xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},xy.apply(this,arguments)}function cZ({bounds:e,boundsOptions:t,center:s,children:r,className:i,id:a,placeholder:o,style:c,whenReady:d,zoom:h,...f},m){const[u]=j.useState({className:i,id:a,style:c}),[p,y]=j.useState(null);j.useImperativeHandle(m,()=>(p==null?void 0:p.map)??null,[p]);const v=j.useCallback(x=>{if(x!==null&&p===null){const b=new ah.Map(x,f);s!=null&&h!=null?b.setView(s,h):e!=null&&b.fitBounds(e,t),d!=null&&b.whenReady(d),y(eZ(b))}},[]);j.useEffect(()=>()=>{p==null||p.map.remove()},[p]);const w=p?Ne.createElement(pR,{value:p},r):o??null;return Ne.createElement("div",xy({},u,{ref:v}),w)}const jR=j.forwardRef(cZ),yy=rZ(function({position:t,...s},r){const i=new ah.Marker(t,s);return Nw(i,fR(r,{overlayContainer:i}))},function(t,s,r){s.position!==r.position&&t.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&t.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&t.setOpacity(s.opacity),t.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?t.dragging.enable():t.dragging.disable())}),_R=aZ(function({url:t,...s},r){const i=new ah.TileLayer(t,jw(s,r));return Nw(i,r)},function(t,s,r){oZ(t,s,r);const{url:i}=s;i!=null&&i!==r.url&&t.setUrl(i)}),dZ=_w.divIcon({className:"custom-marker",html:'<div style="background-color: #ef4444; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]}),uZ=_w.divIcon({className:"vendor-marker",html:'<div style="background-color: #10b981; width: 24px; height: 24px; border-radius: 50%; border: 3px solid #fff; box-shadow: 0 0 8px rgba(0,0,0,0.3);"></div>',iconSize:[24,24],iconAnchor:[12,12]}),hZ=({onLocationSelect:e,onClose:t,vendorLocation:s,maxRadius:r=10,vendorName:i="Vendor"})=>{const[a,o]=j.useState(null),[c,d]=j.useState(""),[h,f]=j.useState([]),[m,u]=j.useState(!0),[p,y]=j.useState(""),[v,w]=j.useState([27.7172,85.324]),x=()=>(wR({click(R){const{lat:E,lng:T}=R.latlng;N(E,T),b(E,T)}}),null),b=async(R,E)=>{try{const A=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R}&lon=${E}&addressdetails=1`)).json();if(A.address){const $=A.address.road||A.address.neighbourhood,O=A.address.neighbourhood||A.address.suburb||A.address.city||A.address.town,F=`${$||O||"Unknown Location"}, ${A.address.city||A.address.town||A.address.state||""}`;y(F)}}catch(T){console.error("Error fetching address:",T),y(`${R.toFixed(4)}, ${E.toFixed(4)}`)}};j.useEffect(()=>{s&&w([s.lat,s.lng])},[s]);const _=(R,E,T,A)=>{const O=(T-R)*Math.PI/180,F=(A-E)*Math.PI/180,G=Math.sin(O/2)*Math.sin(O/2)+Math.cos(R*Math.PI/180)*Math.cos(T*Math.PI/180)*Math.sin(F/2)*Math.sin(F/2);return 6371*(2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G)))},N=(R,E)=>{if(o({lat:R,lng:E}),s){const T=_(R,E,s.lat,s.lng);u(T<=r)}},C=()=>{a&&m&&e(a.lat,a.lng,p||`${a.lat.toFixed(4)}, ${a.lng.toFixed(4)}`)};j.useEffect(()=>{const R=setTimeout(()=>{c.trim()?I():f([])},300);return()=>clearTimeout(R)},[c]);const I=async()=>{if(!c.trim()){f([]);return}try{const E=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(c)}&limit=5&addressdetails=1`)).json();f(E)}catch(R){console.error("Geocoding error:",R),f([])}},k=R=>{const E=parseFloat(R.lat),T=parseFloat(R.lon);w([E,T]),N(E,T),y(R.display_name),f([]),d("")},P=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(R=>{const{latitude:E,longitude:T}=R.coords;w([E,T]),N(E,T),b(E,T)},R=>{console.error("Geolocation error:",R)})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[95vh] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Select Delivery Location"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:t,children:n.jsx(is,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ge,{placeholder:"Search for an address...",value:c,onChange:R=>d(R.target.value)}),h.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-10 max-h-32 overflow-y-auto",children:h.map((R,E)=>n.jsx("div",{className:"p-2 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>k(R),children:n.jsx("p",{className:"text-xs font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:R.display_name})},E))})]}),n.jsx(ne,{onClick:P,size:"sm",variant:"outline",children:n.jsx(xE,{className:"h-4 w-4"})})]})}),n.jsx("div",{className:"h-64 rounded-lg overflow-hidden border",children:n.jsxs(jR,{center:v,zoom:13,style:{height:"100%",width:"100%"},children:[n.jsx(_R,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),s&&n.jsxs(n.Fragment,{children:[n.jsx(yy,{position:[s.lat,s.lng],icon:uZ}),n.jsx(lZ,{center:[s.lat,s.lng],radius:r*1e3,pathOptions:{color:"#10b981",fillColor:"#10b981",fillOpacity:.1,weight:2}})]}),a&&n.jsx(yy,{position:[a.lat,a.lng],icon:dZ}),n.jsx(x,{})]},`${v[0]}-${v[1]}`)}),a&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Selected Location:"}),n.jsx("p",{className:"text-sm text-gray-600",children:p}),s&&n.jsxs("p",{className:`text-sm mt-2 ${m?"text-green-600":"text-red-600"}`,children:["Distance from ",i,": ",_(a.lat,a.lng,s.lat,s.lng).toFixed(1),"km",!m&&` (exceeds ${r}km delivery limit)`]})]})]}),n.jsxs("div",{className:"flex gap-2 p-4 border-t flex-shrink-0",children:[n.jsx(ne,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),n.jsx(ne,{onClick:C,disabled:!a||!m,className:"flex-1",children:"Confirm Location"})]})]})})};class fZ{async getAuthHeaders(){const t=await Re.getToken();return{"Content-Type":"application/json","ngrok-skip-browser-warning":"true",...t&&{Authorization:`Token ${t}`}}}async createOrder(t){const s=await fetch(`${st}orders/create/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});if(!s.ok){const i=await s.json();throw new Error(i.message||"Failed to create order")}const r=await s.json();return this.notifyVendorOfNewOrder(r.order),r}notifyVendorOfNewOrder(t){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:t}}))}async getOrders(){const t=await fetch(`${st}orders/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch orders");const s=await t.json();return s.results||s}async getOrder(t){const s=await fetch(`${st}orders/${t}/`,{headers:await this.getAuthHeaders()});if(!s.ok)throw new Error("Failed to fetch order");return s.json()}async cancelOrder(t,s="Cancelled by customer"){const r=await fetch(`${st}orders/${t}/cancel/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:s})});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to cancel order")}return r.json()}async createReview(t,s){const r=await fetch(`${st}orders/${t}/review/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(s)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to create review")}return r.json()}async requestRefund(t,s){const r=await fetch(`${st}orders/${t}/refund/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(s)});if(!r.ok){const i=await r.json();throw new Error(i.error||"Failed to request refund")}return r.json()}async getPendingOrders(){const t=await fetch(`${st}orders/vendor/pending/`,{headers:await this.getAuthHeaders()});if(!t.ok)throw new Error("Failed to fetch pending orders");return t.json()}async acceptOrder(t){const s=await fetch(`${st}orders/${t}/accept/`,{method:"POST",headers:await this.getAuthHeaders()});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to accept order")}const r=await s.json();return this.notifyCustomerOfOrderUpdate(r.order,"accepted"),r}notifyCustomerOfOrderUpdate(t,s){window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderStatusUpdated",{detail:{order:t,status:s}}))}async rejectOrder(t,s="Rejected by vendor"){const r=await fetch(`${st}orders/${t}/reject/`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify({reason:s})});if(!r.ok){const a=await r.json();throw new Error(a.error||"Failed to reject order")}const i=await r.json();return this.notifyCustomerOfOrderUpdate(i.order,"rejected"),i}}const Xd=new fZ,mZ=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function pZ(){var ve,Ce;const e=rt(),{cart:t}=fr();ra();const{toast:s}=un(),[r,i]=j.useState("cash_on_delivery"),[a,o]=j.useState("current"),[c,d]=j.useState(null),[h,f]=j.useState("Detecting location..."),[m,u]=j.useState({lat:null,lng:null,address:""}),[p,y]=j.useState(!1),[v,w]=j.useState(null),[x,b]=j.useState({phone:"",instructions:""}),[_,N]=j.useState(null),[C,I]=j.useState("delivery"),[k,P]=j.useState(""),[R,E]=j.useState([]),[T,A]=j.useState(!1);j.useEffect(()=>{var _e;const he=xt.getLocation();if(he)d(he),O(he.latitude,he.longitude).then(f);else return xt.startTracking(),xt.subscribe(async me=>{if(me){d(me);const ee=await O(me.latitude,me.longitude);f(ee)}});((_e=t==null?void 0:t.items)==null?void 0:_e.length)>0&&F(t.items[0].product.vendor_id),(async()=>{await Re.getToken()&&$()})()},[t]);const $=async()=>{try{const he=await Re.getToken(),je=await fetch(`${st}/profile/`,{headers:{Authorization:`Token ${he}`,"ngrok-skip-browser-warning":"true"}});if(je.ok){const _e=await je.json();N(_e),b(de=>({...de,phone:_e.phone_number||""}))}}catch(he){console.error("Failed to fetch user info:",he)}},O=async(he,je)=>{try{const de=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${he}&lon=${je}&addressdetails=1`)).json();if(de.address){const me=de.address.road||de.address.neighbourhood,ee=de.address.neighbourhood||de.address.suburb||de.address.city||de.address.town;return`${me||ee||"Unknown Location"}, ${de.address.city||de.address.town||de.address.state||""}`}return`${he.toFixed(4)}, ${je.toFixed(4)}`}catch{return`${he.toFixed(4)}, ${je.toFixed(4)}`}},F=async he=>{try{const je=await fetch(`${st}api/vendors/${he}/`,{headers:{"ngrok-skip-browser-warning":"true"}});if(je.ok){const _e=await je.json();w(_e)}}catch(je){console.error("Failed to fetch vendor info:",je)}},G=hr(),Y=(ve=G.state)!=null&&ve.directBuy?G.state:null,K=(Ce=G.state)==null?void 0:Ce.selectedItems,U=Y?[{id:Date.now(),product:{id:Y.product.id,name:Y.product.name,vendor_name:Y.product.vendor_name,vendor_id:Y.product.vendor_id,images:Y.product.images},quantity:Y.product.quantity,total_price:(parseFloat(Y.product.price)*Y.product.quantity).toString()}]:K||(t==null?void 0:t.items)||[],B=U.reduce((he,je)=>he+parseFloat(je.total_price),0),M=B,z=he=>/^(98|97)\d{8}$/.test(he.replace(/\s+/g,"")),Z=(he,je)=>{if(he==="phone"){const _e=je.replace(/[^0-9]/g,"");_e.length<=10&&b(de=>({...de,[he]:_e}))}else b(_e=>({..._e,[he]:je}))},W=(he,je)=>{if(!v||!v.latitude||!v.longitude||!v.delivery_radius)return{valid:!0,distance:0};const _e=mZ(he,je,v.latitude,v.longitude);return{valid:_e<=v.delivery_radius,distance:_e,maxRadius:v.delivery_radius}},X=he=>{o(he),he==="custom"&&v?y(!0):he==="custom"&&!v&&s({title:"Vendor Information Loading",description:"Please wait for vendor information to load before selecting map location",variant:"destructive"})},V=(he,je,_e)=>{const de=W(he,je);if(!de.valid){s({title:"Location Out of Range",description:`This location is ${de.distance.toFixed(1)}km away. Maximum delivery range is ${de.maxRadius}km.`,variant:"destructive"});return}u({lat:he,lng:je,address:_e}),y(!1),s({title:"Location Selected",description:`Delivery location set (${de.distance.toFixed(1)}km from vendor)`})},H=()=>{const he=a==="current"?c:m.lat,je=(_==null?void 0:_.phone_number)||x.phone,_e=je&&z(je);return he&&_e},se=async()=>{if(!await Re.getToken()){s({title:"Login Required",description:"Please login to place an order",variant:"destructive"}),e("/login");return}if(!H()){s({title:"Missing Information",description:"Please complete delivery information",variant:"destructive"}),I("delivery");return}const je=a==="current"?c:m;if(!je||!je.latitude&&!je.lat){s({title:"Location Required",description:"Please select a delivery location",variant:"destructive"});return}const _e=je.latitude||je.lat,de=je.longitude||je.lng,me=W(_e,de);if(!me.valid){s({title:"Delivery Not Available",description:`Selected location is outside delivery range (${me.distance.toFixed(1)}km > ${me.maxRadius}km)`,variant:"destructive"});return}try{const ee={items:U.map(oe=>({product_id:oe.product.id,quantity:oe.quantity})),delivery_name:(_==null?void 0:_.username)||(_==null?void 0:_.first_name)||"Customer",delivery_phone:(_==null?void 0:_.phone_number)||x.phone,delivery_address:a==="current"?h:m.address,delivery_latitude:_e,delivery_longitude:de,delivery_instructions:x.instructions,payment_method:r,notes:`Distance: ${me.distance.toFixed(1)}km from vendor`},ae=await Xd.createOrder(ee);if(s({title:"Order Placed Successfully!",description:`Order #${ae.order.order_number} has been placed.`}),"Notification"in window&&Notification.permission==="granted"&&new Notification("New Order Placed!",{body:`Order #${ae.order.order_number} for ${ae.order.total_amount}`,icon:"/favicon.ico",tag:`order-${ae.order.id}`,requireInteraction:!0}),window.dispatchEvent&&window.dispatchEvent(new CustomEvent("orderCreated",{detail:{order:ae.order}})),!Y&&K){const oe=await Re.getToken();for(const be of K)try{await fetch(`${st}cart/items/${be.id}/remove/`,{method:"DELETE",headers:{Authorization:`Token ${oe}`,"ngrok-skip-browser-warning":"true"}})}catch(we){console.error("Error removing cart item:",we)}}e(`/order-confirmation/${ae.order.id}`,{state:{order:ae.order}})}catch(ee){console.error("Order creation error:",ee),s({title:"Order Failed",description:ee.message||"Network error. Please try again.",variant:"destructive"})}},Q=()=>c?h:"Detecting location...",ie=()=>m.lat?m.address||`Custom Location (${m.lat.toFixed(4)}, ${m.lng.toFixed(4)})`:"Select on map",fe=async he=>{if(!he.trim()){E([]),A(!1);return}try{const _e=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(he)}&limit=5&addressdetails=1`)).json();E(_e),A(!0)}catch(je){console.error("Location search error:",je),E([]),A(!1)}},te=async he=>{const je=parseFloat(he.lat),_e=parseFloat(he.lon),de=he.display_name,me=W(je,_e);if(!me.valid){s({title:"Location Out of Range",description:`This location is ${me.distance.toFixed(1)}km away. Maximum delivery range is ${me.maxRadius}km.`,variant:"destructive"});return}u({lat:je,lng:_e,address:de}),o("custom"),P(""),E([]),A(!1),s({title:"Location Selected",description:`Delivery location set (${me.distance.toFixed(1)}km from vendor)`})};return j.useEffect(()=>{const he=setTimeout(()=>{k.trim()?fe(k):(E([]),A(!1))},300);return()=>clearTimeout(he)},[k]),n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 font-sans",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-all",children:n.jsx(Yt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:"Checkout"}),n.jsx("div",{className:"w-6"})," "]})}),n.jsx("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:n.jsxs(Ni,{value:C,onValueChange:I,className:"space-y-6",children:[n.jsxs(Vr,{className:"grid w-full grid-cols-2",children:[n.jsxs(Ct,{value:"delivery",className:"flex items-center gap-2",children:[H()&&n.jsx(ep,{className:"h-4 w-4"}),"Delivery"]}),n.jsx(Ct,{value:"summary",disabled:!H(),children:"Summary"})]}),n.jsx(lt,{value:"delivery",className:"space-y-6",children:n.jsxs(Pe,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[n.jsx(jt,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsxs(_t,{className:"flex items-center gap-3 text-xl font-semibold text-gray-800",children:[n.jsx(Kt,{className:"h-6 w-6 text-emerald-600"}),"Delivery Location"]})}),n.jsxs(Ae,{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kt,{className:"h-5 w-5 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Delivery Location"}),n.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?Q():ie()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&n.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?W(c.latitude,c.longitude).distance.toFixed(1):W(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Search Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{placeholder:"Search for an address...",value:k,onChange:he=>P(he.target.value),onFocus:()=>k&&A(!0),className:"border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl"}),T&&R.length>0&&n.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-48 overflow-y-auto mt-1",children:R.map((he,je)=>n.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl",onMouseDown:_e=>_e.preventDefault(),onClick:()=>te(he),children:n.jsx("p",{className:"text-sm font-medium text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:he.display_name})},je))})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Choose Delivery Location *"}),n.jsxs(dR,{value:a,onValueChange:X,className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[n.jsx(gy,{value:"current",id:"current",className:"text-emerald-600 border-gray-300"}),n.jsxs(ue,{htmlFor:"current",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[n.jsx(xE,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-base font-medium text-gray-800",children:"Use Current Location"}),n.jsx("p",{className:"text-sm text-gray-500",children:Q()}),c&&v&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[W(c.latitude,c.longitude).distance.toFixed(1),"km from vendor"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-all cursor-pointer",children:[n.jsx(gy,{value:"custom",id:"custom",className:"text-emerald-600 border-gray-300"}),n.jsxs(ue,{htmlFor:"custom",className:"flex items-center gap-3 flex-1 cursor-pointer",children:[n.jsx(TD,{className:"h-5 w-5 text-gray-600"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-base font-medium text-gray-800",children:"Choose on Map"}),n.jsx("p",{className:"text-sm text-gray-500",children:ie()}),m.lat&&v&&n.jsxs("p",{className:"text-xs text-emerald-600",children:[W(m.lat,m.lng).distance.toFixed(1),"km from vendor"]})]})]})]}),a==="custom"&&!m.lat&&n.jsx("div",{className:"ml-8",children:n.jsx(ne,{onClick:()=>v?y(!0):null,disabled:!v,variant:"outline",className:"text-sm px-4 py-2 rounded-lg",children:v?"Open Map":"Loading vendor info..."})})]})]}),!(_!=null&&_.phone_number)&&n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number *"}),n.jsx(ge,{id:"phone",placeholder:"98XXXXXXXX or 97XXXXXXXX",value:x.phone,onChange:he=>Z("phone",he.target.value),className:`mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all ${x.phone&&!z(x.phone)?"border-red-300 focus:border-red-500 focus:ring-red-500":""}`}),x.phone&&!z(x.phone)&&n.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Please enter a valid Nepali mobile number (98XXXXXXXX or 97XXXXXXXX)"})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"instructions",className:"text-sm font-medium text-gray-700",children:"Delivery Instructions (Optional)"}),n.jsx(Kn,{id:"instructions",placeholder:"Any special instructions for delivery",value:x.instructions,onChange:he=>Z("instructions",he.target.value),rows:3,className:"mt-1 border-gray-200 focus:border-emerald-500 focus:ring-emerald-500 rounded-xl transition-all"})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ne,{onClick:()=>I("summary"),disabled:!H(),className:"px-8 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl",children:"Continue to Summary"})})]})]})}),n.jsx(lt,{value:"summary",className:"space-y-6",children:n.jsxs(Pe,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden",children:[n.jsx(jt,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(_t,{className:"text-xl font-semibold text-gray-800",children:"Order Summary"})}),n.jsxs(Ae,{className:"p-6 space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-4 rounded-xl border border-emerald-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Kt,{className:"h-5 w-5 text-emerald-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Delivery Location"}),n.jsx("p",{className:"text-base font-semibold text-gray-800",children:a==="current"?Q():ie()}),(a==="current"&&c||a==="custom"&&m.lat)&&v&&n.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[a==="current"?W(c.latitude,c.longitude).distance.toFixed(1):W(m.lat,m.lng).distance.toFixed(1),"km from ",v.business_name]})]})]})}),n.jsx(pi,{className:"my-4 bg-gray-200"}),U.map(he=>{var je,_e;return n.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100",children:[n.jsx("img",{src:as((_e=(je=he.product.images)==null?void 0:je[0])==null?void 0:_e.image_url),alt:he.product.name,className:"w-20 h-20 object-cover rounded-lg border border-gray-200 shadow-sm"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-lg text-gray-800",children:he.product.name}),n.jsx("p",{className:"text-sm text-gray-500",children:he.product.vendor_name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["Quantity: ",he.quantity]})]}),n.jsxs("p",{className:"font-semibold text-lg text-gray-800",children:["",parseFloat(he.total_price).toFixed(2)]})]},he.id)}),n.jsx(pi,{className:"my-4 bg-gray-200"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[n.jsx("h4",{className:"font-semibold text-emerald-800 mb-2",children:"Bill Amount (Cash on Delivery)"}),n.jsxs("div",{className:"flex justify-between text-base text-gray-700",children:[n.jsx("span",{children:"Subtotal"}),n.jsxs("span",{className:"font-semibold",children:["",B.toFixed(2)]})]})]}),n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),n.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),n.jsx("span",{className:"font-bold text-xl text-orange-600",children:"To be determined"})]})}),n.jsx(pi,{className:"my-2 bg-gray-200"}),n.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800",children:[n.jsx("span",{children:"Bill Total (Now)"}),n.jsxs("span",{children:["",M.toFixed(2)]})]})]}),n.jsx("div",{className:"flex justify-between",children:n.jsx(ne,{variant:"outline",onClick:()=>I("delivery"),className:"px-8 py-2 rounded-xl",children:"Back to Delivery"})})]})]})})]})}),C==="summary"&&n.jsx("footer",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-2xl py-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount (COD)"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:["",M.toFixed(2)]})]}),n.jsx(ne,{onClick:se,disabled:!H(),className:"px-10 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-bold text-lg transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Place Order (COD)"})]})}),p&&v&&n.jsx(hZ,{onLocationSelect:V,onClose:()=>y(!1),vendorLocation:{lat:v.latitude,lng:v.longitude},maxRadius:v.delivery_radius,vendorName:v.business_name})]})}function gZ(){var m,u;const e=rt(),{orderId:t}=fp(),s=hr(),{toast:r}=un(),[i,a]=j.useState(((m=s.state)==null?void 0:m.order)||null),[o,c]=j.useState(!i);j.useEffect(()=>{!i&&t&&d()},[t,i]);const d=async()=>{try{const p=await Xd.getOrder(parseInt(t));a(p)}catch(p){console.error("Error fetching order:",p),r({title:"Error",description:p.message||"Failed to load order details",variant:"destructive"}),e("/")}finally{c(!1)}},h=p=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",f=p=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[p]||p;return o?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading order details..."})]})}):i?n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Yt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Order Confirmation"}),n.jsx("div",{className:"w-6"})]})}),n.jsxs("main",{className:"max-w-4xl mx-auto p-6 pb-32",children:[n.jsx(Pe,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:n.jsxs(Ae,{className:"p-8 text-center",children:[n.jsx(Ku,{className:"h-16 w-16 mx-auto mb-4 text-emerald-600"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Order Placed Successfully!"}),n.jsxs("p",{className:"text-gray-600 mb-4",children:["Your order #",i.order_number," has been placed and is being processed."]}),n.jsx(De,{className:`${h(i.status)} px-4 py-2 text-sm font-medium`,children:f(i.status)})]})}),n.jsxs(Pe,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[n.jsx(jt,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(_t,{className:"text-xl font-semibold text-gray-800",children:"Order Details"})}),n.jsx(Ae,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Order Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Number:"}),n.jsxs("span",{className:"font-medium",children:["#",i.order_number]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Date:"}),n.jsx("span",{className:"font-medium",children:new Date(i.created_at).toLocaleDateString()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium capitalize",children:i.payment_method})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-bold text-emerald-600",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Delivery Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Kt,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:i.delivery_name}),n.jsx("p",{className:"text-gray-600",children:i.delivery_address})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Xu,{className:"h-4 w-4 text-emerald-600"}),n.jsx("span",{className:"text-gray-600",children:i.delivery_phone})]}),i.delivery_instructions&&n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(ar,{className:"h-4 w-4 text-emerald-600 mt-0.5"}),n.jsx("p",{className:"text-gray-600 text-xs",children:i.delivery_instructions})]})]})]})]})})]}),n.jsxs(Pe,{className:"border-none shadow-xl rounded-2xl bg-white overflow-hidden mb-6",children:[n.jsx(jt,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 p-6",children:n.jsx(_t,{className:"text-xl font-semibold text-gray-800",children:"Order Items"})}),n.jsxs(Ae,{className:"p-6",children:[n.jsx("div",{className:"space-y-4",children:(u=i.items)==null?void 0:u.map(p=>{var y,v,w;return n.jsxs("div",{className:"flex items-center gap-4 py-4 border-b border-gray-100 last:border-b-0",children:[n.jsx("img",{src:((w=(v=(y=p.product_details)==null?void 0:y.images)==null?void 0:v[0])==null?void 0:w.image_url)||"/placeholder-product.jpg",alt:p.product_name,className:"w-16 h-16 object-cover rounded-lg border border-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-800",children:p.product_name}),n.jsx("p",{className:"text-sm text-gray-600",children:p.vendor_name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.quantity]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-semibold text-gray-800",children:["",parseFloat(p.total_price).toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",parseFloat(p.unit_price).toFixed(2)," each"]})]})]},p.id)})}),n.jsx(pi,{className:"my-4"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:[n.jsxs("h4",{className:"font-semibold text-emerald-800 mb-2",children:["Bill Amount (Paid via ",i.payment_method,")"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(i.subtotal).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Tax:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(i.tax_amount).toFixed(2)]})]}),n.jsx(pi,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-base font-bold",children:[n.jsx("span",{children:"Bill Total (Paid):"}),n.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(i.subtotal)+parseFloat(i.tax_amount)).toFixed(2)]})]})]})]}),n.jsx("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-lg",children:"Delivery Fee"}),n.jsx("p",{className:"text-sm text-orange-700",children:"Pay on delivery"})]}),n.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["",parseFloat(i.delivery_fee).toFixed(2)]})]})}),n.jsx(pi,{className:"my-2"}),n.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{className:"text-gray-800",children:["",parseFloat(i.total_amount).toFixed(2)]})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 justify-center",children:[n.jsx(ne,{variant:"outline",onClick:()=>e("/orders"),className:"px-8 py-3 rounded-xl",children:"View All Orders"}),n.jsx(ne,{onClick:()=>e("/search"),className:"px-8 py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700",children:"Continue Shopping"})]})]})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order not found"}),n.jsx(ne,{onClick:()=>e("/home"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Go Home"})]})})}var Pp="Dialog",[NR,Cse]=ls(Pp),[vZ,Ur]=NR(Pp),SR=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,c=j.useRef(null),d=j.useRef(null),[h,f]=Fr({prop:r,defaultProp:i??!1,onChange:a,caller:Pp});return n.jsx(vZ,{scope:t,triggerRef:c,contentRef:d,contentId:Ir(),titleId:Ir(),descriptionId:Ir(),open:h,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(m=>!m),[f]),modal:o,children:s})};SR.displayName=Pp;var kR="DialogTrigger",CR=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ur(kR,s),a=ht(t,i.triggerRef);return n.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Ew(i.open),...r,ref:a,onClick:Me(e.onClick,i.onOpenToggle)})});CR.displayName=kR;var kw="DialogPortal",[xZ,ER]=NR(kw,{forceMount:void 0}),PR=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=e,a=Ur(kw,t);return n.jsx(xZ,{scope:t,forceMount:s,children:j.Children.map(r,o=>n.jsx(Xn,{present:s||a.open,children:n.jsx(Wu,{asChild:!0,container:i,children:o})}))})};PR.displayName=kw;var pm="DialogOverlay",TR=j.forwardRef((e,t)=>{const s=ER(pm,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Ur(pm,e.__scopeDialog);return a.modal?n.jsx(Xn,{present:r||a.open,children:n.jsx(bZ,{...i,ref:t})}):null});TR.displayName=pm;var yZ=qo("DialogOverlay.RemoveScroll"),bZ=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ur(pm,s);return n.jsx(vp,{as:yZ,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Xe.div,{"data-state":Ew(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Go="DialogContent",AR=j.forwardRef((e,t)=>{const s=ER(Go,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,a=Ur(Go,e.__scopeDialog);return n.jsx(Xn,{present:r||a.open,children:a.modal?n.jsx(wZ,{...i,ref:t}):n.jsx(jZ,{...i,ref:t})})});AR.displayName=Go;var wZ=j.forwardRef((e,t)=>{const s=Ur(Go,e.__scopeDialog),r=j.useRef(null),i=ht(t,s.contentRef,r);return j.useEffect(()=>{const a=r.current;if(a)return Pb(a)},[]),n.jsx(OR,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&a.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,a=>a.preventDefault())})}),jZ=j.forwardRef((e,t)=>{const s=Ur(Go,e.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return n.jsx(OR,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,c;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(c=s.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((h=s.triggerRef.current)==null?void 0:h.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),OR=j.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,c=Ur(Go,s),d=j.useRef(null),h=ht(t,d);return kb(),n.jsxs(n.Fragment,{children:[n.jsx(pp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:n.jsx(Oc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Ew(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(_Z,{titleId:c.titleId}),n.jsx(SZ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Cw="DialogTitle",RR=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ur(Cw,s);return n.jsx(Xe.h2,{id:i.titleId,...r,ref:t})});RR.displayName=Cw;var LR="DialogDescription",MR=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ur(LR,s);return n.jsx(Xe.p,{id:i.descriptionId,...r,ref:t})});MR.displayName=LR;var IR="DialogClose",DR=j.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=Ur(IR,s);return n.jsx(Xe.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>i.onOpenChange(!1))})});DR.displayName=IR;function Ew(e){return e?"open":"closed"}var FR="DialogTitleWarning",[Ese,$R]=NI(FR,{contentName:Go,titleName:Cw,docsSlug:"dialog"}),_Z=({titleId:e})=>{const t=$R(FR),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},NZ="DialogDescriptionWarning",SZ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$R(NZ).contentName}}.`;return j.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zR=SR,BR=CR,VR=PR,Tp=TR,Ap=AR,Op=RR,Rp=MR,UR=DR;const Fo=zR,by=BR,kZ=VR,qR=j.forwardRef(({className:e,...t},s)=>n.jsx(Tp,{ref:s,className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qR.displayName=Tp.displayName;const Da=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(kZ,{children:[n.jsx(qR,{}),n.jsxs(Ap,{ref:r,className:Ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,n.jsxs(UR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(is,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Da.displayName=Ap.displayName;const Fa=({className:e,...t})=>n.jsx("div",{className:Ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fa.displayName="DialogHeader";const $a=j.forwardRef(({className:e,...t},s)=>n.jsx(Op,{ref:s,className:Ge("text-lg font-semibold leading-none tracking-tight",e),...t}));$a.displayName=Op.displayName;const HR=j.forwardRef(({className:e,...t},s)=>n.jsx(Rp,{ref:s,className:Ge("text-sm text-muted-foreground",e),...t}));HR.displayName=Rp.displayName;const Os=zR,CZ=BR,EZ=VR,WR=j.forwardRef(({className:e,...t},s)=>n.jsx(Tp,{className:Ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));WR.displayName=Tp.displayName;const PZ=Gu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),vs=j.forwardRef(({side:e="right",className:t,children:s,...r},i)=>n.jsxs(EZ,{children:[n.jsx(WR,{}),n.jsxs(Ap,{ref:i,className:Ge(PZ({side:e}),t),...r,children:[s,n.jsxs(UR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(is,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vs.displayName=Ap.displayName;const xs=({className:e,...t})=>n.jsx("div",{className:Ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});xs.displayName="SheetHeader";const ys=j.forwardRef(({className:e,...t},s)=>n.jsx(Op,{ref:s,className:Ge("text-lg font-semibold text-foreground",e),...t}));ys.displayName=Op.displayName;const TZ=j.forwardRef(({className:e,...t},s)=>n.jsx(Rp,{ref:s,className:Ge("text-sm text-muted-foreground",e),...t}));TZ.displayName=Rp.displayName;function wy(e,[t,s]){return Math.min(s,Math.max(t,e))}var AZ=[" ","Enter","ArrowUp","ArrowDown"],OZ=[" ","Enter"],Ko="Select",[Lp,Mp,RZ]=Xm(Ko),[qc,Pse]=ls(Ko,[RZ,Dc]),Ip=Dc(),[LZ,ro]=qc(Ko),[MZ,IZ]=qc(Ko),ZR=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:m,disabled:u,required:p,form:y}=e,v=Ip(t),[w,x]=j.useState(null),[b,_]=j.useState(null),[N,C]=j.useState(!1),I=$c(h),[k,P]=Fr({prop:r,defaultProp:i??!1,onChange:a,caller:Ko}),[R,E]=Fr({prop:o,defaultProp:c,onChange:d,caller:Ko}),T=j.useRef(null),A=w?y||!!w.closest("form"):!0,[$,O]=j.useState(new Set),F=Array.from($).map(G=>G.props.value).join(";");return n.jsx(pb,{...v,children:n.jsxs(LZ,{required:p,scope:t,trigger:w,onTriggerChange:x,valueNode:b,onValueNodeChange:_,valueNodeHasChildren:N,onValueNodeHasChildrenChange:C,contentId:Ir(),value:R,onValueChange:E,open:k,onOpenChange:P,dir:I,triggerPointerDownPosRef:T,disabled:u,children:[n.jsx(Lp.Provider,{scope:t,children:n.jsx(MZ,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(G=>{O(Y=>new Set(Y).add(G))},[]),onNativeOptionRemove:j.useCallback(G=>{O(Y=>{const K=new Set(Y);return K.delete(G),K})},[]),children:s})}),A?n.jsxs(vL,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:m,value:R,onChange:G=>E(G.target.value),disabled:u,form:y,children:[R===void 0?n.jsx("option",{value:""}):null,Array.from($)]},F):null]})})};ZR.displayName=Ko;var GR="SelectTrigger",KR=j.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...i}=e,a=Ip(s),o=ro(GR,s),c=o.disabled||r,d=ht(t,o.onTriggerChange),h=Mp(s),f=j.useRef("touch"),[m,u,p]=yL(v=>{const w=h().filter(_=>!_.disabled),x=w.find(_=>_.value===o.value),b=bL(w,v,x);b!==void 0&&o.onValueChange(b.value)}),y=v=>{c||(o.onOpenChange(!0),p()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return n.jsx(gb,{asChild:!0,...a,children:n.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":xL(o.value)?"":void 0,...i,ref:d,onClick:Me(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&y(v)}),onPointerDown:Me(i.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:Me(i.onKeyDown,v=>{const w=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!(w&&v.key===" ")&&AZ.includes(v.key)&&(y(),v.preventDefault())})})})});KR.displayName=GR;var YR="SelectValue",XR=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,children:a,placeholder:o="",...c}=e,d=ro(YR,s),{onValueNodeHasChildrenChange:h}=d,f=a!==void 0,m=ht(t,d.onValueNodeChange);return Cn(()=>{h(f)},[h,f]),n.jsx(Xe.span,{...c,ref:m,style:{pointerEvents:"none"},children:xL(d.value)?n.jsx(n.Fragment,{children:o}):a})});XR.displayName=YR;var DZ="SelectIcon",QR=j.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...i}=e;return n.jsx(Xe.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});QR.displayName=DZ;var FZ="SelectPortal",JR=e=>n.jsx(Wu,{asChild:!0,...e});JR.displayName=FZ;var Yo="SelectContent",eL=j.forwardRef((e,t)=>{const s=ro(Yo,e.__scopeSelect),[r,i]=j.useState();if(Cn(()=>{i(new DocumentFragment)},[]),!s.open){const a=r;return a?eo.createPortal(n.jsx(tL,{scope:e.__scopeSelect,children:n.jsx(Lp.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),a):null}return n.jsx(nL,{...e,ref:t})});eL.displayName=Yo;var wr=10,[tL,io]=qc(Yo),$Z="SelectContentImpl",zZ=qo("SelectContent.RemoveScroll"),nL=j.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w,...x}=e,b=ro(Yo,s),[_,N]=j.useState(null),[C,I]=j.useState(null),k=ht(t,H=>N(H)),[P,R]=j.useState(null),[E,T]=j.useState(null),A=Mp(s),[$,O]=j.useState(!1),F=j.useRef(!1);j.useEffect(()=>{if(_)return Pb(_)},[_]),kb();const G=j.useCallback(H=>{const[se,...Q]=A().map(te=>te.ref.current),[ie]=Q.slice(-1),fe=document.activeElement;for(const te of H)if(te===fe||(te==null||te.scrollIntoView({block:"nearest"}),te===se&&C&&(C.scrollTop=0),te===ie&&C&&(C.scrollTop=C.scrollHeight),te==null||te.focus(),document.activeElement!==fe))return},[A,C]),Y=j.useCallback(()=>G([P,_]),[G,P,_]);j.useEffect(()=>{$&&Y()},[$,Y]);const{onOpenChange:K,triggerPointerDownPosRef:U}=b;j.useEffect(()=>{if(_){let H={x:0,y:0};const se=ie=>{var fe,te;H={x:Math.abs(Math.round(ie.pageX)-(((fe=U.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((te=U.current)==null?void 0:te.y)??0))}},Q=ie=>{H.x<=10&&H.y<=10?ie.preventDefault():_.contains(ie.target)||K(!1),document.removeEventListener("pointermove",se),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",Q,{capture:!0})}}},[_,K,U]),j.useEffect(()=>{const H=()=>K(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[K]);const[B,M]=yL(H=>{const se=A().filter(fe=>!fe.disabled),Q=se.find(fe=>fe.ref.current===document.activeElement),ie=bL(se,H,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),z=j.useCallback((H,se,Q)=>{const ie=!F.current&&!Q;(b.value!==void 0&&b.value===se||ie)&&(R(H),ie&&(F.current=!0))},[b.value]),Z=j.useCallback(()=>_==null?void 0:_.focus(),[_]),W=j.useCallback((H,se,Q)=>{const ie=!F.current&&!Q;(b.value!==void 0&&b.value===se||ie)&&T(H)},[b.value]),X=r==="popper"?jy:sL,V=X===jy?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:m,collisionBoundary:u,collisionPadding:p,sticky:y,hideWhenDetached:v,avoidCollisions:w}:{};return n.jsx(tL,{scope:s,content:_,viewport:C,onViewportChange:I,itemRefCallback:z,selectedItem:P,onItemLeave:Z,itemTextRefCallback:W,focusSelectedItem:Y,selectedItemText:E,position:r,isPositioned:$,searchRef:B,children:n.jsx(vp,{as:zZ,allowPinchZoom:!0,children:n.jsx(pp,{asChild:!0,trapped:b.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Me(i,H=>{var se;(se=b.trigger)==null||se.focus({preventScroll:!0}),H.preventDefault()}),children:n.jsx(Oc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:n.jsx(X,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:H=>H.preventDefault(),...x,...V,onPlaced:()=>O(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Me(x.onKeyDown,H=>{const se=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!se&&H.key.length===1&&M(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let ie=A().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(H.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const fe=H.target,te=ie.indexOf(fe);ie=ie.slice(te+1)}setTimeout(()=>G(ie)),H.preventDefault()}})})})})})})});nL.displayName=$Z;var BZ="SelectItemAlignedPosition",sL=j.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...i}=e,a=ro(Yo,s),o=io(Yo,s),[c,d]=j.useState(null),[h,f]=j.useState(null),m=ht(t,k=>f(k)),u=Mp(s),p=j.useRef(!1),y=j.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:x,focusSelectedItem:b}=o,_=j.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&v&&w&&x){const k=a.trigger.getBoundingClientRect(),P=h.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),E=x.getBoundingClientRect();if(a.dir!=="rtl"){const fe=E.left-P.left,te=R.left-fe,ve=k.left-te,Ce=k.width+ve,he=Math.max(Ce,P.width),je=window.innerWidth-wr,_e=wy(te,[wr,Math.max(wr,je-he)]);c.style.minWidth=Ce+"px",c.style.left=_e+"px"}else{const fe=P.right-E.right,te=window.innerWidth-R.right-fe,ve=window.innerWidth-k.right-te,Ce=k.width+ve,he=Math.max(Ce,P.width),je=window.innerWidth-wr,_e=wy(te,[wr,Math.max(wr,je-he)]);c.style.minWidth=Ce+"px",c.style.right=_e+"px"}const T=u(),A=window.innerHeight-wr*2,$=v.scrollHeight,O=window.getComputedStyle(h),F=parseInt(O.borderTopWidth,10),G=parseInt(O.paddingTop,10),Y=parseInt(O.borderBottomWidth,10),K=parseInt(O.paddingBottom,10),U=F+G+$+K+Y,B=Math.min(w.offsetHeight*5,U),M=window.getComputedStyle(v),z=parseInt(M.paddingTop,10),Z=parseInt(M.paddingBottom,10),W=k.top+k.height/2-wr,X=A-W,V=w.offsetHeight/2,H=w.offsetTop+V,se=F+G+H,Q=U-se;if(se<=W){const fe=T.length>0&&w===T[T.length-1].ref.current;c.style.bottom="0px";const te=h.clientHeight-v.offsetTop-v.offsetHeight,ve=Math.max(X,V+(fe?Z:0)+te+Y),Ce=se+ve;c.style.height=Ce+"px"}else{const fe=T.length>0&&w===T[0].ref.current;c.style.top="0px";const ve=Math.max(W,F+v.offsetTop+(fe?z:0)+V)+Q;c.style.height=ve+"px",v.scrollTop=se-W+v.offsetTop}c.style.margin=`${wr}px 0`,c.style.minHeight=B+"px",c.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[u,a.trigger,a.valueNode,c,h,v,w,x,a.dir,r]);Cn(()=>_(),[_]);const[N,C]=j.useState();Cn(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const I=j.useCallback(k=>{k&&y.current===!0&&(_(),b==null||b(),y.current=!1)},[_,b]);return n.jsx(UZ,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:I,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(Xe.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});sL.displayName=BZ;var VZ="SelectPopperPosition",jy=j.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:i=wr,...a}=e,o=Ip(s);return n.jsx(vb,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jy.displayName=VZ;var[UZ,Pw]=qc(Yo,{}),_y="SelectViewport",rL=j.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...i}=e,a=io(_y,s),o=Pw(_y,s),c=ht(t,a.onViewportChange),d=j.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(Lp.Slot,{scope:s,children:n.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:u}=o;if(u!=null&&u.current&&m){const p=Math.abs(d.current-f.scrollTop);if(p>0){const y=window.innerHeight-wr*2,v=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),x=Math.max(v,w);if(x<y){const b=x+p,_=Math.min(y,b),N=b-_;m.style.height=_+"px",m.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});rL.displayName=_y;var iL="SelectGroup",[qZ,HZ]=qc(iL),WZ=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Ir();return n.jsx(qZ,{scope:s,id:i,children:n.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:t})})});WZ.displayName=iL;var aL="SelectLabel",oL=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=HZ(aL,s);return n.jsx(Xe.div,{id:i.id,...r,ref:t})});oL.displayName=aL;var gm="SelectItem",[ZZ,lL]=qc(gm),cL=j.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:i=!1,textValue:a,...o}=e,c=ro(gm,s),d=io(gm,s),h=c.value===r,[f,m]=j.useState(a??""),[u,p]=j.useState(!1),y=ht(t,b=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,b,r,i)}),v=Ir(),w=j.useRef("touch"),x=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(ZZ,{scope:s,value:r,disabled:i,textId:v,isSelected:h,onItemTextChange:j.useCallback(b=>{m(_=>_||((b==null?void 0:b.textContent)??"").trim())},[]),children:n.jsx(Lp.ItemSlot,{scope:s,value:r,disabled:i,textValue:f,children:n.jsx(Xe.div,{role:"option","aria-labelledby":v,"data-highlighted":u?"":void 0,"aria-selected":h&&u,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Me(o.onFocus,()=>p(!0)),onBlur:Me(o.onBlur,()=>p(!1)),onClick:Me(o.onClick,()=>{w.current!=="mouse"&&x()}),onPointerUp:Me(o.onPointerUp,()=>{w.current==="mouse"&&x()}),onPointerDown:Me(o.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Me(o.onPointerMove,b=>{var _;w.current=b.pointerType,i?(_=d.onItemLeave)==null||_.call(d):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(o.onPointerLeave,b=>{var _;b.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:Me(o.onKeyDown,b=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(OZ.includes(b.key)&&x(),b.key===" "&&b.preventDefault())})})})})});cL.displayName=gm;var Rd="SelectItemText",dL=j.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:i,...a}=e,o=ro(Rd,s),c=io(Rd,s),d=lL(Rd,s),h=IZ(Rd,s),[f,m]=j.useState(null),u=ht(t,x=>m(x),d.onItemTextChange,x=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,x,d.value,d.disabled)}),p=f==null?void 0:f.textContent,y=j.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:p},d.value),[d.disabled,d.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=h;return Cn(()=>(v(y),()=>w(y)),[v,w,y]),n.jsxs(n.Fragment,{children:[n.jsx(Xe.span,{id:d.textId,...a,ref:u}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eo.createPortal(a.children,o.valueNode):null]})});dL.displayName=Rd;var uL="SelectItemIndicator",hL=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return lL(uL,s).isSelected?n.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t}):null});hL.displayName=uL;var Ny="SelectScrollUpButton",fL=j.forwardRef((e,t)=>{const s=io(Ny,e.__scopeSelect),r=Pw(Ny,e.__scopeSelect),[i,a]=j.useState(!1),o=ht(t,r.onScrollButtonChange);return Cn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const h=d.scrollTop>0;a(h)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?n.jsx(pL,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});fL.displayName=Ny;var Sy="SelectScrollDownButton",mL=j.forwardRef((e,t)=>{const s=io(Sy,e.__scopeSelect),r=Pw(Sy,e.__scopeSelect),[i,a]=j.useState(!1),o=ht(t,r.onScrollButtonChange);return Cn(()=>{if(s.viewport&&s.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;a(f)};const d=s.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[s.viewport,s.isPositioned]),i?n.jsx(pL,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=s;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});mL.displayName=Sy;var pL=j.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...i}=e,a=io("SelectScrollButton",s),o=j.useRef(null),c=Mp(s),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),Cn(()=>{var f;const h=c().find(m=>m.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),n.jsx(Xe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Me(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{d()})})}),GZ="SelectSeparator",gL=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t})});gL.displayName=GZ;var ky="SelectArrow",KZ=j.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,i=Ip(s),a=ro(ky,s),o=io(ky,s);return a.open&&o.position==="popper"?n.jsx(xb,{...i,...r,ref:t}):null});KZ.displayName=ky;var YZ="SelectBubbleInput",vL=j.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const i=j.useRef(null),a=ht(r,i),o=kp(t);return j.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(m)}},[o,t]),n.jsx(Xe.select,{...s,style:{...qC,...s.style},ref:a,defaultValue:t})});vL.displayName=YZ;function xL(e){return e===""||e===void 0}function yL(e){const t=gn(e),s=j.useRef(""),r=j.useRef(0),i=j.useCallback(o=>{const c=s.current+o;t(c),function d(h){s.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),a=j.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,i,a]}function bL(e,t,s){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,a=s?e.indexOf(s):-1;let o=XZ(e,Math.max(a,0));i.length===1&&(o=o.filter(h=>h!==s));const d=o.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==s?d:void 0}function XZ(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var QZ=ZR,wL=KR,JZ=XR,eG=QR,tG=JR,jL=eL,nG=rL,_L=oL,NL=cL,sG=dL,rG=hL,SL=fL,kL=mL,CL=gL;const Vt=QZ,Ut=JZ,zt=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(wL,{ref:r,className:Ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(eG,{asChild:!0,children:n.jsx(mE,{className:"h-4 w-4 opacity-50"})})]}));zt.displayName=wL.displayName;const EL=j.forwardRef(({className:e,...t},s)=>n.jsx(SL,{ref:s,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(jD,{className:"h-4 w-4"})}));EL.displayName=SL.displayName;const PL=j.forwardRef(({className:e,...t},s)=>n.jsx(kL,{ref:s,className:Ge("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(mE,{className:"h-4 w-4"})}));PL.displayName=kL.displayName;const Bt=j.forwardRef(({className:e,children:t,position:s="popper",...r},i)=>n.jsx(tG,{children:n.jsxs(jL,{ref:i,className:Ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(EL,{}),n.jsx(nG,{className:Ge("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(PL,{})]})}));Bt.displayName=jL.displayName;const iG=j.forwardRef(({className:e,...t},s)=>n.jsx(_L,{ref:s,className:Ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));iG.displayName=_L.displayName;const We=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(NL,{ref:r,className:Ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(rG,{children:n.jsx(ep,{className:"h-4 w-4"})})}),n.jsx(sG,{children:t})]}));We.displayName=NL.displayName;const aG=j.forwardRef(({className:e,...t},s)=>n.jsx(CL,{ref:s,className:Ge("-mx-1 my-1 h-px bg-muted",e),...t}));aG.displayName=CL.displayName;function oG(e,t){return j.useReducer((s,r)=>t[s][r]??s,e)}var Tw="ScrollArea",[TL,Tse]=ls(Tw),[lG,mr]=TL(Tw),AL=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[c,d]=j.useState(null),[h,f]=j.useState(null),[m,u]=j.useState(null),[p,y]=j.useState(null),[v,w]=j.useState(null),[x,b]=j.useState(0),[_,N]=j.useState(0),[C,I]=j.useState(!1),[k,P]=j.useState(!1),R=ht(t,T=>d(T)),E=$c(i);return n.jsx(lG,{scope:s,type:r,dir:E,scrollHideDelay:a,scrollArea:c,viewport:h,onViewportChange:f,content:m,onContentChange:u,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:C,onScrollbarXEnabledChange:I,scrollbarY:v,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:N,children:n.jsx(Xe.div,{dir:E,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});AL.displayName=Tw;var OL="ScrollAreaViewport",RL=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:r,nonce:i,...a}=e,o=mr(OL,s),c=j.useRef(null),d=ht(t,c,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});RL.displayName=OL;var Si="ScrollAreaScrollbar",Aw=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=mr(Si,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,c=e.orientation==="horizontal";return j.useEffect(()=>(c?a(!0):o(!0),()=>{c?a(!1):o(!1)}),[c,a,o]),i.type==="hover"?n.jsx(cG,{...r,ref:t,forceMount:s}):i.type==="scroll"?n.jsx(dG,{...r,ref:t,forceMount:s}):i.type==="auto"?n.jsx(LL,{...r,ref:t,forceMount:s}):i.type==="always"?n.jsx(Ow,{...r,ref:t}):null});Aw.displayName=Si;var cG=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=mr(Si,e.__scopeScrollArea),[a,o]=j.useState(!1);return j.useEffect(()=>{const c=i.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(Xn,{present:s||a,children:n.jsx(LL,{"data-state":a?"visible":"hidden",...r,ref:t})})}),dG=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=mr(Si,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Fp(()=>d("SCROLL_END"),100),[c,d]=oG("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,i.scrollHideDelay,d]),j.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let m=h[f];const u=()=>{const p=h[f];m!==p&&(d("SCROLL"),o()),m=p};return h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[i.viewport,a,d,o]),n.jsx(Xn,{present:s||c!=="hidden",children:n.jsx(Ow,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Me(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),LL=j.forwardRef((e,t)=>{const s=mr(Si,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=j.useState(!1),c=e.orientation==="horizontal",d=Fp(()=>{if(s.viewport){const h=s.viewport.offsetWidth<s.viewport.scrollWidth,f=s.viewport.offsetHeight<s.viewport.scrollHeight;o(c?h:f)}},10);return jc(s.viewport,d),jc(s.content,d),n.jsx(Xn,{present:r||a,children:n.jsx(Ow,{"data-state":a?"visible":"hidden",...i,ref:t})})}),Ow=j.forwardRef((e,t)=>{const{orientation:s="vertical",...r}=e,i=mr(Si,e.__scopeScrollArea),a=j.useRef(null),o=j.useRef(0),[c,d]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=$L(c.viewport,c.content),f={...r,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:u=>a.current=u,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:u=>o.current=u};function m(u,p){return gG(u,o.current,c,p)}return s==="horizontal"?n.jsx(uG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollLeft,p=wS(u,c,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollLeft=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollLeft=m(u,i.dir))}}):s==="vertical"?n.jsx(hG,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const u=i.viewport.scrollTop,p=wS(u,c);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollTop=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollTop=m(u))}}):null}),uG=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=mr(Si,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=ht(t,d,a.onScrollbarXChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(IL,{"data-orientation":"horizontal",...i,ref:h,sizes:s,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Dp(s)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(u),BL(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:xm(o.paddingLeft),paddingEnd:xm(o.paddingRight)}})}})}),hG=j.forwardRef((e,t)=>{const{sizes:s,onSizesChange:r,...i}=e,a=mr(Si,e.__scopeScrollArea),[o,c]=j.useState(),d=j.useRef(null),h=ht(t,d,a.onScrollbarYChange);return j.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),n.jsx(IL,{"data-orientation":"vertical",...i,ref:h,sizes:s,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Dp(s)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const u=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(u),BL(u,m)&&f.preventDefault()}},onResize:()=>{d.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:xm(o.paddingTop),paddingEnd:xm(o.paddingBottom)}})}})}),[fG,ML]=TL(Si),IL=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:m,...u}=e,p=mr(Si,s),[y,v]=j.useState(null),w=ht(t,R=>v(R)),x=j.useRef(null),b=j.useRef(""),_=p.viewport,N=r.content-r.viewport,C=gn(f),I=gn(d),k=Fp(m,10);function P(R){if(x.current){const E=R.clientX-x.current.left,T=R.clientY-x.current.top;h({x:E,y:T})}}return j.useEffect(()=>{const R=E=>{const T=E.target;(y==null?void 0:y.contains(T))&&C(E,N)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,y,N,C]),j.useEffect(I,[r,I]),jc(y,k),jc(p.content,k),n.jsx(fG,{scope:s,scrollbar:y,hasThumb:i,onThumbChange:gn(a),onThumbPointerUp:gn(o),onThumbPositionChange:I,onThumbPointerDown:gn(c),children:n.jsx(Xe.div,{...u,ref:w,style:{position:"absolute",...u.style},onPointerDown:Me(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),x.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(R))}),onPointerMove:Me(e.onPointerMove,P),onPointerUp:Me(e.onPointerUp,R=>{const E=R.target;E.hasPointerCapture(R.pointerId)&&E.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),vm="ScrollAreaThumb",DL=j.forwardRef((e,t)=>{const{forceMount:s,...r}=e,i=ML(vm,e.__scopeScrollArea);return n.jsx(Xn,{present:s||i.hasThumb,children:n.jsx(mG,{ref:t,...r})})}),mG=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:r,...i}=e,a=mr(vm,s),o=ML(vm,s),{onThumbPositionChange:c}=o,d=ht(t,m=>o.onThumbChange(m)),h=j.useRef(void 0),f=Fp(()=>{h.current&&(h.current(),h.current=void 0)},100);return j.useEffect(()=>{const m=a.viewport;if(m){const u=()=>{if(f(),!h.current){const p=vG(m,c);h.current=p,c()}};return c(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[a.viewport,f,c]),n.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Me(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),y=m.clientX-p.left,v=m.clientY-p.top;o.onThumbPointerDown({x:y,y:v})}),onPointerUp:Me(e.onPointerUp,o.onThumbPointerUp)})});DL.displayName=vm;var Rw="ScrollAreaCorner",FL=j.forwardRef((e,t)=>{const s=mr(Rw,e.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?n.jsx(pG,{...e,ref:t}):null});FL.displayName=Rw;var pG=j.forwardRef((e,t)=>{const{__scopeScrollArea:s,...r}=e,i=mr(Rw,s),[a,o]=j.useState(0),[c,d]=j.useState(0),h=!!(a&&c);return jc(i.scrollbarX,()=>{var m;const f=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(f),d(f)}),jc(i.scrollbarY,()=>{var m;const f=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),h?n.jsx(Xe.div,{...r,ref:t,style:{width:a,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xm(e){return e?parseInt(e,10):0}function $L(e,t){const s=e/t;return isNaN(s)?0:s}function Dp(e){const t=$L(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-s)*t;return Math.max(r,18)}function gG(e,t,s,r="ltr"){const i=Dp(s),a=i/2,o=t||a,c=i-o,d=s.scrollbar.paddingStart+o,h=s.scrollbar.size-s.scrollbar.paddingEnd-c,f=s.content-s.viewport,m=r==="ltr"?[0,f]:[f*-1,0];return zL([d,h],m)(e)}function wS(e,t,s="ltr"){const r=Dp(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,c=a-r,d=s==="ltr"?[0,o]:[o*-1,0],h=wy(e,d);return zL([0,o],[0,c])(h)}function zL(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(s-e[0])}}function BL(e,t){return e>0&&e<t}var vG=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=s.left!==a.left,c=s.top!==a.top;(o||c)&&t(),s=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Fp(e,t){const s=gn(e),r=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),j.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,t)},[s,t])}function jc(e,t){const s=gn(t);Cn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,s])}var VL=AL,xG=RL,yG=FL;const Lw=j.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(VL,{ref:r,className:Ge("relative overflow-hidden",e),...s,children:[n.jsx(xG,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(UL,{}),n.jsx(yG,{})]}));Lw.displayName=VL.displayName;const UL=j.forwardRef(({className:e,orientation:t="vertical",...s},r)=>n.jsx(Aw,{ref:r,orientation:t,className:Ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:n.jsx(DL,{className:"relative flex-1 rounded-full bg-border"})}));UL.displayName=Aw.displayName;class bG{constructor(){Yr(this,"fcmToken",null)}async initialize(){if(vt.isNativePlatform())try{const{PushNotifications:t}=await Je(async()=>{const{PushNotifications:i}=await Promise.resolve().then(()=>D4);return{PushNotifications:i}},void 0),{App:s}=await Je(async()=>{const{App:i}=await import("./index-DxLKDddC.js");return{App:i}},[]);if((await t.requestPermissions()).receive!=="granted"){console.warn("Push notification permission denied");return}await t.register(),t.addListener("registration",i=>{console.log(" FCM Token:",i.value),this.fcmToken=i.value,this.sendTokenToBackend(i.value)}),t.addListener("pushNotificationReceived",i=>{var a;console.log(" Push received:",i),(a=i.data)!=null&&a.orderId&&window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(i.data.orderId),orderNumber:i.data.orderNumber,amount:i.data.amount,fromPush:!0}}))}),t.addListener("pushNotificationActionPerformed",i=>{var o;console.log(" Push notification tapped - app opening:",i);const a=(o=i.notification.data)==null?void 0:o.orderId;a&&(window.location.href="/vendor/home",setTimeout(()=>{var c,d;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(a),orderNumber:(c=i.notification.data)==null?void 0:c.orderNumber,amount:(d=i.notification.data)==null?void 0:d.amount,autoOpened:!0,fromPush:!0}}))},1500))}),s.addListener("appStateChange",({isActive:i})=>{i&&(console.log(" App resumed from push notification"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))}),console.log(" Real push notifications initialized")}catch(t){console.error(" Push notifications setup failed:",t)}}async sendTokenToBackend(t){try{(await fetch("/api/vendor/fcm-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fcmToken:t,vendorId:localStorage.getItem("vendor_id")})})).ok&&console.log(" FCM token sent to backend")}catch(s){console.warn("Failed to send FCM token:",s)}}getFCMToken(){return this.fcmToken}}const wG=new bG;class jG{constructor(){Yr(this,"persistentIntervals",new Map);this.setupNotificationHandlers(),this.initializePushNotifications()}async initializePushNotifications(){vt.isNativePlatform()&&await wG.initialize()}async setupNotificationHandlers(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:r}=await import("./index-CxvHkTHk.js");return{LocalNotifications:r}},[]),{App:s}=await Je(async()=>{const{App:r}=await import("./index-DxLKDddC.js");return{App:r}},[]);t.addListener("localNotificationActionPerformed",async r=>{var i;console.log(" NOTIFICATION TAPPED - AUTO OPENING APP:",r);try{const{App:a}=await Je(async()=>{const{App:d}=await import("./index-DxLKDddC.js");return{App:d}},[]),o=await a.getState();if(console.log(" Current app state:",o),!o.isActive){console.log(" App was in background - bringing to foreground"),window.focus(),document.body.click();try{await a.minimizeApp(),setTimeout(()=>{window.focus()},100)}catch{console.log("Minimize/restore not available")}}const c=parseInt(((i=r.notification.extra)==null?void 0:i.orderId)||"0");c&&(console.log(" Opening order:",c),window.location.href="/vendor/home",setTimeout(()=>{var d,h;window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:c,orderNumber:(d=r.notification.extra)==null?void 0:d.orderNumber,amount:(h=r.notification.extra)==null?void 0:h.amount,autoOpened:!0,fromNotification:!0}}))},1500))}catch(a){console.error(" Failed to open app:",a),window.location.href="/vendor/home"}}),s.addListener("appStateChange",({isActive:r})=>{r&&(console.log(" App resumed - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})}catch(t){console.warn("Could not setup notification handlers:",t)}}async showOrderNotification(t,s,r){console.log(" Using FCM push notifications for order:",t);const{pushNotificationService:i}=await Je(async()=>{const{pushNotificationService:a}=await import("./pushNotificationService-M0vvYPP_.js");return{pushNotificationService:a}},[]);await i.showOrderNotification(t,s,r),this.playBeepSound(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:r,orderNumber:t,amount:s}}))}async requestBackendPushNotification(t,s,r){try{(await fetch("/api/vendor/send-order-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vendorId:localStorage.getItem("vendor_id"),orderId:r,orderNumber:t,amount:s,title:" NEW ORDER RECEIVED",body:`Order #${t} - ${s}`,data:{orderId:r.toString(),orderNumber:t,amount:s,action:"openOrder"}})})).ok?console.log(" Backend push notification requested"):console.warn(" Backend push notification failed")}catch(i){console.warn("Backend push notification error:",i)}}async showPushNotification(t,s,r){try{console.log(" Simulating push notification for auto-opening")}catch(i){console.warn("Push notification failed, using local fallback:",i)}}async showLocalNotification(t,s,r){try{const{LocalNotifications:i}=await Je(async()=>{const{LocalNotifications:o}=await import("./index-CxvHkTHk.js");return{LocalNotifications:o}},[]);if((await i.requestPermissions()).display!=="granted"){console.warn("Notification permission not granted");return}await i.schedule({notifications:[{title:" NEW ORDER - TAP TO OPEN APP",body:`Order #${t} - ${s}
 TAP HERE TO OPEN`,id:r,schedule:{at:new Date(Date.now()+100)},sound:"default",attachments:void 0,actionTypeId:"OPEN_ORDER",smallIcon:"ic_stat_icon_config_sample",iconColor:"#FF0000",channelId:"order-alerts",summaryText:"Tap to open app",extra:{orderId:r.toString(),orderNumber:t,amount:s,autoOpen:!0,action:"openApp",deepLink:"vendor://order/"+r}}]}),console.log(" Local notification scheduled for order:",r)}catch(i){console.warn("Local notifications not available:",i)}}showWebNotification(t,s,r){if("Notification"in window&&Notification.permission==="granted"){const i=new Notification(" New Order!",{body:`Order #${t} - ${s}`,icon:"/favicon.ico",tag:`order-${r}`,requireInteraction:!0});i.onclick=()=>{window.focus(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:r,orderNumber:t,amount:s}})),i.close()},setTimeout(()=>i.close(),3e4)}}startPersistentAlert(t,s,r){this.stopPersistentAlert(r);const i=setInterval(()=>{console.log(" Persistent alert for order:",t),"vibrate"in navigator&&navigator.vibrate([1e3,300,1e3,300,1e3]),this.playMobileSound()},5e3);this.persistentIntervals.set(r,i),setTimeout(()=>{this.stopPersistentAlert(r)},3e5)}stopPersistentAlert(t){const s=this.persistentIntervals.get(t);s&&(clearInterval(s),this.persistentIntervals.delete(t),console.log(" Stopped persistent alert for order:",t))}async clearNotification(t){if(this.stopPersistentAlert(t),vt.isNativePlatform())try{const{LocalNotifications:s}=await Je(async()=>{const{LocalNotifications:r}=await import("./index-CxvHkTHk.js");return{LocalNotifications:r}},[]);await s.cancel({notifications:[{id:t}]}),console.log(" Cleared background notification for order:",t)}catch(s){console.warn("Could not clear notification:",s)}}async requestPermissions(){if(vt.isNativePlatform())try{const{LocalNotifications:t}=await Je(async()=>{const{LocalNotifications:r}=await import("./index-CxvHkTHk.js");return{LocalNotifications:r}},[]),s=await t.requestPermissions();console.log(" Notification permissions:",s);try{await t.createChannel({id:"order-alerts",name:"Order Alerts",description:"High priority notifications for new orders",sound:"default",importance:5,visibility:1,lights:!0,vibration:!0}),console.log(" High priority notification channel created")}catch(r){console.warn("Could not create notification channel:",r)}return s.display==="granted"}catch(t){return console.warn("Local notifications not available:",t),!1}return"Notification"in window&&Notification.permission==="default"?await Notification.requestPermission()==="granted":"Notification"in window&&Notification.permission==="granted"}playBeepSound(){try{const t=new(window.AudioContext||window.webkitAudioContext),s=t.createOscillator(),r=t.createGain();s.connect(r),r.connect(t.destination),s.frequency.value=800,s.type="square",r.gain.setValueAtTime(.3,t.currentTime),r.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),s.start(t.currentTime),s.stop(t.currentTime+.3),console.log(" Beep sound played")}catch(t){console.warn("Audio not available:",t)}}playMobileSound(){try{const t=new(window.AudioContext||window.webkitAudioContext);for(let s=0;s<3;s++)setTimeout(()=>{const r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=1e3+s*200,r.type="sine",i.gain.setValueAtTime(.5,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),r.start(t.currentTime),r.stop(t.currentTime+.2)},s*300);console.log(" Mobile sound sequence played")}catch(t){console.warn("Mobile audio not available:",t)}}}const Dl=new jG,Ev=Object.freeze(Object.defineProperty({__proto__:null,simpleNotificationService:Dl},Symbol.toStringTag,{value:"Module"}));function $p(){const[e,t]=j.useState([]),[s,r]=j.useState(!1),[i,a]=j.useState(0),o=j.useRef(null),c=j.useRef(null);j.useRef(0),j.useEffect(()=>{Dl.requestPermissions()},[]);const d=async()=>{if(!await Re.getToken()){console.warn("No authentication token found for WebSocket connection");return}const y=window.location.href;if(y.includes("ngrok")||y.includes("ngrok-free.app")){console.log("Ngrok detected - using HTTP polling instead of WebSocket"),h();return}console.log("Using HTTP polling for notifications"),h()},h=()=>{r(!0),console.log("Notification polling disabled")};return j.useEffect(()=>((async()=>{await d()})(),()=>{c.current&&clearInterval(c.current),o.current&&o.current.close(1e3,"Component unmounting")}),[]),j.useEffect(()=>{console.log("Initial notification fetch disabled")},[]),{notifications:e,unreadCount:i,isConnected:s,markAsRead:async p=>{console.log("Mark as read:",p),a(y=>Math.max(0,y-1))},markAllAsRead:async()=>{console.log("Mark all as read"),a(0)},clearNotifications:()=>{t([]),a(0)}}}function _G({className:e=""}){const t=rt(),{notifications:s,unreadCount:r,markAsRead:i,markAllAsRead:a,clearNotifications:o,isConnected:c}=$p(),[d,h]=j.useState(!1),f=y=>{switch(y){case"order":return n.jsx(Tt,{className:"h-4 w-4 text-blue-600"});case"payment":return n.jsx(to,{className:"h-4 w-4 text-green-600"});case"system":return n.jsx(bu,{className:"h-4 w-4 text-orange-600"});default:return n.jsx(rr,{className:"h-4 w-4 text-gray-600"})}},m=y=>{switch(y){case"order":return"border-l-blue-500 bg-blue-50";case"payment":return"border-l-green-500 bg-green-50";case"system":return"border-l-orange-500 bg-orange-50";default:return"border-l-gray-500 bg-gray-50"}},u=y=>{y.read||i(y.id),y.action_url&&(t(y.action_url),h(!1))},p=y=>{const v=new Date(y),x=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));return x<1?"Just now":x<60?`${x}m ago`:x<1440?`${Math.floor(x/60)}h ago`:v.toLocaleDateString()};return n.jsxs(Os,{open:d,onOpenChange:h,children:[n.jsx(CZ,{asChild:!0,children:n.jsxs(ne,{variant:"ghost",size:"sm",className:`relative p-2 hover:bg-gray-100 rounded-full ${e}`,children:[n.jsx(rr,{className:`h-5 w-5 ${c?"text-gray-700":"text-gray-400"}`}),r>0&&n.jsx(De,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:r>99?"99+":r}),!c&&n.jsx("div",{className:"absolute -bottom-1 -right-1 h-2 w-2 bg-red-500 rounded-full"})]})}),n.jsxs(vs,{side:"right",className:"w-full sm:w-96",children:[n.jsxs(xs,{className:"pb-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ys,{className:"flex items-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5"}),"Notifications",r>0&&n.jsxs(De,{variant:"secondary",className:"ml-2",children:[r," new"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!c&&n.jsxs("div",{className:"flex items-center gap-1 text-xs text-red-600",children:[n.jsx("div",{className:"h-2 w-2 bg-red-500 rounded-full animate-pulse"}),"Offline"]}),s.length>0&&n.jsx(ne,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Clear All"})]})]}),r>0&&n.jsxs(ne,{variant:"outline",size:"sm",onClick:a,className:"w-full",children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),"Mark All as Read"]})]}),n.jsx(Lw,{className:"h-[calc(100vh-120px)]",children:s.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n.jsx(rr,{className:"h-12 w-12 text-gray-400 mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),n.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up! New notifications will appear here."})]}):n.jsx("div",{className:"space-y-2",children:s.map(y=>n.jsx("div",{onClick:()=>u(y),className:`
                    p-4 rounded-lg border-l-4 cursor-pointer transition-all hover:shadow-md
                    ${m(y.type)}
                    ${y.read?"opacity-75":"ring-2 ring-blue-100"}
                  `,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 mt-1",children:f(y.type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:y.title}),!y.read&&n.jsx("div",{className:"h-2 w-2 bg-blue-600 rounded-full flex-shrink-0 ml-2"})]}),n.jsx("p",{className:"text-sm text-gray-700 mb-2 line-clamp-2",children:y.message}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(ar,{className:"h-3 w-3"}),p(y.timestamp||new Date().toISOString())]}),y.action_url&&n.jsx(ne,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs text-blue-600 hover:text-blue-800",onClick:v=>{v.stopPropagation(),u(y)},children:"View"})]})]})]})},y.id))})}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsxs("div",{className:`
            flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-xs
            ${c?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}
          `,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${c?"bg-green-500":"bg-red-500 animate-pulse"}`}),c?"Connected to notification service":"Reconnecting..."]})})]})]})}function NG(){var ot,$t;const e=rt(),{toast:t}=un(),[s,r]=j.useState([]),[i,a]=j.useState(!0),[o,c]=j.useState("all"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(!1),[y,v]=j.useState(null),[w,x]=j.useState({}),[b,_]=j.useState(!1),[N,C]=j.useState(null),[I,k]=j.useState(0),[P,R]=j.useState(""),[E,T]=j.useState(!1),[A,$]=j.useState(!1),[O,F]=j.useState(null),[G,Y]=j.useState(""),[K,U]=j.useState(""),[B,M]=j.useState(""),[z,Z]=j.useState(""),[W,X]=j.useState(""),[V,H]=j.useState(""),[se,Q]=j.useState(""),[ie,fe]=j.useState(""),[te,ve]=j.useState([]),[Ce,he]=j.useState(!1),[je,_e]=j.useState(null),[de,me]=j.useState(!1),[ee,ae]=j.useState("");$p(),j.useEffect(()=>{oe();const le=Ze=>{Ze.detail.type==="order"&&oe()};window.addEventListener("newNotification",le);const He=setInterval(async()=>{try{if(!await Re.getToken())return;const dt=await Xd.getOrders();r(dt)}catch(Ze){console.error("Auto-refresh error:",Ze)}},3e4);return()=>{window.removeEventListener("newNotification",le),clearInterval(He)}},[]);const oe=async()=>{var le,He,Ze;try{if(!await Re.getToken()){e("/login");return}const ze=await Xd.getOrders();r(ze);const Ie={};for(const It of ze){const Ot=(Ze=(He=(le=It.items)==null?void 0:le[0])==null?void 0:He.product_details)==null?void 0:Ze.vendor_name;Ot&&!Ie[Ot]&&(Ie[Ot]=await Se(Ot))}x(Ie)}catch(dt){console.error("Error fetching orders:",dt),t({title:"Error",description:dt.message||"Failed to load orders",variant:"destructive"})}finally{a(!1)}},be=le=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",preparing:"bg-orange-100 text-orange-800",out_for_delivery:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[le]||"bg-gray-100 text-gray-800",we=le=>({pending:"Order Placed",confirmed:"Confirmed",preparing:"Preparing",out_for_delivery:"Out for Delivery",delivered:"Delivered",cancelled:"Cancelled"})[le]||le,xe=le=>le==="all"?s:s.filter(He=>He.status===le),re=async()=>{if(!d.trim()){t({title:"Reason Required",description:"Please provide a valid reason for cancellation",variant:"destructive"});return}try{await Xd.cancelOrder(y,d),t({title:"Order Cancelled",description:"Your order has been cancelled successfully."}),p(!1),h(""),m(""),oe()}catch(le){console.error("Error cancelling order:",le),t({title:"Cancellation Failed",description:le.message||"Failed to cancel order",variant:"destructive"})}},Se=async le=>{var He;try{const{response:Ze,data:dt}=await Be(`search/vendors/?search=${encodeURIComponent(le)}`);if(!Ze.ok)return!1;const ze=(He=dt==null?void 0:dt.results)==null?void 0:He.find(Ie=>Ie.business_name===le);return(ze==null?void 0:ze.is_active)||!1}catch(Ze){return console.error("Error checking vendor status:",Ze),!1}},Te=async le=>{var He,Ze,dt;try{const ze=(dt=(Ze=(He=le.items)==null?void 0:He[0])==null?void 0:Ze.product_details)==null?void 0:dt.vendor_name;if(ze&&!await Se(ze)){t({title:"Vendor Offline",description:"This vendor is currently offline. Cannot reorder at this time.",variant:"destructive"});return}for(const Ie of le.items);t({title:"Items Added",description:"Order items added to cart"}),e("/cart")}catch{t({title:"Reorder Failed",description:"Failed to add items to cart",variant:"destructive"})}},nt=({order:le})=>{var He,Ze,dt,ze,Ie,It,Ot,xn,En,cs,Qn,aa;return n.jsxs(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow mb-4",onClick:()=>{_e(le),he(!0)},children:[n.jsx(jt,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs(_t,{className:"text-lg",children:["Order #",le.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(le.created_at).toLocaleDateString()})]}),n.jsx(De,{className:`${be(le.status)} px-3 py-1`,children:we(le.status)})]})}),n.jsx(Ae,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[(He=le.items)==null?void 0:He.length," item",((Ze=le.items)==null?void 0:Ze.length)!==1?"s":""]}),n.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(dt=le.items)==null?void 0:dt.slice(0,3).map(Ve=>{var pt,kt,yn,Xt;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("img",{src:as((yn=(kt=(pt=Ve.product_details)==null?void 0:pt.images)==null?void 0:kt[0])==null?void 0:yn.image_url),alt:Ve.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Ve.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(Xt=Ve.product_details)==null?void 0:Xt.category})]})]},Ve.id)}),((ze=le.items)==null?void 0:ze.length)>3&&n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:n.jsxs("span",{className:"text-xs text-gray-600",children:["+",le.items.length-3]})})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("button",{onClick:Ve=>{var kt,yn,Xt;Ve.stopPropagation();const pt=(Xt=(yn=(kt=le.items)==null?void 0:kt[0])==null?void 0:yn.product_details)==null?void 0:Xt.vendor_id;pt&&e(`/vendor/${pt}`)},className:"text-blue-600 hover:underline text-xs font-medium truncate",children:((Ot=(It=(Ie=le.items)==null?void 0:Ie[0])==null?void 0:It.product_details)==null?void 0:Ot.vendor_name)||"Vendor"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Kt,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:le.delivery_address})]}),le.status==="out_for_delivery"&&n.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hl,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"font-medium text-blue-800",children:"Shipping Details"})]}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",le.vehicle_number||"TBA"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Vehicle Color:"})," ",le.vehicle_color||"N/A"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Driver Phone:"})," ",le.delivery_boy_phone||"TBA"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"ETA:"})," ",le.estimated_delivery_time||"TBA"]}),le.delivery_fee>0&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Delivery Fee:"})," ",parseFloat(le.delivery_fee).toFixed(2)]})]})]}),le.status==="cancelled"&&le.cancel_reason&&n.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(is,{className:"h-4 w-4 text-red-600"}),n.jsx("span",{className:"font-medium text-red-800",children:"Cancellation Reason"})]}),n.jsx("p",{className:"text-sm text-red-700",children:le.cancel_reason}),le.refund_status&&n.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[n.jsx("span",{className:"font-medium",children:"Refund:"})," ",le.refund_status]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(le.total_amount).toFixed(2)]}),n.jsxs("div",{className:"flex gap-2",children:[le.status==="out_for_delivery"&&n.jsx(ne,{variant:"outline",size:"sm",onClick:async Ve=>{Ve.stopPropagation();try{const pt=await Re.getToken(),{response:kt}=await Be(`/api/orders/${le.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as received by customer"})});kt.ok&&r(yn=>yn.map(Xt=>Xt.id===le.id?{...Xt,status:"delivered",delivered_at:new Date().toISOString()}:Xt))}catch(pt){console.error("Error marking as received:",pt)}},className:"text-green-600 border-green-200 hover:bg-green-50",children:"Received"}),(le.status==="cancelled"||le.status==="pending"||le.status==="delivered")&&w[(cs=(En=(xn=le.items)==null?void 0:xn[0])==null?void 0:En.product_details)==null?void 0:cs.vendor_name]&&n.jsx(ne,{variant:"outline",size:"sm",onClick:Ve=>{Ve.stopPropagation(),Te(le)},className:"text-green-600 border-green-200 hover:bg-green-50",children:n.jsx(ii,{className:"h-4 w-4"})}),le.status==="pending"&&n.jsx(ne,{variant:"outline",size:"sm",onClick:Ve=>{Ve.stopPropagation(),v(le.id),p(!0)},className:"text-red-600 border-red-200 hover:bg-red-50",children:"Cancel"}),le.status==="delivered"&&!((Qn=le.refunds)!=null&&Qn.some(Ve=>["requested","approved","rejected","appeal","processed","completed"].includes(Ve.status)))&&(()=>{const Ve=new Date(le.delivered_at);return(new Date-Ve)/(1e3*60*60)<=24})()&&n.jsx(ne,{variant:"outline",size:"sm",onClick:Ve=>{Ve.stopPropagation(),F(le),$(!0)},className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:"Return"}),le.status==="delivered"&&!((aa=le.refunds)!=null&&aa.some(Ve=>["requested","approved","rejected","appeal","processed","completed"].includes(Ve.status)))&&(()=>{const Ve=new Date(le.delivered_at);return(new Date-Ve)/(1e3*60*60)>24})()&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Return window expired"}),le.status==="delivered"&&!le.review&&n.jsx(ne,{variant:"outline",size:"sm",onClick:Ve=>{Ve.stopPropagation(),C(le),k(0),R(""),T(!1),_(!0)},className:"text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:n.jsx(cn,{className:"h-4 w-4"})}),le.status==="delivered"&&le.review&&n.jsx(ne,{variant:"outline",size:"sm",onClick:Ve=>{Ve.stopPropagation(),C(le),k(le.review.overall_rating),R(le.review.review_text||""),T(!0),_(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"Edit Review"})]})]})]})})]},le.id)};return i?n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading your orders..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white pb-20",children:[n.jsx("header",{className:"sticky top-0 z-50 bg-white shadow-lg border-b py-4 px-6",children:n.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-full",children:n.jsx(Yt,{className:"h-6 w-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Orders"}),n.jsx(_G,{})]})}),n.jsx("main",{className:"max-w-4xl mx-auto p-4 pt-2",children:s.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx(Tt,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Start shopping to see your orders here"}),n.jsx(ne,{onClick:()=>e("/"),className:"bg-emerald-600 hover:bg-emerald-700",children:"Start Shopping"})]}):n.jsxs(Ni,{value:o,onValueChange:c,className:"space-y-6",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Vr,{className:"flex w-max min-w-full gap-1",children:[n.jsxs(Ct,{value:"all",className:"flex-shrink-0 px-2",children:["All ",n.jsxs("span",{className:"font-bold",children:["(",s.length,")"]})]}),n.jsxs(Ct,{value:"pending",className:"flex-shrink-0 px-2",children:["Pending ",n.jsxs("span",{className:"font-bold",children:["(",xe("pending").length,")"]})]}),n.jsxs(Ct,{value:"confirmed",className:"flex-shrink-0 px-2",children:["Confirmed ",n.jsxs("span",{className:"font-bold",children:["(",xe("confirmed").concat(xe("preparing")).length,")"]})]}),n.jsxs(Ct,{value:"shipped",className:"flex-shrink-0 px-2",children:["Shipped ",n.jsxs("span",{className:"font-bold",children:["(",xe("out_for_delivery").length,")"]})]}),n.jsxs(Ct,{value:"delivered",className:"flex-shrink-0 px-2",children:["Delivered ",n.jsxs("span",{className:"font-bold",children:["(",xe("delivered").length,")"]})]}),n.jsxs(Ct,{value:"returns",className:"flex-shrink-0 px-2",children:["Returns ",n.jsxs("span",{className:"font-bold",children:["(",s.filter(le=>{var He;return((He=le.refunds)==null?void 0:He.length)>0}).length,")"]})]}),n.jsxs(Ct,{value:"reviewed",className:"flex-shrink-0 px-2",children:["Reviewed ",n.jsxs("span",{className:"font-bold",children:["(",s.filter(le=>le.review).length,")"]})]}),n.jsxs(Ct,{value:"cancelled",className:"flex-shrink-0 px-2",children:["Cancelled ",n.jsxs("span",{className:"font-bold",children:["(",xe("cancelled").length,")"]})]})]})}),n.jsx(lt,{value:"all",className:"space-y-4",children:s.map(le=>n.jsx(nt,{order:le},le.id))}),n.jsx(lt,{value:"pending",className:"space-y-4",children:xe("pending").map(le=>n.jsx(nt,{order:le},le.id))}),n.jsx(lt,{value:"confirmed",className:"space-y-4",children:xe("confirmed").concat(xe("preparing")).map(le=>n.jsx(nt,{order:le},le.id))}),n.jsx(lt,{value:"shipped",className:"space-y-4",children:xe("out_for_delivery").map(le=>n.jsx(nt,{order:le},le.id))}),n.jsx(lt,{value:"delivered",className:"space-y-4",children:xe("delivered").map(le=>n.jsxs("div",{children:[n.jsx(nt,{order:le}),le.status==="delivered"&&le.delivered_at&&n.jsx("div",{className:"mt-2 px-4 py-2 bg-gray-50 rounded text-xs text-gray-600",children:(()=>{var Ie;const He=new Date(le.delivered_at),ze=24-(new Date-He)/(1e3*60*60);return(Ie=le.refunds)!=null&&Ie.some(It=>["requested","approved","rejected","appeal","processed","completed"].includes(It.status))?"Return request already submitted":ze>0?`Return available for ${Math.floor(ze)} hours ${Math.floor(ze%1*60)} minutes`:"Return window expired (24 hours after delivery)"})()})]},le.id))}),n.jsx(lt,{value:"returns",className:"space-y-4",children:s.filter(le=>{var He;return((He=le.refunds)==null?void 0:He.length)>0}).length>0?s.filter(le=>{var He;return((He=le.refunds)==null?void 0:He.length)>0}).map(le=>{var He,Ze,dt,ze;return n.jsx("div",{className:"bg-white rounded-lg border",children:n.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>{_e(le),he(!0)},children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("h3",{className:"font-semibold text-sm text-gray-900",children:["Order #",le.order_number]})}),n.jsxs(De,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[n.jsx(ii,{className:"h-3 w-3"}),"Return Request"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ps,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:((dt=(Ze=(He=le.items)==null?void 0:He[0])==null?void 0:Ze.product_details)==null?void 0:dt.vendor_name)||"Vendor"})]}),(ze=le.refunds)==null?void 0:ze.map(Ie=>{var It;return n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),n.jsx(De,{className:`text-xs ${Ie.status==="requested"?"bg-yellow-100 text-yellow-800":Ie.status==="approved"?"bg-green-100 text-green-800":Ie.status==="rejected"?"bg-red-100 text-red-800":Ie.status==="appeal"?"bg-purple-100 text-purple-800":Ie.status==="processed"?"bg-blue-100 text-blue-800":Ie.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:Ie.status.charAt(0).toUpperCase()+Ie.status.slice(1)})]}),n.jsx("p",{className:"text-xs text-gray-700 capitalize",children:Ie.reason.replace("_"," ")}),Ie.customer_notes&&n.jsxs("p",{className:"text-xs text-gray-600",children:['"',Ie.customer_notes,'"']}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",Ie.requested_amount]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",Ie.refund_method]}),((It=Ie.evidence_photos)==null?void 0:It.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:Ie.evidence_photos.map((Ot,xn)=>{var Qn;const En=(Qn=Ot.filename)==null?void 0:Qn.match(/\.(jpg|jpeg|png|gif|webp)$/i);let cs;return Ot.filename.startsWith("http")?cs=Ot.filename:Ot.filename.startsWith("/media/")?cs=`${ws.BASE_URL}${Ot.filename}`:cs=`${ws.BASE_URL}/media/${Ot.filename}`,n.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:aa=>{aa.stopPropagation(),En?(ae(cs),me(!0)):window.open(cs,"_blank")},children:[En?n.jsx(Sn,{className:"h-3 w-3 text-blue-600"}):n.jsx(Tt,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-blue-800",children:Ot.filename||`Document ${xn+1}`})]},xn)})})]}),Ie.status==="completed"&&n.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded p-2 mt-2",children:n.jsx("p",{className:"text-xs text-emerald-800 font-medium",children:" Refund Completed"})}),Ie.status==="processed"&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 mt-2",children:n.jsx("p",{className:"text-xs text-blue-800 font-medium",children:" Money Transferred"})}),Ie.admin_notes&&n.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Response:"})," ",Ie.admin_notes]}),Ie.status==="rejected"&&n.jsx(ne,{size:"sm",variant:"outline",className:"w-full mt-2",onClick:async Ot=>{Ot.stopPropagation();try{const xn=await Re.getToken(),{response:En}=await Be(`/api/refunds/${Ie.id}/appeal/`,{method:"POST",body:JSON.stringify({customer_notes:"Appealing the rejection decision"})});En.ok&&(t({title:"Appeal Submitted",description:"Your appeal has been submitted for review."}),oe())}catch{t({title:"Error",description:"Failed to submit appeal.",variant:"destructive"})}},children:"Appeal Decision"})]},Ie.id)}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(le.total_amount).toFixed(2)]}),n.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:Ie=>{Ie.stopPropagation(),_e(le),he(!0)},children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]})},le.id)}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(ii,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No returns yet"}),n.jsx("p",{className:"text-gray-500",children:"Your return requests will appear here"})]})}),n.jsx(lt,{value:"reviewed",className:"space-y-4",children:s.filter(le=>le.review).length>0?s.filter(le=>le.review).map(le=>{var He;return n.jsx(Pe,{className:"mb-4",children:n.jsxs(Ae,{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-lg",children:["Order #",le.order_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(le.created_at).toLocaleDateString()})]}),n.jsx(De,{className:"bg-green-100 text-green-800 px-3 py-1",children:"Reviewed"})]}),n.jsx("div",{className:"mb-4",children:n.jsx("div",{className:"flex gap-3 overflow-x-auto",children:(He=le.items)==null?void 0:He.slice(0,3).map(Ze=>{var dt,ze,Ie,It;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("img",{src:((Ie=(ze=(dt=Ze.product_details)==null?void 0:dt.images)==null?void 0:ze[0])==null?void 0:Ie.image_url)||"/placeholder-product.jpg",alt:Ze.product_name,className:"w-12 h-12 object-cover rounded-lg border"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:Ze.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:(It=Ze.product_details)==null?void 0:It.category})]})]},Ze.id)})})}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Your Review"}),n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(Ze=>n.jsx(cn,{className:`h-4 w-4 ${Ze<=le.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},Ze))})]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{C(le),k(le.review.overall_rating),R(le.review.review_text||""),T(!0),_(!0)},className:"h-7 text-xs",children:"Edit"})]}),le.review.review_text&&n.jsx("p",{className:"text-sm text-gray-700",children:le.review.review_text}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Reviewed on ",new Date(le.review.created_at).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t mt-3",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(le.total_amount).toFixed(2)]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{_e(le),he(!0)},className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:"View Details"})]})]})},le.id)}):n.jsxs("div",{className:"text-center py-16",children:[n.jsx(cn,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reviews yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Complete your orders and share your experience"})]})}),n.jsx(lt,{value:"cancelled",className:"space-y-4",children:xe("cancelled").map(le=>n.jsx(nt,{order:le},le.id))})]})}),n.jsx(Ds,{}),n.jsx(Fo,{open:u,onOpenChange:p,children:n.jsxs(Da,{className:"sm:max-w-md",children:[n.jsx(Fa,{children:n.jsx($a,{children:"Cancel Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"reason",children:"Reason for Cancellation *"}),n.jsxs(Vt,{value:d,onValueChange:h,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select a reason"})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"changed_mind",children:"Changed my mind"}),n.jsx(We,{value:"found_better_price",children:"Found better price elsewhere"}),n.jsx(We,{value:"delivery_too_long",children:"Delivery time too long"}),n.jsx(We,{value:"ordered_by_mistake",children:"Ordered by mistake"}),n.jsx(We,{value:"payment_issues",children:"Payment issues"}),n.jsx(We,{value:"other",children:"Other reason"})]})]})]}),d==="other"&&n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"custom_reason",children:"Please specify"}),n.jsx(Kn,{id:"custom_reason",placeholder:"Enter your reason...",value:d,onChange:le=>h(le.target.value)})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"refund",children:"Refund Option *"}),n.jsxs(Vt,{value:f,onValueChange:m,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select refund method"})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"original_payment",children:"Refund to original payment method"}),n.jsx(We,{value:"wallet",children:"Refund to wallet"}),n.jsx(We,{value:"bank_transfer",children:"Bank transfer"})]})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(ne,{variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Keep Order"}),n.jsx(ne,{onClick:re,className:"flex-1 bg-red-600 hover:bg-red-700",disabled:!d||!f,children:"Cancel Order"})]})]})]})}),n.jsx(Fo,{open:b,onOpenChange:_,children:n.jsxs(Da,{className:"sm:max-w-md",children:[n.jsx(Fa,{children:n.jsx($a,{children:E?"Edit Review":"Rate & Review Order"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Rating *"}),n.jsx("div",{className:"flex gap-1 mt-2",children:[1,2,3,4,5].map(le=>n.jsx("button",{onClick:()=>k(le),className:`text-2xl ${le<=I?"text-yellow-400":"text-gray-300"}`,children:""},le))})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"review",children:"Review (Optional)"}),n.jsx(Kn,{id:"review",placeholder:"Share your experience...",value:P,onChange:le=>R(le.target.value),rows:3})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(ne,{variant:"outline",onClick:()=>{_(!1),k(0),R(""),T(!1)},className:"flex-1",children:"Cancel"}),n.jsx(ne,{onClick:async()=>{if(I)try{const le=await Re.getToken(),He="POST",{response:Ze,data:dt}=await Be(`/api/orders/${N.id}/review/`,{method:He,body:JSON.stringify({overall_rating:I,review_text:P})});Ze.ok&&dt&&(r(ze=>ze.map(Ie=>Ie.id===N.id?{...Ie,review:dt.review}:Ie)),_(!1),k(0),R(""),T(!1),t({title:E?"Review Updated":"Review Submitted",description:"Thank you for your feedback!"}))}catch(le){console.error("Error submitting review:",le),t({title:"Error",description:"Failed to submit review. Please try again.",variant:"destructive"})}},className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!I,children:E?"Update Review":"Submit Review"})]})]})]})}),n.jsx(Os,{open:A,onOpenChange:$,children:n.jsxs(vs,{side:"bottom",className:"h-[80vh] rounded-t-xl",children:[n.jsx(xs,{className:"pb-4",children:n.jsxs(ys,{className:"text-left flex items-center gap-2",children:[n.jsx(ii,{className:"h-5 w-5"}),"Return Order #",O==null?void 0:O.order_number]})}),n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Return Reason *"}),n.jsxs(Vt,{value:G,onValueChange:Y,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select reason for return"})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"defective_product",children:"Defective/Damaged Product"}),n.jsx(We,{value:"wrong_item",children:"Wrong Item Delivered"}),n.jsx(We,{value:"quality_issue",children:"Quality Issue"}),n.jsx(We,{value:"not_as_described",children:"Not as Described"}),n.jsx(We,{value:"expired_product",children:"Expired Product"}),n.jsx(We,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Additional Notes"}),n.jsx(Kn,{placeholder:"Describe the issue in detail...",value:K,onChange:le=>U(le.target.value),rows:3})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Evidence Photos/Documents *"}),n.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Please provide evidence to support your return request"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[n.jsx(wu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload photos or documents as proof"}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",onChange:le=>ve(Array.from(le.target.files)),className:"hidden",id:"evidence-upload"}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>document.getElementById("evidence-upload").click(),className:"mt-2",children:"Choose Files"})]}),te.length>0&&n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[te.length," file(s) selected:"]}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.map((le,He)=>n.jsxs("div",{className:"bg-gray-50 p-2 rounded text-xs flex items-center justify-between",children:[n.jsx("span",{className:"truncate",children:le.name}),n.jsx("button",{onClick:()=>ve(Ze=>Ze.filter((dt,ze)=>ze!==He)),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},He))})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Refund Method *"}),n.jsxs(Vt,{value:B,onValueChange:M,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select refund method"})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"esewa",children:"eSewa"}),n.jsx(We,{value:"khalti",children:"Khalti"}),n.jsx(We,{value:"bank",children:"Bank Transfer"})]})]})]}),B==="esewa"&&n.jsxs("div",{children:[n.jsx(ue,{children:"eSewa Number *"}),n.jsx(ge,{placeholder:"98XXXXXXXX",value:z,onChange:le=>Z(le.target.value)})]}),B==="khalti"&&n.jsxs("div",{children:[n.jsx(ue,{children:"Khalti Number *"}),n.jsx(ge,{placeholder:"98XXXXXXXX",value:W,onChange:le=>X(le.target.value)})]}),B==="bank"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Account Holder Name *"}),n.jsx(ge,{placeholder:"Full name as per bank account",value:V,onChange:le=>H(le.target.value)})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Account Number *"}),n.jsx(ge,{placeholder:"Bank account number",value:se,onChange:le=>Q(le.target.value)})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Bank Branch *"}),n.jsx(ge,{placeholder:"Branch name",value:ie,onChange:le=>fe(le.target.value)})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(bu,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),n.jsxs("div",{className:"text-sm text-yellow-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Return Policy"}),n.jsxs("ul",{className:"text-xs space-y-1",children:[n.jsx("li",{children:" Returns are processed within 3-5 business days"}),n.jsx("li",{children:" Refund will be processed after vendor approval"}),n.jsx("li",{children:" You can appeal if your return is rejected"})]})]})]})})]}),n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[n.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>{$(!1),Y(""),U(""),M(""),Z(""),X(""),H(""),Q(""),fe(""),ve([])},children:"Cancel"}),n.jsx(ne,{className:"flex-1 bg-orange-600 hover:bg-orange-700",disabled:!G||!B||te.length===0||B==="esewa"&&!z||B==="khalti"&&!W||B==="bank"&&(!V||!se||!ie),onClick:async()=>{try{const le=await Re.getToken(),He=new FormData;He.append("reason",G),He.append("customer_notes",K),He.append("refund_method",B),He.append("requested_amount",O.total_amount),B==="esewa"&&He.append("esewa_number",z),B==="khalti"&&He.append("khalti_number",W),B==="bank"&&(He.append("bank_account_name",V),He.append("bank_account_number",se),He.append("bank_branch",ie)),te.forEach((dt,ze)=>{He.append(`evidence_${ze}`,dt)}),(await fetch(`${ws.BASE_URL}/api/orders/${O.id}/return/`,{method:"POST",headers:{Authorization:`Token ${le}`,"ngrok-skip-browser-warning":"true","x-ngrok-skip-browser-warning":"true"},body:He})).ok&&(t({title:"Return Requested",description:"Your return request has been submitted successfully."}),$(!1),oe())}catch{t({title:"Error",description:"Failed to submit return request.",variant:"destructive"})}},children:"Submit Return Request"})]})]})}),n.jsx(Os,{open:Ce,onOpenChange:he,children:n.jsxs(vs,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[n.jsx(xs,{className:"pb-4",children:n.jsxs(ys,{className:"text-left",children:["Order Details - #",je==null?void 0:je.order_number]})}),je&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Order Items"}),n.jsx("div",{className:"space-y-2",children:((ot=je.items)==null?void 0:ot.map((le,He)=>{var Ze,dt,ze;return n.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:((ze=(dt=(Ze=le.product_details)==null?void 0:Ze.images)==null?void 0:dt[0])==null?void 0:ze.image_url)||"/placeholder-product.jpg",alt:le.product_name,className:"w-8 h-8 object-cover rounded"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:le.product_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",le.quantity]})]})]}),n.jsxs("p",{className:"text-sm font-semibold",children:["",le.total_price]})]},He)}))||[]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Delivery Information"}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",je.delivery_address]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",je.delivery_phone]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",je.delivery_name]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Payment Details"}),n.jsxs("div",{className:"bg-emerald-50 p-3 rounded-lg border border-emerald-200 mb-3",children:[n.jsxs("h4",{className:"font-semibold text-emerald-800 text-sm mb-2",children:["Bill Amount (Paid via ",je.payment_method,")"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",je.subtotal]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsxs("span",{children:["",je.tax_amount]})]}),n.jsx("hr",{className:"my-1"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Bill Total (Paid):"}),n.jsxs("span",{className:"text-emerald-600",children:["",(parseFloat(je.subtotal)+parseFloat(je.tax_amount)).toFixed(2)]})]})]})]}),n.jsx("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200 mb-3",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-orange-800 text-base",children:"Delivery Fee"}),n.jsx("p",{className:"text-xs text-orange-700",children:je.status==="delivered"?"Paid on delivery":"Pay on delivery"})]}),n.jsxs("span",{className:"font-bold text-lg text-orange-600",children:["",parseFloat(je.delivery_fee).toFixed(2)]})]})}),n.jsx("hr",{className:"my-2"}),n.jsxs("div",{className:"flex justify-between font-semibold text-sm",children:[n.jsx("span",{children:"Grand Total:"}),n.jsxs("span",{children:["",je.total_amount]})]}),n.jsxs("div",{className:"mt-3 pt-2 border-t space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{className:"capitalize",children:je.payment_method})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Payment Status:"}),n.jsx(De,{variant:je.payment_status==="paid"?"default":"secondary",className:"text-xs",children:je.payment_status})]})]})]}),(($t=je.refunds)==null?void 0:$t.map(le=>{var He;return n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(ii,{className:"h-4 w-4"}),"Return/Refund Details"]}),n.jsxs("div",{className:"space-y-3 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx(De,{className:`text-xs ${le.status==="requested"?"bg-yellow-100 text-yellow-800":le.status==="approved"?"bg-green-100 text-green-800":le.status==="rejected"?"bg-red-100 text-red-800":le.status==="appeal"?"bg-purple-100 text-purple-800":le.status==="processed"?"bg-blue-100 text-blue-800":le.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:le.status.charAt(0).toUpperCase()+le.status.slice(1)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:le.reason.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",le.requested_amount]})]}),le.approved_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",le.approved_amount]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[n.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Your Refund Details:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",le.refund_method]}),le.refund_method==="esewa"&&le.esewa_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",le.esewa_number]}),le.refund_method==="khalti"&&le.khalti_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",le.khalti_number]}),le.refund_method==="bank"&&n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Name:"})," ",le.bank_account_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",le.bank_account_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Branch:"})," ",le.bank_branch]})]})]})]}),le.customer_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Your Notes:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:le.customer_notes})]}),le.admin_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:le.admin_notes})]}),((He=le.evidence_photos)==null?void 0:He.length)>0&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:le.evidence_photos.map((Ze,dt)=>{var It;const ze=(It=Ze.filename)==null?void 0:It.match(/\.(jpg|jpeg|png|gif|webp)$/i);let Ie;return Ze.filename.startsWith("http")?Ie=Ze.filename:Ie=as(Ze.filename),n.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[ze?n.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{ae(Ie),me(!0)},children:[n.jsxs("div",{className:"relative overflow-hidden rounded",children:[n.jsx("img",{src:Ie,alt:Ze.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:Ot=>{Ot.currentTarget.src="/placeholder-image.svg",Ot.currentTarget.alt="Image not found"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:n.jsx(Sn,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):n.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(Ie,"_blank")},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),n.jsx("p",{className:"font-medium text-xs truncate",title:Ze.filename,children:Ze.filename||`Document ${dt+1}`}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ze.uploaded_by]}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ze.uploaded_at).toLocaleDateString()]})]},dt)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 border-t pt-2",children:[n.jsx("div",{children:n.jsxs("p",{children:["Requested: ",new Date(le.requested_at).toLocaleDateString()]})}),le.approved_at&&n.jsx("div",{children:n.jsxs("p",{children:["Approved: ",new Date(le.approved_at).toLocaleDateString()]})}),le.processed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Processed: ",new Date(le.processed_at).toLocaleDateString()]})}),le.completed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Completed: ",new Date(le.completed_at).toLocaleDateString()]})}),le.appeal_at&&n.jsx("div",{children:n.jsxs("p",{children:["Appealed: ",new Date(le.appeal_at).toLocaleDateString()]})})]})]})]},le.id)}))||[]]})]})}),n.jsx(Fo,{open:de,onOpenChange:me,children:n.jsxs(Da,{className:"max-w-5xl max-h-[95vh] p-4",children:[n.jsx(Fa,{className:"pb-4",children:n.jsxs($a,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),n.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:n.jsx("img",{src:ee,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:le=>{le.currentTarget.src="/placeholder-image.svg",le.currentTarget.alt="Image not found"}})}),n.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(ee,"_blank"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const le=document.createElement("a");le.href=ee,le.download="evidence-document",le.click()},children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})}const SG=[{id:1,type:"home",label:"Home",name:"John Doe",phone:"+977 9841234567",address:"123 Thamel Street, Thamel",city:"Kathmandu",landmark:"Near Durbar Square",isDefault:!0},{id:2,type:"work",label:"Office",name:"John Doe",phone:"+977 9841234567",address:"456 Lazimpat Road, Lazimpat",city:"Kathmandu",landmark:"Opposite British Embassy",isDefault:!1}],kG=e=>{switch(e){case"home":return n.jsx(eb,{className:"h-5 w-5"});case"work":return n.jsx(yD,{className:"h-5 w-5"});case"other":return n.jsx(ur,{className:"h-5 w-5"});default:return n.jsx(Kt,{className:"h-5 w-5"})}};function CG(){const e=rt(),[t,s]=j.useState(SG),r=()=>{console.log("Add new address")},i=c=>{console.log("Edit address",c)},a=c=>{s(t.filter(d=>d.id!==c))},o=c=>{s(t.map(d=>({...d,isDefault:d.id===c})))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"My Addresses"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:n.jsx(vn,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>n.jsxs(Pe,{className:"hover:shadow-md transition-shadow",children:[n.jsx(jt,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:kG(c.type)}),n.jsx("div",{children:n.jsxs(_t,{className:"text-base flex items-center gap-2",children:[c.label,c.isDefault&&n.jsx(De,{variant:"secondary",className:"text-xs",children:"Default"})]})})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:n.jsx(Yu,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:n.jsx(Ua,{className:"h-4 w-4"})})]})]})}),n.jsxs(Ae,{className:"space-y-2",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"font-medium",children:c.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.phone}),n.jsx("p",{className:"text-sm",children:c.address}),n.jsx("p",{className:"text-sm",children:c.city}),c.landmark&&n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Landmark: ",c.landmark]})]}),!c.isDefault&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full mt-3",children:"Set as Default"})]})]},c.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Kt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No addresses found"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your delivery addresses to make ordering faster"}),n.jsxs(ne,{onClick:r,children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add New Address"]})]}),t.length>0&&n.jsx(Pe,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:n.jsx(Ae,{className:"p-6 text-center",children:n.jsxs(ne,{variant:"ghost",onClick:r,className:"w-full h-16 flex flex-col items-center gap-2",children:[n.jsx(vn,{className:"h-6 w-6"}),n.jsx("span",{children:"Add New Address"})]})})})]}),n.jsx(Ds,{})]})}const EG=[{id:1,type:"card",last4:"4242",brand:"Visa",expiryMonth:12,expiryYear:2026,isDefault:!0,cardholderName:"John Doe"},{id:2,type:"card",last4:"8888",brand:"Mastercard",expiryMonth:8,expiryYear:2025,isDefault:!1,cardholderName:"John Doe"}],PG=e=>n.jsx(to,{className:"h-5 w-5"}),TG=e=>`   ${e}`;function AG(){const e=rt(),[t,s]=j.useState(EG),r=()=>{console.log("Add new payment method")},i=c=>{console.log("Edit payment method",c)},a=c=>{s(t.filter(d=>d.id!==c))},o=c=>{s(t.map(d=>({...d,isDefault:d.id===c})))};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Payment Methods"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:n.jsx(vn,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[t.length>0?t.map(c=>n.jsxs(Pe,{className:"hover:shadow-md transition-shadow",children:[n.jsx(jt,{className:"pb-3",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:PG(c.brand)}),n.jsxs("div",{children:[n.jsxs(_t,{className:"text-base flex items-center gap-2",children:[c.brand," ",TG(c.last4),c.isDefault&&n.jsx(De,{variant:"secondary",className:"text-xs",children:"Default"})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",String(c.expiryMonth).padStart(2,"0"),"/",c.expiryYear]})]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"p-2",children:n.jsx(Yu,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>a(c.id),className:"p-2 text-red-600 hover:text-red-700",children:n.jsx(Ua,{className:"h-4 w-4"})})]})]})}),n.jsxs(Ae,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(yi,{className:"h-4 w-4"}),n.jsx("span",{children:"Secured with 256-bit SSL encryption"})]}),!c.isDefault&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(c.id),className:"w-full",children:"Set as Default"})]})]},c.id)):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(to,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No payment methods"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Add a payment method to make checkout faster"}),n.jsxs(ne,{onClick:r,children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]})]}),t.length>0&&n.jsx(Pe,{className:"border-dashed border-2 hover:border-primary/50 transition-colors",children:n.jsx(Ae,{className:"p-6 text-center",children:n.jsxs(ne,{variant:"ghost",onClick:r,className:"w-full h-16 flex flex-col items-center gap-2",children:[n.jsx(vn,{className:"h-6 w-6"}),n.jsx("span",{children:"Add New Payment Method"})]})})}),n.jsx(Pe,{className:"bg-green-50 border-green-200",children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(yi,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800 text-sm",children:"Secure Payments"}),n.jsx("p",{className:"text-green-700 text-xs",children:"All payment information is encrypted and secure"})]})]})})})]}),n.jsx(Ds,{})]})}const OG=[{id:"orders",title:"Orders & Delivery",icon:ar,description:"Track orders, delivery issues, cancellations",articles:["How to track my order?","Delivery time and charges","Cancel or modify order","Refund policy"]},{id:"payment",title:"Payment & Billing",icon:cn,description:"Payment methods, billing, refunds",articles:["Payment methods accepted","Failed payment issues","Refund process","Billing disputes"]},{id:"account",title:"Account & Profile",icon:ND,description:"Account settings, profile management",articles:["Update profile information","Change password","Manage addresses","Privacy settings"]},{id:"technical",title:"Technical Support",icon:Xu,description:"App issues, login problems, bugs",articles:["App not working","Login issues","Payment errors","Report a bug"]}],RG=[{icon:Ro,title:"Live Chat",description:"Chat with our support team",action:"Start Chat",available:!0},{icon:Xu,title:"Phone Support",description:"Call us for immediate help",action:"Call Now",available:!0},{icon:PD,title:"Email Support",description:"Send us an email",action:"Send Email",available:!0}];function LG(){const e=rt(),[t,s]=j.useState(""),r=a=>{switch(a){case"Start Chat":console.log("Starting live chat");break;case"Call Now":window.open("tel:+977-1-234567");break;case"Send Email":window.open("mailto:support@kathsnap.com");break}},i=OG.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())||a.description.toLowerCase().includes(t.toLowerCase())||a.articles.some(o=>o.toLowerCase().includes(t.toLowerCase())));return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-white shadow-sm border-b",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Help & Support"}),n.jsx("div",{className:"w-10"})," "]})}),n.jsx("div",{className:"p-4 bg-white border-b",children:n.jsxs("div",{className:"relative",children:[n.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Search help articles...",value:t,onChange:a=>s(a.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"p-4 space-y-4 pb-20",children:[i.map(a=>{const o=a.icon;return n.jsxs(Pe,{className:"hover:shadow-md transition-shadow",children:[n.jsx(jt,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(o,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(_t,{className:"text-base",children:a.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]}),n.jsx(fc,{className:"h-5 w-5 text-muted-foreground"})]})}),n.jsx(Ae,{children:n.jsxs("div",{className:"space-y-2",children:[a.articles.slice(0,2).map((c,d)=>n.jsxs("div",{className:"text-sm text-muted-foreground hover:text-primary cursor-pointer",children:[" ",c]},d)),a.articles.length>2&&n.jsxs("div",{className:"text-sm text-primary font-medium cursor-pointer",children:["View all ",a.articles.length," articles"]})]})})]},a.id)}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{className:"text-base",children:"Contact Support"})}),n.jsx(Ae,{className:"space-y-3",children:RG.map((a,o)=>{const c=a.icon;return n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>r(a.action),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:n.jsx(c,{className:"h-4 w-4 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-sm",children:a.title}),n.jsx("div",{className:"text-xs text-muted-foreground",children:a.description})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[a.available&&n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx(fc,{className:"h-4 w-4 text-muted-foreground"})]})]},o)})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{className:"text-base",children:"Frequently Asked Questions"})}),n.jsxs(Ae,{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"How do I track my order?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Go to My Orders in your profile and click on any order to see its current status and tracking information."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"What are the delivery charges?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Free delivery for orders above 500. For orders below 500, a delivery fee of 40 applies."})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"font-medium text-sm",children:"How do I cancel an order?"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"You can cancel an order within 30 minutes of placement. Go to My Orders and select the cancel option."})]})]})]}),n.jsx(Pe,{className:"bg-primary/5 border-primary/20",children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ar,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-primary text-sm",children:"Support Hours"}),n.jsx("p",{className:"text-primary/80 text-xs",children:"Monday - Sunday: 6:00 AM - 10:00 PM"})]})]})})})]}),n.jsx(Ds,{})]})}const jS=()=>{var Y,K,U,B;const e=rt(),[t]=_b(),s=t.get("vendor"),[r,i]=j.useState(null),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!0),[p,y]=j.useState(1),[v,w]=j.useState(!1),[x,b]=j.useState(!1),[_,N]=j.useState(null),[C,I]=j.useState(0),k=j.useRef(null),P=j.useRef(null);j.useEffect(()=>{R(),E(),Wt.initialize(),s&&F(parseInt(s));const M=z=>{if(z.key==="newMessage"&&z.newValue){const Z=JSON.parse(z.newValue);Z.sender!==(_==null?void 0:_.username)&&Wt.notifyNewMessage(Z.sender,Z.content,Z.conversationId.toString(),"customer")}};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)},[s,_]);const R=async()=>{try{if(!await Re.getToken())return;const{response:z,data:Z}=await Be("/profile/");z.ok&&Z&&N(Z)}catch(M){console.error("Failed to fetch current user:",M)}};j.useEffect(()=>{r&&A(r.id)},[r]),j.useEffect(()=>{if(r){const M=setInterval(async()=>{const z=await Vs.getMessages(r.id);let Z=[];if(Array.isArray(z)?Z=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(Z=z.results.reverse()),Z.length>C){const W=Z.slice(C);for(const X of W)X.sender.id!==(_==null?void 0:_.id)&&await Wt.notifyNewMessage(X.sender.username,X.content||"Sent a file",r.id.toString(),"customer")}d(Z),I(Z.length)},3e3);return()=>clearInterval(M)}},[r,C,_]);const E=async(M=1,z=!1)=>{try{const{response:Z,data:W}=await Be(`messaging/conversations/?page=${M}&page_size=20`);if(!Z.ok)throw new Error("Failed to fetch conversations");let X=(W==null?void 0:W.results)||[];M===1&&(X.some(H=>{var se,Q;return((se=H.other_participant)==null?void 0:se.username)==="admin"||((Q=H.other_participant)==null?void 0:Q.id)===1})||(X=[{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}},...X])),o(z?V=>[...V,...X]:X),w(!!(W!=null&&W.next)),y(M)}catch(Z){console.error("Failed to load conversations:",Z),M===1&&o([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{u(!1),b(!1)}},T=async()=>{x||!v||(b(!0),await E(p+1,!0))},A=async M=>{try{const z=await Vs.getMessages(M);let Z=[];Array.isArray(z)?Z=z.reverse():z!=null&&z.results&&Array.isArray(z.results)&&(Z=z.results.reverse()),d(Z),I(Z.length)}catch(z){console.error("Failed to load messages:",z),d([]),I(0)}},$=async()=>{if(!(!h.trim()||!r))try{const M=await Vs.sendMessage({conversation_id:r.id,message_type:"text",content:h});d(Z=>[...Z,M.message]);const z={conversationId:r.id,sender:(_==null?void 0:_.username)||"Unknown",content:h,timestamp:new Date().toISOString()};localStorage.setItem("newMessage",JSON.stringify(z)),setTimeout(()=>localStorage.removeItem("newMessage"),100);try{await fetch("http://localhost:8000/api/broadcast/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sender:(_==null?void 0:_.username)||"Unknown",content:h,conversation_id:r.id})})}catch(Z){console.log("Cross-domain broadcast failed:",Z)}f("")}catch(M){console.error("Failed to send message:",M)}},O=async M=>{var Z;const z=(Z=M.target.files)==null?void 0:Z[0];if(!(!z||!r))try{const W=await Vs.sendMessage({conversation_id:r.id,message_type:z.type.startsWith("image/")?"image":"file",file:z});d(X=>[...X,W.message])}catch(W){console.error("Failed to send file:",W)}},F=async M=>{try{const z=await Vs.getOrCreateConversation(M);i(z)}catch(z){console.error("Failed to create conversation:",z)}},G=()=>{var M;(M=k.current)==null||M.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{G()},[c]),m?n.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{children:"Loading conversations..."})]})}):r?n.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[n.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>i(null),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsxs(Qi,{className:"h-10 w-10",children:[n.jsx(Rr,{src:as((Y=r.other_participant)==null?void 0:Y.profile_picture)}),n.jsx(Ji,{children:(U=(K=r.other_participant)==null?void 0:K.username)==null?void 0:U.charAt(0)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm",children:(B=r.other_participant)==null?void 0:B.username}),n.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map(M=>{const z=_&&M.sender.id===_.id;return n.jsx("div",{className:`w-full flex ${z?"justify-end":"justify-start"} mb-2`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${z?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[M.message_type==="text"&&n.jsx("p",{className:"text-sm",children:M.content}),M.message_type==="image"&&n.jsx("div",{className:"space-y-2",children:n.jsx("img",{src:as(M.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),M.message_type==="file"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tx,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:M.file_name})]}),n.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:new Date(M.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),z&&n.jsx("span",{className:`text-xs ${M.is_read?"text-blue-500":"text-gray-400"}`,children:M.is_read?"":""})]})]})},M.id)}),n.jsx("div",{ref:k})]}),n.jsxs("div",{className:"bg-white border-t p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{var M;return(M=P.current)==null?void 0:M.click()},children:n.jsx(Tx,{className:"h-4 w-4"})}),n.jsx(ge,{value:h,onChange:M=>f(M.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:M=>M.key==="Enter"&&$()}),n.jsx(ne,{onClick:$,disabled:!h.trim(),children:n.jsx(yE,{className:"h-4 w-4"})})]}),n.jsx("input",{ref:P,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:O,className:"hidden"})]})]}):n.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})]})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[a.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(nb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No conversations yet"}),n.jsx("p",{className:"text-sm",children:"Start messaging with vendors!"})]}):a.map((M,z)=>{var Z,W,X,V,H,se;return n.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{M.id===0?F(1):i(M)},children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Qi,{className:"h-12 w-12",children:[n.jsx(Rr,{src:as((Z=M.other_participant)==null?void 0:Z.profile_picture)}),n.jsx(Ji,{children:(X=(W=M.other_participant)==null?void 0:W.username)==null?void 0:X.charAt(0)})]}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-sm truncate",children:(V=M.other_participant)==null?void 0:V.username}),n.jsx("span",{className:"text-xs text-gray-500",children:M.last_message?new Date(M.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:((H=M.last_message)==null?void 0:H.content)||((se=M.last_message)==null?void 0:se.file_name)||"Start conversation"})]}),M.unread_count>0&&n.jsx(De,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:M.unread_count})]},M.id)}),v&&n.jsx("div",{className:"p-4 text-center",children:n.jsx(ne,{onClick:T,disabled:x,variant:"outline",className:"w-full",children:x?"Loading...":"Load More Conversations"})})]})]})},Cy=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3},MG=()=>{const e=27.6398805,t=85.3303725,s=27.66424179701499,r=85.3465231243003,i=Cy(e,t,s,r);console.log(` Your coordinates test: ${i.toFixed(3)} km (Google shows: 5.1 km)`);const a={lat:40.7128,lon:-74.006},o={lat:34.0522,lon:-118.2437},c=Cy(a.lat,a.lon,o.lat,o.lon);console.log(`Test: NYC to LA = ${c.toFixed(2)} km (Google: ~3944 km)`),console.log(` Verify on Google Maps: https://www.google.com/maps/dir/${e},${t}/${s},${r}`)};function IG(){const e=rt(),{categoryName:t}=fp(),[s,r]=j.useState({products:[]}),[i,a]=j.useState(!1),[o,c]=j.useState(xt.getLocation()),[d,h]=j.useState({page:1,hasMore:!0}),[f,m]=j.useState(new Set),[u,p]=j.useState(!1),[y,v]=j.useState(""),{addToCart:w}=fr(),{toast:x}=un(),b=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const E=xt.subscribe(c);return xt.startTracking(),MG(),_(),k(),E},[t]),j.useEffect(()=>{_(1)},[y,t]),j.useEffect(()=>{o&&(console.log(" Location updated, refetching data:",o),_(1))},[o]);const _=async(E=1)=>{a(!0);try{const T=localStorage.getItem("token"),A=T?{Authorization:`Token ${T}`}:{},$=xt.getLocation();console.log(" Frontend location check:",{userLocation:o,currentLocation:$});const O=new URLSearchParams({page:E.toString(),page_size:"100"});$?(O.append("latitude",$.latitude.toString()),O.append("longitude",$.longitude.toString()),console.log(" Sending location to API:",$)):console.log(" No location available for API call");const G=await(await fetch(`${st}search/products/?${O}`,{headers:A})).json(),Y=N(G.results||[]);r(E===1?{products:Y}:B=>({products:[...B.products,...Y]}));const U=(G.results||[]).filter(B=>B.category&&B.category.toLowerCase()===t.toLowerCase()).length;h({page:E,hasMore:G.next!==null&&U>=10})}catch(T){console.error("Fetch error:",T)}finally{a(!1)}},N=E=>{const T=xt.getLocation();let $=E.filter(O=>O.category&&O.category.toLowerCase()===t.toLowerCase()).map(O=>{var K,U;const F=((K=O.images)==null?void 0:K.find(B=>B.is_primary))||((U=O.images)==null?void 0:U[0]);let G="N/A",Y=1/0;return T&&O.vendor_latitude&&O.vendor_longitude&&(Y=Cy(T.latitude,T.longitude,O.vendor_latitude,O.vendor_longitude),G=`${Y.toFixed(1)} km`),{id:O.id,name:O.name,vendor:O.vendor_name||"Unknown Vendor",price:`${O.price}`,priceValue:parseFloat(O.price),image:(F==null?void 0:F.image_url)||"/placeholder-product.jpg",rating:4.5,distance:G,distanceValue:Y,deliveryTime:"30-45 mins",inStock:O.quantity>0,category:O.category}});return y==="price_low"?$.sort((O,F)=>O.priceValue-F.priceValue):y==="price_high"?$.sort((O,F)=>F.priceValue-O.priceValue):$.sort((O,F)=>O.distanceValue-F.distanceValue),$},C=()=>{!i&&d.hasMore&&_(d.page+1)},I=E=>{e(`/product/${E}`)},k=async()=>{var T;const E=localStorage.getItem("token");if(E)try{const A=await fetch(`${st}favorites/`,{headers:{Authorization:`Token ${E}`}});if(A.ok){const $=await A.json(),O=new Set(((T=$.results)==null?void 0:T.map(F=>F.product.id))||[]);m(O)}}catch(A){console.error("Failed to fetch favorites:",A)}},P=async(E,T)=>{T.stopPropagation();const A=localStorage.getItem("token");if(!A){x({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const $=await fetch(`${st}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${A}`},body:JSON.stringify({product_id:E})});if($.ok){const O=await $.json(),F=new Set(f);O.is_favorite?F.add(E):F.delete(E),m(F),x({title:O.is_favorite?"Added to Favorites":"Removed from Favorites",description:O.message})}}catch{x({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},R=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.products.map(E=>n.jsxs(Pe,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>I(E.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:E.image,alt:E.name,className:"w-full h-full object-cover",onError:T=>{T.target.src="/placeholder-product.jpg"}}),n.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:T=>P(E.id,T),children:n.jsx(ur,{className:`h-4 w-4 ${f.has(E.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(De,{variant:E.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:E.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(Ae,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:E.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:E.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:E.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:E.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:E.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:E.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!E.inStock,onClick:T=>{T.stopPropagation(),w(E.id,1)},children:[n.jsx(Is,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!E.inStock,onClick:T=>{T.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:E.id,name:E.name,price:E.price.replace("",""),quantity:1,vendor_name:E.vendor,images:[{image_url:E.image}]}}})},children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},E.id))}),d.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(ne,{onClick:C,disabled:i,variant:"outline",children:[i?n.jsx(Bn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:t}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.products.length," products found"]})]}),n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>p(!0),children:n.jsx(ji,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[s.products.length>0&&n.jsx("div",{className:"mb-6",children:R()}),s.products.length===0&&!i&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No products found"}),n.jsxs("p",{className:"text-muted-foreground",children:["No products available in ",t," category"]})]}),i&&s.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),u&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>p(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:E=>E.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>p(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:b.map(E=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:E.value,checked:y===E.value,onChange:T=>v(T.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:E.label})]},E.value))})]}),n.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{v("")},children:"Clear All Filters"})]})]})}),n.jsx(Ds,{})]})}const DG=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function FG(){const e=rt(),[t,s]=j.useState({products:[]}),[r,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,y]=j.useState(""),{addToCart:v}=fr(),{toast:w}=un(),x=[{value:"",label:"Default"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const R=xt.subscribe(o);return b(),I(),R},[]),j.useEffect(()=>{b(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),b(1))},[a]);const b=async(R=1)=>{i(!0);try{const E=localStorage.getItem("token"),T=E?{Authorization:`Token ${E}`}:{},A=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:A});const $=new URLSearchParams({page:R.toString(),page_size:"20"});A?($.append("latitude",A.latitude.toString()),$.append("longitude",A.longitude.toString()),console.log(" Sending location to API:",A)):console.log(" No location available for API call");const F=await(await fetch(`${st}search/products/?${$}`,{headers:T})).json(),G=_(F.results||[]);s(R===1?{products:G}:Y=>({products:[...Y.products,...G]})),d({page:R,hasMore:F.next!==null})}catch(E){console.error("Fetch error:",E)}finally{i(!1)}},_=R=>{const E=xt.getLocation();let A=R.filter($=>$.featured===!0).map($=>{var Y,K;const O=((Y=$.images)==null?void 0:Y.find(U=>U.is_primary))||((K=$.images)==null?void 0:K[0]);let F="N/A",G=1/0;return E&&$.vendor_latitude&&$.vendor_longitude&&(G=DG(E.latitude,E.longitude,$.vendor_latitude,$.vendor_longitude),F=`${G.toFixed(1)} km`),{id:$.id,name:$.name,vendor:$.vendor_name||"Unknown Vendor",distance:F,distanceValue:G,rating:4.5,price:`${$.price}`,priceValue:parseFloat($.price),image:(O==null?void 0:O.image_url)||"/placeholder-product.jpg",inStock:$.quantity>0,category:$.category,featured:$.featured}});return p==="price_low"?A.sort(($,O)=>$.priceValue-O.priceValue):p==="price_high"?A.sort(($,O)=>O.priceValue-$.priceValue):A.sort(($,O)=>$.distanceValue-O.distanceValue),A},N=()=>{!r&&c.hasMore&&b(c.page+1)},C=R=>{e(`/product/${R}`)},I=async()=>{var E;const R=localStorage.getItem("token");if(R)try{const T=await fetch(`${st}favorites/`,{headers:{Authorization:`Token ${R}`}});if(T.ok){const A=await T.json(),$=new Set(((E=A.results)==null?void 0:E.map(O=>O.product.id))||[]);f($)}}catch(T){console.error("Failed to fetch favorites:",T)}},k=async(R,E)=>{E.stopPropagation();const T=localStorage.getItem("token");if(!T){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const A=await fetch(`${st}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${T}`},body:JSON.stringify({product_id:R})});if(A.ok){const $=await A.json(),O=new Set(h);$.is_favorite?O.add(R):O.delete(R),f(O),w({title:$.is_favorite?"Added to Favorites":"Removed from Favorites",description:$.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},P=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(R=>n.jsxs(Pe,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>C(R.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover",onError:E=>{E.target.src="/placeholder-product.jpg"}}),n.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:E=>k(R.id,E),children:n.jsx(ur,{className:`h-4 w-4 ${h.has(R.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(De,{variant:R.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:R.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(Ae,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:R.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:R.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:R.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:R.distance})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-bold text-primary text-sm",children:R.price}),n.jsx("span",{className:"text-xs text-muted-foreground",children:R.deliveryTime})]})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!R.inStock,onClick:E=>{E.stopPropagation(),v(R.id,1)},children:[n.jsx(Is,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!R.inStock,onClick:E=>{E.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:R.id,name:R.name,price:R.price.replace("",""),quantity:1,vendor_name:R.vendor,images:[{image_url:R.image}]}}})},children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},R.id))}),c.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(ne,{onClick:N,disabled:r,variant:"outline",children:[r?n.jsx(Bn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:"Featured Products"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:n.jsx(ji,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&n.jsx("div",{className:"mb-6",children:P()}),t.products.length===0&&!r&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No featured products"}),n.jsx("p",{className:"text-muted-foreground",children:"Featured products will appear here when available"})]}),r&&t.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:R=>R.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:x.map(R=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:R.value,checked:p===R.value,onChange:E=>y(E.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:R.label})]},R.value))})]}),n.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{y("")},children:"Clear All Filters"})]})]})}),n.jsx(Ds,{})]})}const $G=(e,t,s,r)=>{const i=parseFloat(e),a=parseFloat(t),o=parseFloat(s),c=parseFloat(r),d=6371e3,h=w=>w*(Math.PI/180),f=h(o-i),m=h(c-a),u=h(i),p=h(o),y=Math.sin(f/2)*Math.sin(f/2)+Math.cos(u)*Math.cos(p)*Math.sin(m/2)*Math.sin(m/2),v=2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y));return d*v/1e3};function zG(){const e=rt(),[t,s]=j.useState({products:[]}),[r,i]=j.useState(!1),[a,o]=j.useState(xt.getLocation()),[c,d]=j.useState({page:1,hasMore:!0}),[h,f]=j.useState(new Set),[m,u]=j.useState(!1),[p,y]=j.useState(""),{addToCart:v}=fr(),{toast:w}=un(),x=[{value:"",label:"Default (Rating)"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"}];j.useEffect(()=>{const R=xt.subscribe(o);return b(),I(),R},[]),j.useEffect(()=>{b(1)},[p]),j.useEffect(()=>{a&&(console.log(" Location updated, refetching data:",a),b(1))},[a]);const b=async(R=1)=>{i(!0);try{const E=localStorage.getItem("token"),T=E?{Authorization:`Token ${E}`,"ngrok-skip-browser-warning":"true"}:{"ngrok-skip-browser-warning":"true"},A=xt.getLocation();console.log(" Frontend location check:",{userLocation:a,currentLocation:A});const $=new URLSearchParams({page:R.toString(),page_size:"20"});A?($.append("latitude",A.latitude.toString()),$.append("longitude",A.longitude.toString()),console.log(" Sending location to API:",A)):console.log(" No location available for API call");const F=await(await fetch(`${st}search/products/?${$}`,{headers:T})).json(),G=_(F.results||[]);s(R===1?{products:G}:Y=>({products:[...Y.products,...G]})),d({page:R,hasMore:F.next!==null})}catch(E){console.error("Fetch error:",E)}finally{i(!1)}},_=R=>{const E=xt.getLocation();let T=R.map(A=>{var G,Y;const $=((G=A.images)==null?void 0:G.find(K=>K.is_primary))||((Y=A.images)==null?void 0:Y[0]);let O="N/A",F=1/0;return E&&A.vendor_latitude&&A.vendor_longitude&&(F=$G(E.latitude,E.longitude,A.vendor_latitude,A.vendor_longitude),O=`${F.toFixed(1)} km`),{id:A.id,name:A.name,vendor:A.vendor_name||"Unknown Vendor",distance:O,distanceValue:F,rating:4.5,price:`${A.price}`,priceValue:parseFloat(A.price),image:($==null?void 0:$.image_url)||"/placeholder-product.jpg",inStock:A.quantity>0,category:A.category}});return p==="price_low"?T.sort((A,$)=>A.priceValue-$.priceValue):p==="price_high"?T.sort((A,$)=>$.priceValue-A.priceValue):T.sort((A,$)=>$.rating-A.rating),T},N=()=>{!r&&c.hasMore&&b(c.page+1)},C=R=>{e(`/product/${R}`)},I=async()=>{var E;const R=localStorage.getItem("token");if(R)try{const T=await fetch(`${st}favorites/`,{headers:{Authorization:`Token ${R}`}});if(T.ok){const A=await T.json(),$=new Set(((E=A.results)==null?void 0:E.map(O=>O.product.id))||[]);f($)}}catch(T){console.error("Failed to fetch favorites:",T)}},k=async(R,E)=>{E.stopPropagation();const T=localStorage.getItem("token");if(!T){w({title:"Login Required",description:"Please login to add favorites",variant:"destructive"});return}try{const A=await fetch(`${st}favorites/toggle/`,{method:"POST",headers:{Authorization:`Token ${T}`},body:JSON.stringify({product_id:R})});if(A.ok){const $=await A.json(),O=new Set(h);$.is_favorite?O.add(R):O.delete(R),f(O),w({title:$.is_favorite?"Added to Favorites":"Removed from Favorites",description:$.message})}}catch{w({title:"Error",description:"Failed to update favorites",variant:"destructive"})}},P=()=>n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.products.map(R=>n.jsxs(Pe,{className:"overflow-hidden",children:[n.jsxs("div",{className:"cursor-pointer",onClick:()=>C(R.id),children:[n.jsxs("div",{className:"aspect-square relative",children:[n.jsx("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover",onError:E=>{E.target.src="/placeholder-product.jpg"}}),n.jsx(ne,{variant:"ghost",size:"sm",className:"absolute top-2 left-2 p-1 h-8 w-8 bg-white/80 hover:bg-white rounded-full shadow-sm",onClick:E=>k(R.id,E),children:n.jsx(ur,{className:`h-4 w-4 ${h.has(R.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),n.jsx(De,{variant:R.inStock?"default":"destructive",className:"absolute top-2 right-2 text-xs",children:R.inStock?"In Stock":"Out of Stock"})]}),n.jsxs(Ae,{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm mb-1 line-clamp-2",children:R.name}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:R.vendor}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-2",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:R.rating})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{children:R.distance})]})]}),n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("span",{className:"font-bold text-primary text-sm",children:R.price})})]})]}),n.jsxs("div",{className:"px-3 pb-3 flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"flex-1 h-8 text-xs",disabled:!R.inStock,onClick:E=>{E.stopPropagation(),v(R.id,1)},children:[n.jsx(Is,{className:"h-3 w-3 mr-1"}),"Cart"]}),n.jsxs(ne,{size:"sm",className:"flex-1 h-8 text-xs bg-green-600 hover:bg-green-700",disabled:!R.inStock,onClick:E=>{E.stopPropagation(),e("/checkout",{state:{directBuy:!0,product:{id:R.id,name:R.name,price:R.price.replace("",""),quantity:1,vendor_name:R.vendor,images:[{image_url:R.image}]}}})},children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Buy"]})]})]},R.id))}),c.hasMore&&n.jsx("div",{className:"text-center py-4",children:n.jsxs(ne,{onClick:N,disabled:r,variant:"outline",children:[r?n.jsx(Bn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Load More Products"]})})]});return n.jsxs("div",{className:"min-h-screen bg-background",children:[n.jsx("div",{className:"sticky top-0 z-50 bg-card/95 backdrop-blur-sm border-b border-border/50",children:n.jsxs("div",{className:"flex items-center gap-3 p-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/home"),className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:"Trending Products"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.products.length," products found"]})]}),n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>u(!0),children:n.jsx(ji,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"p-4 pb-20",children:[t.products.length>0&&n.jsx("div",{className:"mb-6",children:P()}),t.products.length===0&&!r&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No trending products"}),n.jsx("p",{className:"text-muted-foreground",children:"Trending products will appear here when available"})]}),r&&t.products.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})]}),m&&n.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>u(!1),children:n.jsxs("div",{className:"fixed right-0 top-0 h-full w-[55%] bg-white shadow-lg transform transition-transform duration-300",onClick:R=>R.stopPropagation(),children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Filters"}),n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:""})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-3",children:"Sort By"}),n.jsx("div",{className:"space-y-2",children:x.map(R=>n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"sort",value:R.value,checked:p===R.value,onChange:E=>y(E.target.value),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:R.label})]},R.value))})]}),n.jsx(ne,{variant:"outline",className:"w-full",onClick:()=>{y("")},children:"Clear All Filters"})]})]})}),n.jsx(Ds,{})]})}function BG(){const e=rt(),t=hr(),{login:s}=ra(),[r,i]=j.useState("password"),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,y]=j.useState(!1),[v,w]=j.useState(!1),[x,b]=j.useState(!1),[_,N]=j.useState(""),[C,I]=j.useState(""),[k,P]=j.useState(!1),[R,E]=j.useState(null);j.useEffect(()=>{var G;(G=t.state)!=null&&G.successMessage&&(I(t.state.successMessage),window.history.replaceState({},document.title))},[t.state]);const T=async()=>{var G;b(!0),N("");try{await Re.clearAuth();const{response:Y,data:K}=await Be("/login/",{method:"POST",body:JSON.stringify({username:a,password:c})},!1);if(!Y.ok)throw new Error((K==null?void 0:K.error)||"Login failed");if(K.needs_verification)P(!0),E(K.user_id),w(!0),N("Email not verified. Please verify your email with the OTP sent.");else{const U={...K.user||{id:K.user_id,email:a,user_type:"vendor"},available_roles:K.available_roles||["vendor"],user_type:K.user.user_type||"vendor"};await s(U,K.token);const{simplePersistentAuth:B}=await Je(async()=>{const{simplePersistentAuth:M}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:M}},[]);await B.saveVendorLogin(K.token,U),console.log("Login response:",K),console.log("profile_exists:",K.profile_exists,"is_approved:",K.is_approved),K.profile_exists?K.profile_exists&&K.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):K.profile_exists&&K.is_rejected?(console.log("Profile exists but rejected"),e("/vendor/rejection",{state:{rejectionReason:K.rejection_reason,rejectionDate:K.rejection_date}})):K.profile_exists&&!K.is_approved&&(console.log("Profile exists but not approved"),N("Your vendor application is pending approval. You will be notified once approved."),await Re.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}}catch(Y){console.error("Vendor login error:",Y),(G=Y.message)!=null&&G.includes("fetch")?N("Connection failed. Please check if the server is running on localhost:8000"):N(Y.message||"Login failed. Please try again.")}finally{b(!1)}},A=async()=>{b(!0),N("");try{const{response:G,data:Y}=await Be("/send-otp/",{method:"POST",body:JSON.stringify({email:a})},!1);if(!G.ok)throw new Error((Y==null?void 0:Y.error)||"Failed to send OTP");w(!0),N("OTP sent successfully")}catch(G){N(G.message)}finally{b(!1)}},$=async()=>{b(!0),N("");try{const{response:G,data:Y}=await Be("/verify-otp/",{method:"POST",body:JSON.stringify({email:a,otp:h})},!1);if(!G.ok)throw new Error((Y==null?void 0:Y.error)||"OTP verification failed");const K={...Y.user||{id:Y.user_id,email:a,user_type:"vendor"},available_roles:Y.available_roles||["vendor"],user_type:Y.user.user_type||"vendor"};await s(K,Y.token);const{simplePersistentAuth:U}=await Je(async()=>{const{simplePersistentAuth:B}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:B}},[]);await U.saveVendorLogin(Y.token,K),console.log("OTP verification response:",Y),console.log("profile_exists:",Y.profile_exists,"is_approved:",Y.is_approved),Y.profile_exists?Y.profile_exists&&Y.is_approved?(console.log("Profile exists and approved, redirecting to dashboard"),e("/vendor/dashboard")):Y.profile_exists&&Y.is_rejected?(console.log("Profile exists but rejected"),e("/vendor/rejection",{state:{rejectionReason:Y.rejection_reason,rejectionDate:Y.rejection_date}})):Y.profile_exists&&!Y.is_approved&&(console.log("Profile exists but not approved"),N("Your vendor application is pending approval. You will be notified once approved."),await Re.clearAuth()):(console.log("No profile exists, redirecting to onboarding"),e("/vendor/onboarding"))}catch(G){console.error("Vendor OTP verification error:",G),N(G.message||"OTP verification failed. Please try again.")}finally{b(!1)}},O=async()=>{b(!0),N("");try{const{response:G,data:Y}=await Be("/update-email/",{method:"POST",body:JSON.stringify({email:m,user_id:R})},!1);if(!G.ok)throw new Error((Y==null?void 0:Y.error)||"Failed to update email");o(m),u(""),w(!0),N("Email updated. OTP sent to new email.")}catch(G){N(G.message)}finally{b(!1)}},F=()=>{e("/vendor/signup")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4 relative",children:[n.jsx(PP,{currentType:"vendor"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsx("div",{className:"w-full max-w-80 mx-auto px-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-16 h-16 mx-auto mb-6"})}),n.jsx("div",{className:"text-center mb-4",children:n.jsx("span",{className:"text-sm font-medium text-gray-700 bg-blue-50 px-3 py-1 rounded-full",children:"Vendor Login"})}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"flex space-x-8",children:[n.jsx("button",{onClick:()=>i("password"),className:`pb-2 text-sm font-medium transition-colors ${r==="password"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Password"}),n.jsx("button",{onClick:()=>i("otp"),className:`pb-2 text-sm font-medium transition-colors ${r==="otp"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"OTP"})]})}),r==="password"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:a,onChange:G=>o(G.target.value),placeholder:"Username or Email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),!k&&n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:p?"text":"password",value:c,onChange:G=>d(G.target.value),placeholder:"Password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),C&&n.jsx("p",{className:"text-green-600 text-center",children:C}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),k&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(ge,{type:"email",value:m,onChange:G=>u(G.target.value),placeholder:"Update email if incorrect",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(ne,{onClick:O,disabled:!m||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Updating...":"Update Email and Resend OTP"}),n.jsx(ge,{type:"text",value:h,onChange:G=>f(G.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),n.jsx(ne,{onClick:$,disabled:h.length!==6||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Verifying...":"Verify OTP"}),n.jsx("button",{onClick:A,disabled:x,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}),!k&&n.jsx(ne,{onClick:T,disabled:!a||!c||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Logging in...":"Login"})]}),r==="otp"&&n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"email",value:a,onChange:G=>o(G.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),v?n.jsxs(n.Fragment,{children:[n.jsx(ge,{type:"text",value:h,onChange:G=>f(G.target.value),placeholder:"Enter OTP",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center tracking-widest w-80"}),C&&n.jsx("p",{className:"text-green-600 text-center",children:C}),_&&n.jsx("p",{className:"text-red-600 text-center",children:_}),n.jsx(ne,{onClick:$,disabled:h.length!==6||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Verifying...":"Verify & Login"}),n.jsx("button",{onClick:A,disabled:x,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend OTP"})]}):n.jsx(ne,{onClick:A,disabled:!a||x,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:x?"Sending...":"Send OTP"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:F,className:"text-blue-600 hover:text-blue-700 text-sm",children:"Don't have an account? Sign up"})})]})})})]})}function VG(){const e=rt(),[t,s]=j.useState(1),[r,i]=j.useState(""),[a,o]=j.useState(""),[c,d]=j.useState(""),[h,f]=j.useState(""),[m,u]=j.useState(""),[p,y]=j.useState(!1),[v,w]=j.useState(!1),[x,b]=j.useState(""),_=async()=>{var P,R,E;w(!0),b("");try{const T=await fetch(st+"register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,email:r,password:c,user_type:"vendor"})}),A=await T.json();if(!T.ok){const $=((P=A.username)==null?void 0:P[0])||((R=A.email)==null?void 0:R[0])||A.message||((E=Object.values(A)[0])==null?void 0:E[0])||"Failed to register";throw new Error($)}s(2)}catch(T){b(T.message)}finally{w(!1)}},N=async P=>{w(!0),b("");try{const R=await fetch(st+"verify-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,otp:P})}),E=await R.json();if(!R.ok)throw new Error(E.error||"Verification failed");localStorage.setItem("token",E.token),e("/vendor/onboarding")}catch(R){b(R.message)}finally{w(!1)}},C=P=>{u(P),P.length===6&&N(P)},I=async()=>{w(!0),b("");try{const P=await fetch(st+"send-otp/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})}),R=await P.json();if(!P.ok)throw new Error(R.error||"Failed to resend OTP");b("OTP resent successfully")}catch(P){b(P.message)}finally{w(!1)}},k=()=>{e("/vendor/login")};return n.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:[n.jsx("button",{onClick:k,className:"absolute top-4 left-4 text-gray-600 hover:text-gray-800 transition-colors",children:" Back"}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:n.jsxs("div",{className:"w-full max-w-80 mx-auto px-4",children:[t===1&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Join as Seller"})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"email",value:r,onChange:P=>i(P.target.value),placeholder:"Enter your email",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsx(ge,{type:"text",value:a,onChange:P=>o(P.target.value),placeholder:"Choose username",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:p?"text":"password",value:c,onChange:P=>d(P.target.value),placeholder:"Create password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 pr-10 w-80"}),n.jsx("button",{type:"button",onClick:()=>y(!p),className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"}):n.jsxs(n.Fragment,{children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),n.jsx(ge,{type:"password",value:h,onChange:P=>f(P.target.value),placeholder:"Confirm password",className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 w-80"}),x&&n.jsx("p",{className:"text-red-600 text-center",children:x}),n.jsx(ne,{onClick:_,disabled:!r||!a||!c||!h||c!==h||v,className:"w-80 mx-auto bg-blue-600 hover:bg-blue-700",children:v?"Creating Account...":"Join as Seller"})]})]}),t===2&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:Wa,alt:"ezeyway",className:"w-24 h-24 mx-auto mb-4"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verify Email"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:["Code sent to ",r]})]}),n.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[n.jsx(ge,{type:"text",value:m,onChange:P=>C(P.target.value),placeholder:"Enter 6-digit code",maxLength:6,className:"bg-white border-0 shadow-sm focus:ring-2 focus:ring-blue-500 text-center text-lg tracking-widest w-80"}),v&&n.jsx("div",{className:"text-center text-blue-600",children:"Verifying..."}),x&&n.jsx("p",{className:"text-red-600 text-center",children:x}),n.jsx("button",{onClick:()=>s(1),className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Change details"}),n.jsx("button",{onClick:I,disabled:v,className:"w-80 mx-auto block text-blue-600 hover:text-blue-700 text-sm",children:"Resend code"})]})]})]})})]})}const UG=_w.divIcon({className:"custom-marker",html:'<div style="background-color: #ff0000; width: 20px; height: 20px; border-radius: 50%; border: 2px solid #fff; box-shadow: 0 0 5px rgba(0,0,0,0.5);"></div>',iconSize:[20,20],iconAnchor:[10,10]});function qG(){var A,$;const e=rt(),s=(A=hr().state)==null?void 0:A.isUpdate,[r,i]=j.useState(0),[a,o]=j.useState({location:{lat:27.7172,lng:85.324,address:""},shopName:"",ownerName:"",phone:"",email:"",shopAddress:"",city:"",state:"",pincode:"",shopRegDoc:null,citizenshipFront:null,citizenshipBack:null,shopImages:[],existingDocuments:{panReg:null,citizenshipFront:null,citizenshipBack:null},existingShopImages:[],bankAccount:"",accountHolderName:"",bankName:"",ifscCode:"",gstNumber:"",panNumber:"",deliveryRadius:"",minOrderAmount:"",vendorType:"",categories:[],description:""}),[c,d]=j.useState(""),[h,f]=j.useState(!1),[m,u]=j.useState(""),[p,y]=j.useState(""),[v,w]=j.useState([]),x=["Location","Shop Info","Address","Documents","Shop Images","Payment","Business Type","Categories","Review"],b=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}];j.useEffect(()=>{const O=async()=>{try{const G=await fetch(st+"categories/"),Y=await G.json();G.ok&&w(Y.categories.map(K=>K.name))}catch(G){console.error("Error fetching categories:",G)}},F=async()=>{if(s)try{const G=localStorage.getItem("token"),Y=await fetch(st+"vendor-profiles/",{headers:{Authorization:`Token ${G}`}});if(Y.ok){const K=await Y.json(),U=K.results&&K.results.length>0?K.results[0]:null;U&&o(B=>{var M,z,Z,W;return{...B,shopName:U.business_name||"",ownerName:U.owner_name||"",phone:U.business_phone||"",email:U.business_email||"",shopAddress:U.business_address||"",city:U.city||"",state:U.state||"",pincode:U.pincode||"",panNumber:U.pan_number||"",gstNumber:U.gst_number||"",bankAccount:U.account_number||"",accountHolderName:U.account_holder_name||"",bankName:U.bank_name||"",ifscCode:U.ifsc_code||"",deliveryRadius:U.delivery_radius||"",minOrderAmount:U.min_order_amount||"",vendorType:U.business_type||"",categories:U.categories||[],description:U.description||"",location:{lat:U.latitude||27.7172,lng:U.longitude||85.324,address:U.location_address||""},existingDocuments:{panReg:U.business_license_file_url||null,citizenshipFront:((z=(M=U.documents)==null?void 0:M.find(X=>{var V;return(V=X.document_url)==null?void 0:V.includes("citizenship_front")}))==null?void 0:z.document_url)||null,citizenshipBack:((W=(Z=U.documents)==null?void 0:Z.find(X=>{var V;return(V=X.document_url)==null?void 0:V.includes("citizenship_back")}))==null?void 0:W.document_url)||null},existingShopImages:U.shop_images||[]}})}}catch(G){console.error("Error fetching profile:",G)}};O(),F()},[s]);const _=({lat:O,lng:F})=>(bR().setView([O,F],13),null),N=()=>(wR({click(O){const{lat:F,lng:G}=O.latlng;o(Y=>({...Y,location:{...Y.location,lat:F,lng:G}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${F}&lon=${G}`).then(Y=>Y.json()).then(Y=>{Y.display_name&&o(K=>({...K,location:{...K.location,address:Y.display_name}}))}).catch(Y=>console.error("Error fetching address:",Y))}}),null),C=()=>{d(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(O=>{const{latitude:F,longitude:G}=O.coords;o(Y=>({...Y,location:{...Y.location,lat:F,lng:G}})),fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${F}&lon=${G}`).then(Y=>Y.json()).then(Y=>{Y.display_name&&o(K=>({...K,location:{...K.location,address:Y.display_name}}))}).catch(Y=>{console.error("Error fetching address:",Y),d("Unable to fetch address for this location.")})},O=>{switch(console.error("Geolocation error:",O),O.code){case O.PERMISSION_DENIED:d("Location access denied. Please allow location permissions.");break;case O.POSITION_UNAVAILABLE:d("Location information is unavailable.");break;case O.TIMEOUT:d("The request to get your location timed out.");break;default:d("An unknown error occurred while fetching your location.");break}}):d("Geolocation is not supported by your browser.")},I=()=>{const O=[{field:"shopName",label:"Shop Name"},{field:"ownerName",label:"Owner Name"},{field:"email",label:"Email"},{field:"phone",label:"Phone"},{field:"panNumber",label:"PAN Number"},{field:"shopAddress",label:"Shop Address"},{field:"city",label:"City"},{field:"state",label:"State"},{field:"pincode",label:"PIN Code"},{field:"vendorType",label:"Business Type"}];for(const{field:G,label:Y}of O)if(!a[G])return u(`${Y} is required.`),!1;return a.location.address?a.shopImages.length+(s?a.existingShopImages.length:0)<4?(u("Please ensure you have at least 4 shop images total."),!1):a.panNumber.length!==9?(u("PAN number must be exactly 9 characters."),!1):!0:(u("Location address is required."),!1)},k=()=>{switch(u(""),r){case 0:if(!a.location.address)return u("Please select a location."),!1;break;case 1:if(!a.shopName||!a.ownerName||!a.phone||!a.email||!a.panNumber)return u("Please fill in all required shop information including PAN number."),!1;if(a.panNumber.length!==9)return u("PAN number must be exactly 9 characters."),!1;break;case 2:if(!a.shopAddress||!a.city||!a.state||!a.pincode)return u("Please fill in all address fields."),!1;break;case 4:if(a.shopImages.length+(s?a.existingShopImages.length:0)<4)return u("Please ensure you have at least 4 shop images total."),!1;break;case 6:if(!a.vendorType)return u("Please select a business type."),!1;break;case 7:if(a.categories.length===0)return u("Please select at least one category."),!1;break}return!0},P=async()=>{if(r<x.length-1)k()&&i(r+1);else{if(console.log("Starting form submission..."),!I()){console.log("Validation failed:",m);return}f(!0),u(""),y("");const O=new FormData;O.append("business_name",a.shopName),O.append("owner_name",a.ownerName),O.append("business_email",a.email),O.append("business_phone",a.phone),O.append("business_address",a.shopAddress),O.append("location_address",a.location.address),O.append("city",a.city),O.append("state",a.state),O.append("pincode",a.pincode),O.append("latitude",a.location.lat.toString()),O.append("longitude",a.location.lng.toString()),O.append("business_type",a.vendorType),O.append("categories",JSON.stringify(a.categories)),O.append("description",a.description||""),O.append("account_number",a.bankAccount||""),O.append("account_holder_name",a.accountHolderName||""),O.append("bank_name",a.bankName||""),O.append("ifsc_code",a.ifscCode||""),O.append("gst_number",a.gstNumber||""),O.append("pan_number",a.panNumber||""),O.append("delivery_radius",a.deliveryRadius||""),O.append("min_order_amount",a.minOrderAmount||""),a.shopRegDoc&&O.append("business_license_file",a.shopRegDoc),a.citizenshipFront&&O.append("citizenship_front",a.citizenshipFront),a.citizenshipBack&&O.append("citizenship_back",a.citizenshipBack),a.shopImages.length>0&&a.shopImages.forEach((F,G)=>{O.append(`shop_image_${G}`,F)});try{const F=localStorage.getItem("token");console.log(s?"Updating vendor profile...":"Submitting complete vendor onboarding...");const Y=await fetch(st+"complete-onboarding/",{method:"POST",headers:{Authorization:`Token ${F}`},body:O}),K=await Y.json();if(console.log("Complete onboarding response:",Y.status,K),!Y.ok){let U="Failed to submit vendor application.";if(K.detail)U=K.detail;else if(K.error)U=K.error;else if(K.user)U=K.user;else if(typeof K=="object"){const B=Object.entries(K).map(([M,z])=>`${M}: ${Array.isArray(z)?z.join(", "):z}`).join("; ");B&&(U=B)}u(U),console.error("Complete onboarding failed:",K);return}console.log(s?"Vendor profile updated successfully":"Vendor onboarding completed successfully"),K.is_approved?(y(s?"Profile updated and approved successfully!":"Vendor profile submitted and approved successfully!"),console.log("Vendor approved. Navigating to dashboard..."),setTimeout(()=>{e("/vendor/dashboard")},3e3)):(y(s?"Your profile has been updated successfully and is pending approval. You will be notified once approved by the admin.":"Your vendor application has been submitted successfully and is pending approval. You will be notified once approved by the admin."),console.log("Vendor not approved yet. Redirecting to login page."),setTimeout(()=>{e("/vendor/login",{state:{successMessage:s?"Profile updated successfully! Pending admin approval.":"Application submitted successfully! Pending admin approval."}})},3e3))}catch(F){console.error("Submission error:",F),u("An unexpected error occurred. Please try again.")}finally{f(!1)}}},R=()=>{r>0&&i(r-1)},E=(O,F)=>{o(G=>({...G,[O]:F}))},T=O=>{const F=a.categories.includes(O)?a.categories.filter(G=>G!==O):[...a.categories,O];E("categories",F)};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?"Update Your Application":"Complete Your Setup"}),n.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:["Step ",r+1," of ",x.length]}),s&&n.jsx("p",{className:"text-orange-600 text-sm mt-1",children:"Update your information and resubmit for approval"})]}),n.jsx("div",{className:"flex overflow-x-auto mb-8 pb-2",children:x.map((O,F)=>n.jsxs("button",{onClick:()=>i(F),className:`flex-shrink-0 px-4 py-2 text-xs font-medium whitespace-nowrap ${F===r?"text-blue-600 border-b-2 border-blue-600":F<r?"text-green-600":"text-gray-400"}`,children:[F<r?"":F+1,". ",O]},O))}),n.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[h&&n.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsx("p",{className:"text-blue-600",children:"Submitting your application..."})}),m&&n.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-red-600",children:m})}),p&&n.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:n.jsx("p",{className:"text-green-600",children:p})}),r===0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Choose Your Location"}),n.jsx("div",{className:"h-48 rounded-lg",children:n.jsxs(jR,{center:[a.location.lat,a.location.lng],zoom:13,style:{height:"100%",width:"100%",borderRadius:"0.5rem"},children:[n.jsx(_R,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),n.jsx(yy,{position:[a.location.lat,a.location.lng],icon:UG}),n.jsx(N,{}),n.jsx(_,{lat:a.location.lat,lng:a.location.lng})]})}),n.jsx(ne,{onClick:C,className:"w-full bg-blue-600 hover:bg-blue-700",children:"Use Live Location"}),c&&n.jsx("p",{className:"text-red-500 text-sm",children:c}),n.jsx(ge,{placeholder:"Selected address will appear here",value:a.location.address,onChange:O=>E("location",{...a.location,address:O.target.value})})]}),r===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Shop Information"}),n.jsx(ge,{placeholder:"Shop Name",value:a.shopName,onChange:O=>E("shopName",O.target.value)}),n.jsx(ge,{placeholder:"Owner Name",value:a.ownerName,onChange:O=>E("ownerName",O.target.value)}),n.jsx(ge,{placeholder:"Phone Number",value:a.phone,onChange:O=>E("phone",O.target.value)}),n.jsx(ge,{placeholder:"Email Address",value:a.email,onChange:O=>E("email",O.target.value)}),n.jsx(ge,{placeholder:"PAN Number *",value:a.panNumber,onChange:O=>{const F=O.target.value;F.length<=9&&E("panNumber",F)},maxLength:9,required:!0})]}),r===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Shop Address"}),n.jsx(ge,{placeholder:"Full Shop Address",value:a.shopAddress,onChange:O=>E("shopAddress",O.target.value)}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ge,{placeholder:"City",value:a.city,onChange:O=>E("city",O.target.value)}),n.jsx(ge,{placeholder:"State",value:a.state,onChange:O=>E("state",O.target.value)})]}),n.jsx(ge,{placeholder:"PIN Code",value:a.pincode,onChange:O=>E("pincode",O.target.value)})]}),r===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Upload Documents"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Registration"}),s&&a.existingDocuments.panReg&&!a.shopRegDoc&&n.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsx("p",{className:"text-sm text-blue-700",children:" Current document uploaded"}),n.jsx("img",{src:a.existingDocuments.panReg,alt:"Current PAN",className:"w-32 h-20 object-cover rounded border mt-1"})]}),n.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full text-sm border border-gray-300 rounded-md p-2",onChange:O=>E("shopRegDoc",O.target.files[0])}),!s&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload new document"}),s&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload new document to replace existing"}),a.shopRegDoc&&n.jsx("div",{className:"mt-2",children:a.shopRegDoc.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.shopRegDoc),alt:"PAN Registration",className:"w-32 h-20 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-700",children:[" ",a.shopRegDoc.name]})})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Citizenship (Front)"}),s&&a.existingDocuments.citizenshipFront&&!a.citizenshipFront&&n.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsx("p",{className:"text-sm text-blue-700",children:" Current document uploaded"}),n.jsx("img",{src:a.existingDocuments.citizenshipFront,alt:"Current Citizenship Front",className:"w-32 h-20 object-cover rounded border mt-1"})]}),n.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full text-sm border border-gray-300 rounded-md p-2",onChange:O=>E("citizenshipFront",O.target.files[0])}),s&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload new document to replace existing"}),a.citizenshipFront&&n.jsx("div",{className:"mt-2",children:a.citizenshipFront.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.citizenshipFront),alt:"Citizenship Front",className:"w-32 h-20 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-700",children:[" ",a.citizenshipFront.name]})})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Citizenship (Back)"}),s&&a.existingDocuments.citizenshipBack&&!a.citizenshipBack&&n.jsxs("div",{className:"mb-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[n.jsx("p",{className:"text-sm text-blue-700",children:" Current document uploaded"}),n.jsx("img",{src:a.existingDocuments.citizenshipBack,alt:"Current Citizenship Back",className:"w-32 h-20 object-cover rounded border mt-1"})]}),n.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full text-sm border border-gray-300 rounded-md p-2",onChange:O=>E("citizenshipBack",O.target.files[0])}),s&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload new document to replace existing"}),a.citizenshipBack&&n.jsx("div",{className:"mt-2",children:a.citizenshipBack.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.citizenshipBack),alt:"Citizenship Back",className:"w-32 h-20 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-green-700",children:[" ",a.citizenshipBack.name]})})})]})]})]}),r===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Shop Images"}),n.jsx("p",{className:"text-sm text-gray-600",children:s?"Current images shown below. Upload new images to add more.":"Upload at least 4 images of your shop (interior, exterior, products, etc.)"}),s&&a.existingShopImages.length>0&&n.jsxs("div",{className:"mb-4",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Current Shop Images (",a.existingShopImages.length,")"]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.existingShopImages.map((O,F)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:O.image_url,alt:`Existing shop image ${F+1}`,className:"w-full h-full object-cover"})}),O.is_primary&&n.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Primary"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Existing Image"})]},F))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full text-sm border border-gray-300 rounded-md p-2",onChange:O=>{const F=Array.from(O.target.files);if(F.length+a.shopImages.length>10){alert("Maximum 10 images allowed");return}E("shopImages",[...a.shopImages,...F])}}),n.jsx(ne,{type:"button",variant:"outline",className:"w-full",onClick:()=>{const O=document.createElement("input");O.type="file",O.accept="image/*",O.capture="environment",O.onchange=F=>{const G=F.target.files[0];if(G){if(a.shopImages.length>=10){alert("Maximum 10 images allowed");return}E("shopImages",[...a.shopImages,G])}},O.click()},children:" Take Photo"})]}),a.shopImages.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[s?"New Images to Add":"Uploaded Images"," (",a.shopImages.length,"/10)"]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.shopImages.map((O,F)=>n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:URL.createObjectURL(O),alt:`Shop image ${F+1}`,className:"w-full h-full object-cover"})}),n.jsx("button",{type:"button",onClick:()=>{const G=a.shopImages.filter((Y,K)=>K!==F);E("shopImages",G)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:O.name})]},F))}),!s&&a.shopImages.length<4&&n.jsx("p",{className:"text-sm text-orange-600",children:"Please upload at least 4 images of your shop"}),s&&a.shopImages.length+a.existingShopImages.length<4&&n.jsx("p",{className:"text-sm text-orange-600",children:"Total images (existing + new) should be at least 4"})]})]}),r===5&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Payment Details"}),n.jsx(ge,{placeholder:"Bank Account Number",value:a.bankAccount,onChange:O=>E("bankAccount",O.target.value)}),n.jsx(ge,{placeholder:"Account Holder/Organization Name",value:a.accountHolderName,onChange:O=>E("accountHolderName",O.target.value)}),n.jsx(ge,{placeholder:"Bank Name",value:a.bankName,onChange:O=>E("bankName",O.target.value)}),n.jsx(ge,{placeholder:"Minimum Order Amount (Optional)",value:a.minOrderAmount,onChange:O=>E("minOrderAmount",O.target.value)})]}),r===6&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Business Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:b.map(O=>n.jsx("button",{onClick:()=>E("vendorType",O.value),className:`p-3 text-sm rounded-lg border ${a.vendorType===O.value?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:O.label},O.value))})]}),r===7&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Product Categories"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Select categories you'll sell"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.length>0?v.map(O=>n.jsx("button",{onClick:()=>T(O),className:`p-3 text-sm rounded-lg border ${a.categories.includes(O)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"}`,children:O},O)):n.jsx("div",{className:"col-span-2 text-center text-gray-500 py-4",children:"No categories available. Please contact admin."})}),n.jsx(ge,{placeholder:"Business Description (Optional)",value:a.description,onChange:O=>E("description",O.target.value)})]}),r===8&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Review & Submit"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Shop Information"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Shop Name:"})," ",a.shopName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Owner Name:"})," ",a.ownerName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",a.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",a.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"PAN Number:"})," ",a.panNumber||"N/A"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Address"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Shop Address:"})," ",a.shopAddress]}),n.jsxs("p",{children:[n.jsx("strong",{children:"City:"})," ",a.city]}),n.jsxs("p",{children:[n.jsx("strong",{children:"State:"})," ",a.state]}),n.jsxs("p",{children:[n.jsx("strong",{children:"PIN Code:"})," ",a.pincode]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Location:"})," ",a.location.address]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Documents"}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"PAN Registration:"})," ",a.shopRegDoc||a.existingDocuments.panReg?" Available":" Not uploaded"]}),a.shopRegDoc?n.jsx("div",{className:"mt-2",children:a.shopRegDoc.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.shopRegDoc),alt:"New PAN Registration",className:"w-24 h-16 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md w-fit",children:n.jsxs("p",{className:"text-xs text-green-700",children:[" ",a.shopRegDoc.name," (New)"]})})}):a.existingDocuments.panReg?n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:a.existingDocuments.panReg,alt:"Current PAN Registration",className:"w-24 h-16 object-cover rounded border"}),n.jsx("p",{className:"text-xs text-blue-600",children:"Current document"})]}):null]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Citizenship (Front):"})," ",a.citizenshipFront||a.existingDocuments.citizenshipFront?" Available":" Not uploaded"]}),a.citizenshipFront?n.jsx("div",{className:"mt-2",children:a.citizenshipFront.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.citizenshipFront),alt:"New Citizenship Front",className:"w-24 h-16 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md w-fit",children:n.jsxs("p",{className:"text-xs text-green-700",children:[" ",a.citizenshipFront.name," (New)"]})})}):a.existingDocuments.citizenshipFront?n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:a.existingDocuments.citizenshipFront,alt:"Current Citizenship Front",className:"w-24 h-16 object-cover rounded border"}),n.jsx("p",{className:"text-xs text-blue-600",children:"Current document"})]}):null]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Citizenship (Back):"})," ",a.citizenshipBack||a.existingDocuments.citizenshipBack?" Available":" Not uploaded"]}),a.citizenshipBack?n.jsx("div",{className:"mt-2",children:a.citizenshipBack.type.startsWith("image/")?n.jsx("img",{src:URL.createObjectURL(a.citizenshipBack),alt:"New Citizenship Back",className:"w-24 h-16 object-cover rounded border"}):n.jsx("div",{className:"p-2 bg-green-50 border border-green-200 rounded-md w-fit",children:n.jsxs("p",{className:"text-xs text-green-700",children:[" ",a.citizenshipBack.name," (New)"]})})}):a.existingDocuments.citizenshipBack?n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:a.existingDocuments.citizenshipBack,alt:"Current Citizenship Back",className:"w-24 h-16 object-cover rounded border"}),n.jsx("p",{className:"text-xs text-blue-600",children:"Current document"})]}):null]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Shop Images"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total Images:"})," ",a.shopImages.length+a.existingShopImages.length,"/10"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Existing:"})," ",a.existingShopImages.length," | ",n.jsx("strong",{children:"New:"})," ",a.shopImages.length]}),a.shopImages.length+a.existingShopImages.length>=4?n.jsx("p",{className:"text-green-600 mb-3",children:" Minimum requirement met"}):n.jsx("p",{className:"text-red-600 mb-3",children:" Need at least 4 images total"}),a.existingShopImages.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm font-medium text-blue-600 mb-2",children:"Current Images:"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.existingShopImages.slice(0,4).map((O,F)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:O.image_url,alt:`Current shop ${F+1}`,className:"w-16 h-16 object-cover rounded border"}),O.is_primary&&n.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Primary"})]},F)),a.existingShopImages.length>4&&n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded border flex items-center justify-center",children:n.jsxs("span",{className:"text-xs text-gray-500",children:["+",a.existingShopImages.length-4]})})]})]}),a.shopImages.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-green-600 mb-2",children:"New Images to Add:"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.shopImages.slice(0,4).map((O,F)=>n.jsx("div",{className:"relative",children:n.jsx("img",{src:URL.createObjectURL(O),alt:`New shop ${F+1}`,className:"w-16 h-16 object-cover rounded border"})},F)),a.shopImages.length>4&&n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded border flex items-center justify-center",children:n.jsxs("span",{className:"text-xs text-gray-500",children:["+",a.shopImages.length-4]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Payment Details"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Bank Account:"})," ",a.bankAccount||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Account Holder:"})," ",a.accountHolderName||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Bank Name:"})," ",a.bankName||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"IFSC Code:"})," ",a.ifscCode||"N/A"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Business Details"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Business Type:"})," ",(($=b.find(O=>O.value===a.vendorType))==null?void 0:$.label)||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Categories:"})," ",a.categories.length>0?a.categories.join(", "):"None selected"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Description:"})," ",a.description||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"GST Number:"})," ",a.gstNumber||"N/A"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Delivery Radius:"})," ",a.deliveryRadius||"N/A"," km"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Minimum Order Amount:"})," ",a.minOrderAmount||"N/A"]})]})]}),n.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Your application will be reviewed within 24-48 hours. You'll receive an email notification once approved."})}),m&&n.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsx("p",{className:"text-red-600 text-sm",children:m})})]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsx(ne,{onClick:R,disabled:r===0,variant:"outline",className:"px-6",children:"Previous"}),n.jsx(ne,{onClick:P,disabled:h,className:"px-6 bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:h?"Submitting...":r===x.length-1?"Submit for Approval":"Next"})]})]})})}function HG(){const e=hr(),t=rt(),{rejectionReason:s,rejectionDate:r}=e.state||{},i=()=>{t("/vendor/onboarding",{state:{isUpdate:!0}})};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:n.jsxs("div",{className:"max-w-2xl w-full space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:n.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),n.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Application Rejected"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your vendor application has been rejected. Please review the feedback below and update your application."})]}),n.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rejection Details"}),r&&n.jsxs("div",{className:"mb-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Rejected on: "}),n.jsx("span",{className:"text-sm text-gray-900",children:new Date(r).toLocaleDateString()})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Reason for rejection:"}),n.jsx("div",{className:"mt-2 p-4 bg-red-50 border border-red-200 rounded-md",children:n.jsx("p",{className:"text-sm text-red-800",children:s||"No specific reason provided. Please contact support for more details."})})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"What's next?"}),n.jsx("div",{className:"mt-2 text-sm text-blue-700",children:n.jsx("p",{children:"Please review the rejection reason above and update your application accordingly. You can modify your business information, upload new documents, or make any other necessary changes before resubmitting."})})]})]})}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(ne,{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Update Application"}),n.jsx(ne,{onClick:()=>t("/vendor/login"),variant:"outline",className:"flex-1",children:"Back to Login"})]})]})]})})}var oh=e=>e.type==="checkbox",No=e=>e instanceof Date,fs=e=>e==null;const qL=e=>typeof e=="object";var kn=e=>!fs(e)&&!Array.isArray(e)&&qL(e)&&!No(e),HL=e=>kn(e)&&e.target?oh(e.target)?e.target.checked:e.target.value:e,WG=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WL=(e,t)=>e.has(WG(t)),ZG=e=>{const t=e.constructor&&e.constructor.prototype;return kn(t)&&t.hasOwnProperty("isPrototypeOf")},Mw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ln(e){let t;const s=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Mw&&(e instanceof Blob||r))&&(s||kn(e)))if(t=s?[]:{},!s&&!ZG(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ln(e[i]));else return e;return t}var zp=e=>/^\w*$/.test(e),_n=e=>e===void 0,Iw=e=>Array.isArray(e)?e.filter(Boolean):[],Dw=e=>Iw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,s)=>{if(!t||!kn(e))return s;const r=(zp(t)?[t]:Dw(t)).reduce((i,a)=>fs(i)?i:i[a],e);return _n(r)||r===e?_n(e[t])?s:e[t]:r},zs=e=>typeof e=="boolean",Dt=(e,t,s)=>{let r=-1;const i=zp(t)?[t]:Dw(t),a=i.length,o=a-1;for(;++r<a;){const c=i[r];let d=s;if(r!==o){const h=e[c];d=kn(h)||Array.isArray(h)?h:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const ym={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZL=Ne.createContext(null);ZL.displayName="HookFormContext";const Fw=()=>Ne.useContext(ZL);var GL=(e,t,s,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Pr.all&&(t._proxyFormState[o]=!r||Pr.all),s&&(s[o]=!0),e[o]}});return i};const $w=typeof window<"u"?Ne.useLayoutEffect:Ne.useEffect;function GG(e){const t=Fw(),{control:s=t.control,disabled:r,name:i,exact:a}=e||{},[o,c]=Ne.useState(s._formState),d=Ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $w(()=>s._subscribe({name:i,formState:d.current,exact:a,callback:h=>{!r&&c({...s._formState,...h})}}),[i,r,a]),Ne.useEffect(()=>{d.current.isValid&&s._setValid(!0)},[s]),Ne.useMemo(()=>GL(o,s,d.current,!1),[o,s])}var li=e=>typeof e=="string",KL=(e,t,s,r,i)=>li(e)?(r&&t.watch.add(e),Fe(s,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Fe(s,a))):(r&&(t.watchAll=!0),s),Ey=e=>fs(e)||!qL(e);function $i(e,t,s=new WeakSet){if(Ey(e)||Ey(t))return e===t;if(No(e)&&No(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(s.has(e)||s.has(t))return!0;s.add(e),s.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const c=t[a];if(No(o)&&No(c)||kn(o)&&kn(c)||Array.isArray(o)&&Array.isArray(c)?!$i(o,c,s):o!==c)return!1}}return!0}function KG(e){const t=Fw(),{control:s=t.control,name:r,defaultValue:i,disabled:a,exact:o,compute:c}=e||{},d=Ne.useRef(i),h=Ne.useRef(c),f=Ne.useRef(void 0);h.current=c;const m=Ne.useMemo(()=>s._getWatch(r,d.current),[s,r]),[u,p]=Ne.useState(h.current?h.current(m):m);return $w(()=>s._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!a){const v=KL(r,s._names,y.values||s._formValues,!1,d.current);if(h.current){const w=h.current(v);$i(w,f.current)||(p(w),f.current=w)}else p(v)}}}),[s,a,r,o]),Ne.useEffect(()=>s._removeUnmounted()),u}function YG(e){const t=Fw(),{name:s,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:o}=e,c=WL(i._names.array,s),d=Ne.useMemo(()=>Fe(i._formValues,s,Fe(i._defaultValues,s,o)),[i,s,o]),h=KG({control:i,name:s,defaultValue:d,exact:!0}),f=GG({control:i,name:s,exact:!0}),m=Ne.useRef(e),u=Ne.useRef(i.register(s,{...e.rules,value:h,...zs(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const p=Ne.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(f.errors,s)},isDirty:{enumerable:!0,get:()=>!!Fe(f.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Fe(f.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Fe(f.validatingFields,s)},error:{enumerable:!0,get:()=>Fe(f.errors,s)}}),[f,s]),y=Ne.useCallback(b=>u.current.onChange({target:{value:HL(b),name:s},type:ym.CHANGE}),[s]),v=Ne.useCallback(()=>u.current.onBlur({target:{value:Fe(i._formValues,s),name:s},type:ym.BLUR}),[s,i._formValues]),w=Ne.useCallback(b=>{const _=Fe(i._fields,s);_&&b&&(_._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:N=>b.setCustomValidity(N),reportValidity:()=>b.reportValidity()})},[i._fields,s]),x=Ne.useMemo(()=>({name:s,value:h,...zs(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:y,onBlur:v,ref:w}),[s,r,f.disabled,y,v,w,h]);return Ne.useEffect(()=>{const b=i._options.shouldUnregister||a;i.register(s,{...m.current.rules,...zs(m.current.disabled)?{disabled:m.current.disabled}:{}});const _=(N,C)=>{const I=Fe(i._fields,N);I&&I._f&&(I._f.mount=C)};if(_(s,!0),b){const N=Ln(Fe(i._options.defaultValues,s));Dt(i._defaultValues,s,N),_n(Fe(i._formValues,s))&&Dt(i._formValues,s,N)}return!c&&i.register(s),()=>{(c?b&&!i._state.action:b)?i.unregister(s):_(s,!1)}},[s,i,c,a]),Ne.useEffect(()=>{i._setDisabledField({disabled:r,name:s})},[r,s,i]),Ne.useMemo(()=>({field:x,formState:f,fieldState:p}),[x,f,p])}const bt=e=>e.render(YG(e));var YL=(e,t,s,r,i)=>t?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:i||!0}}:{},Qd=e=>Array.isArray(e)?e:[e],_S=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},Cs=e=>kn(e)&&!Object.keys(e).length,zw=e=>e.type==="file",Tr=e=>typeof e=="function",bm=e=>{if(!Mw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},XL=e=>e.type==="select-multiple",Bw=e=>e.type==="radio",XG=e=>Bw(e)||oh(e),Pv=e=>bm(e)&&e.isConnected;function QG(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=_n(e)?r++:e[t[r++]];return e}function JG(e){for(const t in e)if(e.hasOwnProperty(t)&&!_n(e[t]))return!1;return!0}function An(e,t){const s=Array.isArray(t)?t:zp(t)?[t]:Dw(t),r=s.length===1?e:QG(e,s),i=s.length-1,a=s[i];return r&&delete r[a],i!==0&&(kn(r)&&Cs(r)||Array.isArray(r)&&JG(r))&&An(e,s.slice(0,-1)),e}var QL=e=>{for(const t in e)if(Tr(e[t]))return!0;return!1};function wm(e,t={}){const s=Array.isArray(e);if(kn(e)||s)for(const r in e)Array.isArray(e[r])||kn(e[r])&&!QL(e[r])?(t[r]=Array.isArray(e[r])?[]:{},wm(e[r],t[r])):fs(e[r])||(t[r]=!0);return t}function JL(e,t,s){const r=Array.isArray(e);if(kn(e)||r)for(const i in e)Array.isArray(e[i])||kn(e[i])&&!QL(e[i])?_n(t)||Ey(s[i])?s[i]=Array.isArray(e[i])?wm(e[i],[]):{...wm(e[i])}:JL(e[i],fs(t)?{}:t[i],s[i]):s[i]=!$i(e[i],t[i]);return s}var jd=(e,t)=>JL(e,t,wm(t));const NS={value:!1,isValid:!1},SS={value:!0,isValid:!0};var e4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_n(e[0].attributes.value)?_n(e[0].value)||e[0].value===""?SS:{value:e[0].value,isValid:!0}:SS:NS}return NS},t4=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>_n(e)?e:t?e===""?NaN:e&&+e:s&&li(e)?new Date(e):r?r(e):e;const kS={isValid:!1,value:null};var n4=e=>Array.isArray(e)?e.reduce((t,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:t,kS):kS;function CS(e){const t=e.ref;return zw(t)?t.files:Bw(t)?n4(e.refs).value:XL(t)?[...t.selectedOptions].map(({value:s})=>s):oh(t)?e4(e.refs).value:t4(_n(t.value)?e.ref.value:t.value,e)}var eK=(e,t,s,r)=>{const i={};for(const a of e){const o=Fe(t,a);o&&Dt(i,a,o._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}},jm=e=>e instanceof RegExp,_d=e=>_n(e)?e:jm(e)?e.source:kn(e)?jm(e.value)?e.value.source:e.value:e,ES=e=>({isOnSubmit:!e||e===Pr.onSubmit,isOnBlur:e===Pr.onBlur,isOnChange:e===Pr.onChange,isOnAll:e===Pr.all,isOnTouch:e===Pr.onTouched});const PS="AsyncFunction";var tK=e=>!!e&&!!e.validate&&!!(Tr(e.validate)&&e.validate.constructor.name===PS||kn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===PS)),nK=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),TS=(e,t,s)=>!s&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Jd=(e,t,s,r)=>{for(const i of s||Object.keys(e)){const a=Fe(e,i);if(a){const{_f:o,...c}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Jd(c,t))break}else if(kn(c)&&Jd(c,t))break}}};function AS(e,t,s){const r=Fe(e,s);if(r||zp(s))return{error:r,name:s};const i=s.split(".");for(;i.length;){const a=i.join("."),o=Fe(t,a),c=Fe(e,a);if(o&&!Array.isArray(o)&&s!==a)return{name:s};if(c&&c.type)return{name:a,error:c};if(c&&c.root&&c.root.type)return{name:`${a}.root`,error:c.root};i.pop()}return{name:s}}var sK=(e,t,s,r)=>{s(e);const{name:i,...a}=e;return Cs(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Pr.all))},rK=(e,t,s)=>!e||!t||e===t||Qd(e).some(r=>r&&(s?r===t:r.startsWith(t)||t.startsWith(r))),iK=(e,t,s,r,i)=>i.isOnAll?!1:!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:(s?r.isOnChange:i.isOnChange)?e:!0,aK=(e,t)=>!Iw(Fe(e,t)).length&&An(e,t),oK=(e,t,s)=>{const r=Qd(Fe(e,s));return Dt(r,"root",t[s]),Dt(e,s,r),e},Cf=e=>li(e);function OS(e,t,s="validate"){if(Cf(e)||Array.isArray(e)&&e.every(Cf)||zs(e)&&!e)return{type:s,message:Cf(e)?e:"",ref:t}}var gl=e=>kn(e)&&!jm(e)?e:{value:e,message:""},RS=async(e,t,s,r,i,a)=>{const{ref:o,refs:c,required:d,maxLength:h,minLength:f,min:m,max:u,pattern:p,validate:y,name:v,valueAsNumber:w,mount:x}=e._f,b=Fe(s,v);if(!x||t.has(v))return{};const _=c?c[0]:o,N=A=>{i&&_.reportValidity&&(_.setCustomValidity(zs(A)?"":A||""),_.reportValidity())},C={},I=Bw(o),k=oh(o),P=I||k,R=(w||zw(o))&&_n(o.value)&&_n(b)||bm(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,E=YL.bind(null,v,r,C),T=(A,$,O,F=Oi.maxLength,G=Oi.minLength)=>{const Y=A?$:O;C[v]={type:A?F:G,message:Y,ref:o,...E(A?F:G,Y)}};if(a?!Array.isArray(b)||!b.length:d&&(!P&&(R||fs(b))||zs(b)&&!b||k&&!e4(c).isValid||I&&!n4(c).isValid)){const{value:A,message:$}=Cf(d)?{value:!!d,message:d}:gl(d);if(A&&(C[v]={type:Oi.required,message:$,ref:_,...E(Oi.required,$)},!r))return N($),C}if(!R&&(!fs(m)||!fs(u))){let A,$;const O=gl(u),F=gl(m);if(!fs(b)&&!isNaN(b)){const G=o.valueAsNumber||b&&+b;fs(O.value)||(A=G>O.value),fs(F.value)||($=G<F.value)}else{const G=o.valueAsDate||new Date(b),Y=B=>new Date(new Date().toDateString()+" "+B),K=o.type=="time",U=o.type=="week";li(O.value)&&b&&(A=K?Y(b)>Y(O.value):U?b>O.value:G>new Date(O.value)),li(F.value)&&b&&($=K?Y(b)<Y(F.value):U?b<F.value:G<new Date(F.value))}if((A||$)&&(T(!!A,O.message,F.message,Oi.max,Oi.min),!r))return N(C[v].message),C}if((h||f)&&!R&&(li(b)||a&&Array.isArray(b))){const A=gl(h),$=gl(f),O=!fs(A.value)&&b.length>+A.value,F=!fs($.value)&&b.length<+$.value;if((O||F)&&(T(O,A.message,$.message),!r))return N(C[v].message),C}if(p&&!R&&li(b)){const{value:A,message:$}=gl(p);if(jm(A)&&!b.match(A)&&(C[v]={type:Oi.pattern,message:$,ref:o,...E(Oi.pattern,$)},!r))return N($),C}if(y){if(Tr(y)){const A=await y(b,s),$=OS(A,_);if($&&(C[v]={...$,...E(Oi.validate,$.message)},!r))return N($.message),C}else if(kn(y)){let A={};for(const $ in y){if(!Cs(A)&&!r)break;const O=OS(await y[$](b,s),_,$);O&&(A={...O,...E($,O.message)},N(O.message),r&&(C[v]=A))}if(!Cs(A)&&(C[v]={ref:_,...A},!r))return C}}return N(!0),C};const lK={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function cK(e={}){let t={...lK,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=kn(t.defaultValues)||kn(t.values)?Ln(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Ln(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const u={array:_S(),state:_S()},p=t.criteriaMode===Pr.all,y=ee=>ae=>{clearTimeout(h),h=setTimeout(ee,ae)},v=async ee=>{if(!t.disabled&&(f.isValid||m.isValid||ee)){const ae=t.resolver?Cs((await k()).errors):await R(r,!0);ae!==s.isValid&&u.state.next({isValid:ae})}},w=(ee,ae)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((ee||Array.from(c.mount)).forEach(oe=>{oe&&(ae?Dt(s.validatingFields,oe,ae):An(s.validatingFields,oe))}),u.state.next({validatingFields:s.validatingFields,isValidating:!Cs(s.validatingFields)}))},x=(ee,ae=[],oe,be,we=!0,xe=!0)=>{if(be&&oe&&!t.disabled){if(o.action=!0,xe&&Array.isArray(Fe(r,ee))){const re=oe(Fe(r,ee),be.argA,be.argB);we&&Dt(r,ee,re)}if(xe&&Array.isArray(Fe(s.errors,ee))){const re=oe(Fe(s.errors,ee),be.argA,be.argB);we&&Dt(s.errors,ee,re),aK(s.errors,ee)}if((f.touchedFields||m.touchedFields)&&xe&&Array.isArray(Fe(s.touchedFields,ee))){const re=oe(Fe(s.touchedFields,ee),be.argA,be.argB);we&&Dt(s.touchedFields,ee,re)}(f.dirtyFields||m.dirtyFields)&&(s.dirtyFields=jd(i,a)),u.state.next({name:ee,isDirty:T(ee,ae),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else Dt(a,ee,ae)},b=(ee,ae)=>{Dt(s.errors,ee,ae),u.state.next({errors:s.errors})},_=ee=>{s.errors=ee,u.state.next({errors:s.errors,isValid:!1})},N=(ee,ae,oe,be)=>{const we=Fe(r,ee);if(we){const xe=Fe(a,ee,_n(oe)?Fe(i,ee):oe);_n(xe)||be&&be.defaultChecked||ae?Dt(a,ee,ae?xe:CS(we._f)):O(ee,xe),o.mount&&v()}},C=(ee,ae,oe,be,we)=>{let xe=!1,re=!1;const Se={name:ee};if(!t.disabled){if(!oe||be){(f.isDirty||m.isDirty)&&(re=s.isDirty,s.isDirty=Se.isDirty=T(),xe=re!==Se.isDirty);const Te=$i(Fe(i,ee),ae);re=!!Fe(s.dirtyFields,ee),Te?An(s.dirtyFields,ee):Dt(s.dirtyFields,ee,!0),Se.dirtyFields=s.dirtyFields,xe=xe||(f.dirtyFields||m.dirtyFields)&&re!==!Te}if(oe){const Te=Fe(s.touchedFields,ee);Te||(Dt(s.touchedFields,ee,oe),Se.touchedFields=s.touchedFields,xe=xe||(f.touchedFields||m.touchedFields)&&Te!==oe)}xe&&we&&u.state.next(Se)}return xe?Se:{}},I=(ee,ae,oe,be)=>{const we=Fe(s.errors,ee),xe=(f.isValid||m.isValid)&&zs(ae)&&s.isValid!==ae;if(t.delayError&&oe?(d=y(()=>b(ee,oe)),d(t.delayError)):(clearTimeout(h),d=null,oe?Dt(s.errors,ee,oe):An(s.errors,ee)),(oe?!$i(we,oe):we)||!Cs(be)||xe){const re={...be,...xe&&zs(ae)?{isValid:ae}:{},errors:s.errors,name:ee};s={...s,...re},u.state.next(re)}},k=async ee=>{w(ee,!0);const ae=await t.resolver(a,t.context,eK(ee||c.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(ee),ae},P=async ee=>{const{errors:ae}=await k(ee);if(ee)for(const oe of ee){const be=Fe(ae,oe);be?Dt(s.errors,oe,be):An(s.errors,oe)}else s.errors=ae;return ae},R=async(ee,ae,oe={valid:!0})=>{for(const be in ee){const we=ee[be];if(we){const{_f:xe,...re}=we;if(xe){const Se=c.array.has(xe.name),Te=we._f&&tK(we._f);Te&&f.validatingFields&&w([be],!0);const nt=await RS(we,c.disabled,a,p,t.shouldUseNativeValidation&&!ae,Se);if(Te&&f.validatingFields&&w([be]),nt[xe.name]&&(oe.valid=!1,ae))break;!ae&&(Fe(nt,xe.name)?Se?oK(s.errors,nt,xe.name):Dt(s.errors,xe.name,nt[xe.name]):An(s.errors,xe.name))}!Cs(re)&&await R(re,ae,oe)}}return oe.valid},E=()=>{for(const ee of c.unMount){const ae=Fe(r,ee);ae&&(ae._f.refs?ae._f.refs.every(oe=>!Pv(oe)):!Pv(ae._f.ref))&&H(ee)}c.unMount=new Set},T=(ee,ae)=>!t.disabled&&(ee&&ae&&Dt(a,ee,ae),!$i(B(),i)),A=(ee,ae,oe)=>KL(ee,c,{...o.mount?a:_n(ae)?i:li(ee)?{[ee]:ae}:ae},oe,ae),$=ee=>Iw(Fe(o.mount?a:i,ee,t.shouldUnregister?Fe(i,ee,[]):[])),O=(ee,ae,oe={})=>{const be=Fe(r,ee);let we=ae;if(be){const xe=be._f;xe&&(!xe.disabled&&Dt(a,ee,t4(ae,xe)),we=bm(xe.ref)&&fs(ae)?"":ae,XL(xe.ref)?[...xe.ref.options].forEach(re=>re.selected=we.includes(re.value)):xe.refs?oh(xe.ref)?xe.refs.forEach(re=>{(!re.defaultChecked||!re.disabled)&&(Array.isArray(we)?re.checked=!!we.find(Se=>Se===re.value):re.checked=we===re.value||!!we)}):xe.refs.forEach(re=>re.checked=re.value===we):zw(xe.ref)?xe.ref.value="":(xe.ref.value=we,xe.ref.type||u.state.next({name:ee,values:Ln(a)})))}(oe.shouldDirty||oe.shouldTouch)&&C(ee,we,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&U(ee)},F=(ee,ae,oe)=>{for(const be in ae){if(!ae.hasOwnProperty(be))return;const we=ae[be],xe=ee+"."+be,re=Fe(r,xe);(c.array.has(ee)||kn(we)||re&&!re._f)&&!No(we)?F(xe,we,oe):O(xe,we,oe)}},G=(ee,ae,oe={})=>{const be=Fe(r,ee),we=c.array.has(ee),xe=Ln(ae);Dt(a,ee,xe),we?(u.array.next({name:ee,values:Ln(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&oe.shouldDirty&&u.state.next({name:ee,dirtyFields:jd(i,a),isDirty:T(ee,xe)})):be&&!be._f&&!fs(xe)?F(ee,xe,oe):O(ee,xe,oe),TS(ee,c)&&u.state.next({...s,name:ee}),u.state.next({name:o.mount?ee:void 0,values:Ln(a)})},Y=async ee=>{o.mount=!0;const ae=ee.target;let oe=ae.name,be=!0;const we=Fe(r,oe),xe=Te=>{be=Number.isNaN(Te)||No(Te)&&isNaN(Te.getTime())||$i(Te,Fe(a,oe,Te))},re=ES(t.mode),Se=ES(t.reValidateMode);if(we){let Te,nt;const ot=ae.type?CS(we._f):HL(ee),$t=ee.type===ym.BLUR||ee.type===ym.FOCUS_OUT,le=!nK(we._f)&&!t.resolver&&!Fe(s.errors,oe)&&!we._f.deps||iK($t,Fe(s.touchedFields,oe),s.isSubmitted,Se,re),He=TS(oe,c,$t);Dt(a,oe,ot),$t?(we._f.onBlur&&we._f.onBlur(ee),d&&d(0)):we._f.onChange&&we._f.onChange(ee);const Ze=C(oe,ot,$t),dt=!Cs(Ze)||He;if(!$t&&u.state.next({name:oe,type:ee.type,values:Ln(a)}),le)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?$t&&v():$t||v()),dt&&u.state.next({name:oe,...He?{}:Ze});if(!$t&&He&&u.state.next({...s}),t.resolver){const{errors:ze}=await k([oe]);if(xe(ot),be){const Ie=AS(s.errors,r,oe),It=AS(ze,r,Ie.name||oe);Te=It.error,oe=It.name,nt=Cs(ze)}}else w([oe],!0),Te=(await RS(we,c.disabled,a,p,t.shouldUseNativeValidation))[oe],w([oe]),xe(ot),be&&(Te?nt=!1:(f.isValid||m.isValid)&&(nt=await R(r,!0)));be&&(we._f.deps&&U(we._f.deps),I(oe,nt,Te,Ze))}},K=(ee,ae)=>{if(Fe(s.errors,ae)&&ee.focus)return ee.focus(),1},U=async(ee,ae={})=>{let oe,be;const we=Qd(ee);if(t.resolver){const xe=await P(_n(ee)?ee:we);oe=Cs(xe),be=ee?!we.some(re=>Fe(xe,re)):oe}else ee?(be=(await Promise.all(we.map(async xe=>{const re=Fe(r,xe);return await R(re&&re._f?{[xe]:re}:re)}))).every(Boolean),!(!be&&!s.isValid)&&v()):be=oe=await R(r);return u.state.next({...!li(ee)||(f.isValid||m.isValid)&&oe!==s.isValid?{}:{name:ee},...t.resolver||!ee?{isValid:oe}:{},errors:s.errors}),ae.shouldFocus&&!be&&Jd(r,K,ee?we:c.mount),be},B=ee=>{const ae={...o.mount?a:i};return _n(ee)?ae:li(ee)?Fe(ae,ee):ee.map(oe=>Fe(ae,oe))},M=(ee,ae)=>({invalid:!!Fe((ae||s).errors,ee),isDirty:!!Fe((ae||s).dirtyFields,ee),error:Fe((ae||s).errors,ee),isValidating:!!Fe(s.validatingFields,ee),isTouched:!!Fe((ae||s).touchedFields,ee)}),z=ee=>{ee&&Qd(ee).forEach(ae=>An(s.errors,ae)),u.state.next({errors:ee?s.errors:{}})},Z=(ee,ae,oe)=>{const be=(Fe(r,ee,{_f:{}})._f||{}).ref,we=Fe(s.errors,ee)||{},{ref:xe,message:re,type:Se,...Te}=we;Dt(s.errors,ee,{...Te,...ae,ref:be}),u.state.next({name:ee,errors:s.errors,isValid:!1}),oe&&oe.shouldFocus&&be&&be.focus&&be.focus()},W=(ee,ae)=>Tr(ee)?u.state.subscribe({next:oe=>"values"in oe&&ee(A(void 0,ae),oe)}):A(ee,ae,!0),X=ee=>u.state.subscribe({next:ae=>{rK(ee.name,ae.name,ee.exact)&&sK(ae,ee.formState||f,_e,ee.reRenderRoot)&&ee.callback({values:{...a},...s,...ae,defaultValues:i})}}).unsubscribe,V=ee=>(o.mount=!0,m={...m,...ee.formState},X({...ee,formState:m})),H=(ee,ae={})=>{for(const oe of ee?Qd(ee):c.mount)c.mount.delete(oe),c.array.delete(oe),ae.keepValue||(An(r,oe),An(a,oe)),!ae.keepError&&An(s.errors,oe),!ae.keepDirty&&An(s.dirtyFields,oe),!ae.keepTouched&&An(s.touchedFields,oe),!ae.keepIsValidating&&An(s.validatingFields,oe),!t.shouldUnregister&&!ae.keepDefaultValue&&An(i,oe);u.state.next({values:Ln(a)}),u.state.next({...s,...ae.keepDirty?{isDirty:T()}:{}}),!ae.keepIsValid&&v()},se=({disabled:ee,name:ae})=>{(zs(ee)&&o.mount||ee||c.disabled.has(ae))&&(ee?c.disabled.add(ae):c.disabled.delete(ae))},Q=(ee,ae={})=>{let oe=Fe(r,ee);const be=zs(ae.disabled)||zs(t.disabled);return Dt(r,ee,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:ee}},name:ee,mount:!0,...ae}}),c.mount.add(ee),oe?se({disabled:zs(ae.disabled)?ae.disabled:t.disabled,name:ee}):N(ee,!0,ae.value),{...be?{disabled:ae.disabled||t.disabled}:{},...t.progressive?{required:!!ae.required,min:_d(ae.min),max:_d(ae.max),minLength:_d(ae.minLength),maxLength:_d(ae.maxLength),pattern:_d(ae.pattern)}:{},name:ee,onChange:Y,onBlur:Y,ref:we=>{if(we){Q(ee,ae),oe=Fe(r,ee);const xe=_n(we.value)&&we.querySelectorAll&&we.querySelectorAll("input,select,textarea")[0]||we,re=XG(xe),Se=oe._f.refs||[];if(re?Se.find(Te=>Te===xe):xe===oe._f.ref)return;Dt(r,ee,{_f:{...oe._f,...re?{refs:[...Se.filter(Pv),xe,...Array.isArray(Fe(i,ee))?[{}]:[]],ref:{type:xe.type,name:ee}}:{ref:xe}}}),N(ee,!1,void 0,xe)}else oe=Fe(r,ee,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||ae.shouldUnregister)&&!(WL(c.array,ee)&&o.action)&&c.unMount.add(ee)}}},ie=()=>t.shouldFocusError&&Jd(r,K,c.mount),fe=ee=>{zs(ee)&&(u.state.next({disabled:ee}),Jd(r,(ae,oe)=>{const be=Fe(r,oe);be&&(ae.disabled=be._f.disabled||ee,Array.isArray(be._f.refs)&&be._f.refs.forEach(we=>{we.disabled=be._f.disabled||ee}))},0,!1))},te=(ee,ae)=>async oe=>{let be;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let we=Ln(a);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:re}=await k();s.errors=xe,we=Ln(re)}else await R(r);if(c.disabled.size)for(const xe of c.disabled)An(we,xe);if(An(s.errors,"root"),Cs(s.errors)){u.state.next({errors:{}});try{await ee(we,oe)}catch(xe){be=xe}}else ae&&await ae({...s.errors},oe),ie(),setTimeout(ie);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cs(s.errors)&&!be,submitCount:s.submitCount+1,errors:s.errors}),be)throw be},ve=(ee,ae={})=>{Fe(r,ee)&&(_n(ae.defaultValue)?G(ee,Ln(Fe(i,ee))):(G(ee,ae.defaultValue),Dt(i,ee,Ln(ae.defaultValue))),ae.keepTouched||An(s.touchedFields,ee),ae.keepDirty||(An(s.dirtyFields,ee),s.isDirty=ae.defaultValue?T(ee,Ln(Fe(i,ee))):T()),ae.keepError||(An(s.errors,ee),f.isValid&&v()),u.state.next({...s}))},Ce=(ee,ae={})=>{const oe=ee?Ln(ee):i,be=Ln(oe),we=Cs(ee),xe=we?i:be;if(ae.keepDefaultValues||(i=oe),!ae.keepValues){if(ae.keepDirtyValues){const re=new Set([...c.mount,...Object.keys(jd(i,a))]);for(const Se of Array.from(re))Fe(s.dirtyFields,Se)?Dt(xe,Se,Fe(a,Se)):G(Se,Fe(xe,Se))}else{if(Mw&&_n(ee))for(const re of c.mount){const Se=Fe(r,re);if(Se&&Se._f){const Te=Array.isArray(Se._f.refs)?Se._f.refs[0]:Se._f.ref;if(bm(Te)){const nt=Te.closest("form");if(nt){nt.reset();break}}}}if(ae.keepFieldsRef)for(const re of c.mount)G(re,Fe(xe,re));else r={}}a=t.shouldUnregister?ae.keepDefaultValues?Ln(i):{}:Ln(xe),u.array.next({values:{...xe}}),u.state.next({values:{...xe}})}c={mount:ae.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,o.watch=!!t.shouldUnregister,u.state.next({submitCount:ae.keepSubmitCount?s.submitCount:0,isDirty:we?!1:ae.keepDirty?s.isDirty:!!(ae.keepDefaultValues&&!$i(ee,i)),isSubmitted:ae.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:we?{}:ae.keepDirtyValues?ae.keepDefaultValues&&a?jd(i,a):s.dirtyFields:ae.keepDefaultValues&&ee?jd(i,ee):ae.keepDirty?s.dirtyFields:{},touchedFields:ae.keepTouched?s.touchedFields:{},errors:ae.keepErrors?s.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},he=(ee,ae)=>Ce(Tr(ee)?ee(a):ee,ae),je=(ee,ae={})=>{const oe=Fe(r,ee),be=oe&&oe._f;if(be){const we=be.refs?be.refs[0]:be.ref;we.focus&&(we.focus(),ae.shouldSelect&&Tr(we.select)&&we.select())}},_e=ee=>{s={...s,...ee}},me={control:{register:Q,unregister:H,getFieldState:M,handleSubmit:te,setError:Z,_subscribe:X,_runSchema:k,_focusError:ie,_getWatch:A,_getDirty:T,_setValid:v,_setFieldArray:x,_setDisabledField:se,_setErrors:_,_getFieldArray:$,_reset:Ce,_resetDefaultValues:()=>Tr(t.defaultValues)&&t.defaultValues().then(ee=>{he(ee,t.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:E,_disableForm:fe,_subjects:u,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(ee){o=ee},get _defaultValues(){return i},get _names(){return c},set _names(ee){c=ee},get _formState(){return s},get _options(){return t},set _options(ee){t={...t,...ee}}},subscribe:V,trigger:U,register:Q,handleSubmit:te,watch:W,setValue:G,getValues:B,reset:he,resetField:ve,clearErrors:z,unregister:H,setError:Z,setFocus:je,getFieldState:M};return{...me,formControl:me}}function s4(e={}){const t=Ne.useRef(void 0),s=Ne.useRef(void 0),[r,i]=Ne.useState({isDirty:!1,isValidating:!1,isLoading:Tr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Tr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=cK(e);t.current={...c,formState:r}}const a=t.current.control;return a._options=e,$w(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),a._formState.isReady=!0,o},[a]),Ne.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ne.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Ne.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Ne.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Ne.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Ne.useEffect(()=>{e.values&&!$i(e.values,s.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),s.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),Ne.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=GL(r,a),t.current}const LS=(e,t,s)=>{if(e&&"reportValidity"in e){const r=Fe(s,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},r4=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?LS(r.ref,s,e):r.refs&&r.refs.forEach(i=>LS(i,s,e))}},dK=(e,t)=>{t.shouldUseNativeValidation&&r4(e,t);const s={};for(const r in e){const i=Fe(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(uK(t.names||Object.keys(e),r)){const o=Object.assign({},Fe(s,r));Dt(o,"root",a),Dt(s,r,o)}else Dt(s,r,a)}return s},uK=(e,t)=>e.some(s=>s.startsWith(t+"."));var hK=function(e,t){for(var s={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!s[o])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];s[o]={message:c.message,type:c.code}}else s[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var d=s[o].types,h=d&&d[r.code];s[o]=YL(o,t,s,i,h?[].concat(h,r.message):r.message)}e.shift()}return s},i4=function(e,t,s){return s===void 0&&(s={}),function(r,i,a){try{return Promise.resolve(function(o,c){try{var d=Promise.resolve(e[s.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(h){return a.shouldUseNativeValidation&&r4({},a),{errors:{},values:s.raw?r:h}})}catch(h){return c(h)}return d&&d.then?d.then(void 0,c):d}(0,function(o){if(function(c){return Array.isArray(c==null?void 0:c.errors)}(o))return{values:{},errors:dK(hK(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Mt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function s(i){throw new Error}e.assertNever=s,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Mt||(Mt={}));var MS;(function(e){e.mergeShapes=(t,s)=>({...t,...s})})(MS||(MS={}));const Ye=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),va=e=>{switch(typeof e){case"undefined":return Ye.undefined;case"string":return Ye.string;case"number":return Number.isNaN(e)?Ye.nan:Ye.number;case"boolean":return Ye.boolean;case"function":return Ye.function;case"bigint":return Ye.bigint;case"symbol":return Ye.symbol;case"object":return Array.isArray(e)?Ye.array:e===null?Ye.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ye.promise:typeof Map<"u"&&e instanceof Map?Ye.map:typeof Set<"u"&&e instanceof Set?Ye.set:typeof Date<"u"&&e instanceof Date?Ye.date:Ye.object;default:return Ye.unknown}},Le=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class na extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=t}format(t){const s=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(s(o));else{let c=r,d=0;for(;d<o.path.length;){const h=o.path[d];d===o.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(s(o))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return i(this),r}static assert(t){if(!(t instanceof na))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=s=>s.message){const s={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];s[a]=s[a]||[],s[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}na.create=e=>new na(e);const Py=(e,t)=>{let s;switch(e.code){case Le.invalid_type:e.received===Ye.undefined?s="Required":s=`Expected ${e.expected}, received ${e.received}`;break;case Le.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,Mt.jsonStringifyReplacer)}`;break;case Le.unrecognized_keys:s=`Unrecognized key(s) in object: ${Mt.joinValues(e.keys,", ")}`;break;case Le.invalid_union:s="Invalid input";break;case Le.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${Mt.joinValues(e.options)}`;break;case Le.invalid_enum_value:s=`Invalid enum value. Expected ${Mt.joinValues(e.options)}, received '${e.received}'`;break;case Le.invalid_arguments:s="Invalid function arguments";break;case Le.invalid_return_type:s="Invalid function return type";break;case Le.invalid_date:s="Invalid date";break;case Le.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:Mt.assertNever(e.validation):e.validation!=="regex"?s=`Invalid ${e.validation}`:s="Invalid";break;case Le.too_small:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?s=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:s="Invalid input";break;case Le.too_big:e.type==="array"?s=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?s=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?s=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?s=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?s=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:s="Invalid input";break;case Le.custom:s="Invalid input";break;case Le.invalid_intersection_types:s="Intersection results could not be merged";break;case Le.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case Le.not_finite:s="Number must be finite";break;default:s=t.defaultError,Mt.assertNever(e)}return{message:s}};let fK=Py;function mK(){return fK}const pK=e=>{const{data:t,path:s,errorMaps:r,issueData:i}=e,a=[...s,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(o,{data:t,defaultError:c}).message;return{...i,path:a,message:c}};function Ue(e,t){const s=mK(),r=pK({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===Py?void 0:Py].filter(i=>!!i)});e.common.issues.push(r)}class js{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,s){const r=[];for(const i of s){if(i.status==="aborted")return ut;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,s){const r=[];for(const i of s){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return js.mergeObjectSync(t,r)}static mergeObjectSync(t,s){const r={};for(const i of s){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return ut;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const ut=Object.freeze({status:"aborted"}),Ld=e=>({status:"dirty",value:e}),pr=e=>({status:"valid",value:e}),IS=e=>e.status==="aborted",DS=e=>e.status==="dirty",_c=e=>e.status==="valid",_m=e=>typeof Promise<"u"&&e instanceof Promise;var Qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Qe||(Qe={}));class wi{constructor(t,s,r,i){this._cachedPath=[],this.parent=t,this.data=s,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const FS=(e,t)=>{if(_c(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new na(e.common.issues);return this._error=s,this._error}}};function wt(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:r,description:i}=e;if(t&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>{const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:o.code!=="invalid_type"?{message:c.defaultError}:{message:d??s??c.defaultError}},description:i}}class Et{get description(){return this._def.description}_getType(t){return va(t.data)}_getOrReturnCtx(t,s){return s||{common:t.parent.common,data:t.data,parsedType:va(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new js,ctx:{common:t.parent.common,data:t.data,parsedType:va(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const s=this._parse(t);if(_m(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(t){const s=this._parse(t);return Promise.resolve(s)}parse(t,s){const r=this.safeParse(t,s);if(r.success)return r.data;throw r.error}safeParse(t,s){const r={common:{issues:[],async:(s==null?void 0:s.async)??!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)},i=this._parseSync({data:t,path:r.path,parent:r});return FS(r,i)}"~validate"(t){var r,i;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return _c(a)?{value:a.value}:{issues:s.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>_c(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,s){const r=await this.safeParseAsync(t,s);if(r.success)return r.data;throw r.error}async safeParseAsync(t,s){const r={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:va(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(_m(i)?i:Promise.resolve(i));return FS(r,a)}refine(t,s){const r=i=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(i):s;return this._refinement((i,a)=>{const o=t(i),c=()=>a.addIssue({code:Le.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,s){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof s=="function"?s(r,i):s),!1))}_refinement(t){return new Ya({schema:this,typeName:ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return za.create(this,this._def)}nullable(){return Ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gi.create(this)}promise(){return Cm.create(this,this._def)}or(t){return Nm.create([this,t],this._def)}and(t){return Sm.create(this,t,this._def)}transform(t){return new Ya({...wt(this._def),schema:this,typeName:ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const s=typeof t=="function"?t:()=>t;return new Vy({...wt(this._def),innerType:this,defaultValue:s,typeName:ct.ZodDefault})}brand(){return new FK({typeName:ct.ZodBranded,type:this,...wt(this._def)})}catch(t){const s=typeof t=="function"?t:()=>t;return new Uy({...wt(this._def),innerType:this,catchValue:s,typeName:ct.ZodCatch})}describe(t){const s=this.constructor;return new s({...this._def,description:t})}pipe(t){return Vw.create(this,t)}readonly(){return Hy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gK=/^c[^\s-]{8,}$/i,vK=/^[0-9a-z]+$/,xK=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yK=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bK=/^[a-z0-9_-]{21}$/i,wK=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jK=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_K=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NK="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tv;const SK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kK=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,EK=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,PK=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,TK=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AK=new RegExp(`^${a4}$`);function o4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const s=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${s}`}function OK(e){return new RegExp(`^${o4(e)}$`)}function RK(e){let t=`${a4}T${o4(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function LK(e,t){return!!((t==="v4"||!t)&&SK.test(e)||(t==="v6"||!t)&&CK.test(e))}function MK(e,t){if(!wK.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function IK(e,t){return!!((t==="v4"||!t)&&kK.test(e)||(t==="v6"||!t)&&EK.test(e))}class Ui extends Et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ye.string){const a=this._getOrReturnCtx(t);return Ue(a,{code:Le.invalid_type,expected:Ye.string,received:a.parsedType}),ut}const r=new js;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,c=t.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?Ue(i,{code:Le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Ue(i,{code:Le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")_K.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"email",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Tv||(Tv=new RegExp(NK,"u")),Tv.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"emoji",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")yK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"uuid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")bK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"nanoid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")gK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"cuid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")vK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"cuid2",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")xK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"ulid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ue(i,{validation:"url",code:Le.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"regex",code:Le.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?RK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?AK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?OK(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?jK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"duration",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?LK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"ip",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?MK(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"jwt",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?IK(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"cidr",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?PK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"base64",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?TK.test(t.data)||(i=this._getOrReturnCtx(t,i),Ue(i,{validation:"base64url",code:Le.invalid_string,message:a.message}),r.dirty()):Mt.assertNever(a);return{status:r.value,value:t.data}}_regex(t,s,r){return this.refinement(i=>t.test(i),{validation:s,code:Le.invalid_string,...Qe.errToObj(r)})}_addCheck(t){return new Ui({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Qe.errToObj(t)})}regex(t,s){return this._addCheck({kind:"regex",regex:t,...Qe.errToObj(s)})}includes(t,s){return this._addCheck({kind:"includes",value:t,position:s==null?void 0:s.position,...Qe.errToObj(s==null?void 0:s.message)})}startsWith(t,s){return this._addCheck({kind:"startsWith",value:t,...Qe.errToObj(s)})}endsWith(t,s){return this._addCheck({kind:"endsWith",value:t,...Qe.errToObj(s)})}min(t,s){return this._addCheck({kind:"min",value:t,...Qe.errToObj(s)})}max(t,s){return this._addCheck({kind:"max",value:t,...Qe.errToObj(s)})}length(t,s){return this._addCheck({kind:"length",value:t,...Qe.errToObj(s)})}nonempty(t){return this.min(1,Qe.errToObj(t))}trim(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ui({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxLength(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Ui.create=e=>new Ui({checks:[],typeName:ct.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});function DK(e,t){const s=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=s>r?s:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class Nc extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ye.number){const a=this._getOrReturnCtx(t);return Ue(a,{code:Le.invalid_type,expected:Ye.number,received:a.parsedType}),ut}let r;const i=new js;for(const a of this._def.checks)a.kind==="int"?Mt.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?DK(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.not_finite,message:a.message}),i.dirty()):Mt.assertNever(a);return{status:i.value,value:t.data}}gte(t,s){return this.setLimit("min",t,!0,Qe.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Qe.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Qe.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Qe.toString(s))}setLimit(t,s,r,i){return new Nc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:Qe.toString(i)}]})}_addCheck(t){return new Nc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qe.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Qe.toString(s)})}finite(t){return this._addCheck({kind:"finite",message:Qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qe.toString(t)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Mt.isInteger(t.value))}get isFinite(){let t=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(s)&&Number.isFinite(t)}}Nc.create=e=>new Nc({checks:[],typeName:ct.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class Sc extends Et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ye.bigint)return this._getInvalidInput(t);let r;const i=new js;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Ue(r,{code:Le.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Mt.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const s=this._getOrReturnCtx(t);return Ue(s,{code:Le.invalid_type,expected:Ye.bigint,received:s.parsedType}),ut}gte(t,s){return this.setLimit("min",t,!0,Qe.toString(s))}gt(t,s){return this.setLimit("min",t,!1,Qe.toString(s))}lte(t,s){return this.setLimit("max",t,!0,Qe.toString(s))}lt(t,s){return this.setLimit("max",t,!1,Qe.toString(s))}setLimit(t,s,r,i){return new Sc({...this._def,checks:[...this._def.checks,{kind:t,value:s,inclusive:r,message:Qe.toString(i)}]})}_addCheck(t){return new Sc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qe.toString(t)})}multipleOf(t,s){return this._addCheck({kind:"multipleOf",value:t,message:Qe.toString(s)})}get minValue(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t}get maxValue(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t}}Sc.create=e=>new Sc({checks:[],typeName:ct.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...wt(e)});class Ty extends Et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ye.boolean){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.boolean,received:r.parsedType}),ut}return pr(t.data)}}Ty.create=e=>new Ty({typeName:ct.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...wt(e)});class Fu extends Et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ye.date){const a=this._getOrReturnCtx(t);return Ue(a,{code:Le.invalid_type,expected:Ye.date,received:a.parsedType}),ut}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Ue(a,{code:Le.invalid_date}),ut}const r=new js;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Ue(i,{code:Le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Mt.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Fu({...this._def,checks:[...this._def.checks,t]})}min(t,s){return this._addCheck({kind:"min",value:t.getTime(),message:Qe.toString(s)})}max(t,s){return this._addCheck({kind:"max",value:t.getTime(),message:Qe.toString(s)})}get minDate(){let t=null;for(const s of this._def.checks)s.kind==="min"&&(t===null||s.value>t)&&(t=s.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const s of this._def.checks)s.kind==="max"&&(t===null||s.value<t)&&(t=s.value);return t!=null?new Date(t):null}}Fu.create=e=>new Fu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ct.ZodDate,...wt(e)});class Ay extends Et{_parse(t){if(this._getType(t)!==Ye.symbol){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.symbol,received:r.parsedType}),ut}return pr(t.data)}}Ay.create=e=>new Ay({typeName:ct.ZodSymbol,...wt(e)});class Oy extends Et{_parse(t){if(this._getType(t)!==Ye.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.undefined,received:r.parsedType}),ut}return pr(t.data)}}Oy.create=e=>new Oy({typeName:ct.ZodUndefined,...wt(e)});class Ry extends Et{_parse(t){if(this._getType(t)!==Ye.null){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.null,received:r.parsedType}),ut}return pr(t.data)}}Ry.create=e=>new Ry({typeName:ct.ZodNull,...wt(e)});class Ly extends Et{constructor(){super(...arguments),this._any=!0}_parse(t){return pr(t.data)}}Ly.create=e=>new Ly({typeName:ct.ZodAny,...wt(e)});class My extends Et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pr(t.data)}}My.create=e=>new My({typeName:ct.ZodUnknown,...wt(e)});class Ka extends Et{_parse(t){const s=this._getOrReturnCtx(t);return Ue(s,{code:Le.invalid_type,expected:Ye.never,received:s.parsedType}),ut}}Ka.create=e=>new Ka({typeName:ct.ZodNever,...wt(e)});class Iy extends Et{_parse(t){if(this._getType(t)!==Ye.undefined){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.void,received:r.parsedType}),ut}return pr(t.data)}}Iy.create=e=>new Iy({typeName:ct.ZodVoid,...wt(e)});class gi extends Et{_parse(t){const{ctx:s,status:r}=this._processInputParams(t),i=this._def;if(s.parsedType!==Ye.array)return Ue(s,{code:Le.invalid_type,expected:Ye.array,received:s.parsedType}),ut;if(i.exactLength!==null){const o=s.data.length>i.exactLength.value,c=s.data.length<i.exactLength.value;(o||c)&&(Ue(s,{code:o?Le.too_big:Le.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&s.data.length<i.minLength.value&&(Ue(s,{code:Le.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&s.data.length>i.maxLength.value&&(Ue(s,{code:Le.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((o,c)=>i.type._parseAsync(new wi(s,o,s.path,c)))).then(o=>js.mergeArray(r,o));const a=[...s.data].map((o,c)=>i.type._parseSync(new wi(s,o,s.path,c)));return js.mergeArray(r,a)}get element(){return this._def.type}min(t,s){return new gi({...this._def,minLength:{value:t,message:Qe.toString(s)}})}max(t,s){return new gi({...this._def,maxLength:{value:t,message:Qe.toString(s)}})}length(t,s){return new gi({...this._def,exactLength:{value:t,message:Qe.toString(s)}})}nonempty(t){return this.min(1,t)}}gi.create=(e,t)=>new gi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ct.ZodArray,...wt(t)});function vl(e){if(e instanceof mn){const t={};for(const s in e.shape){const r=e.shape[s];t[s]=za.create(vl(r))}return new mn({...e._def,shape:()=>t})}else return e instanceof gi?new gi({...e._def,type:vl(e.element)}):e instanceof za?za.create(vl(e.unwrap())):e instanceof Ec?Ec.create(vl(e.unwrap())):e instanceof Xo?Xo.create(e.items.map(t=>vl(t))):e}class mn extends Et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),s=Mt.objectKeys(t);return this._cached={shape:t,keys:s},this._cached}_parse(t){if(this._getType(t)!==Ye.object){const h=this._getOrReturnCtx(t);return Ue(h,{code:Le.invalid_type,expected:Ye.object,received:h.parsedType}),ut}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof Ka&&this._def.unknownKeys==="strip"))for(const h in i.data)o.includes(h)||c.push(h);const d=[];for(const h of o){const f=a[h],m=i.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new wi(i,m,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Ka){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of c)d.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(h==="strict")c.length>0&&(Ue(i,{code:Le.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of c){const m=i.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new wi(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of d){const m=await f.key,u=await f.value;h.push({key:m,value:u,alwaysSet:f.alwaysSet})}return h}).then(h=>js.mergeObjectSync(r,h)):js.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return Qe.errToObj,new mn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(s,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,s,r).message)??r.defaultError;return s.code==="unrecognized_keys"?{message:Qe.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new mn({...this._def,unknownKeys:"strip"})}passthrough(){return new mn({...this._def,unknownKeys:"passthrough"})}extend(t){return new mn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new mn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ct.ZodObject})}setKey(t,s){return this.augment({[t]:s})}catchall(t){return new mn({...this._def,catchall:t})}pick(t){const s={};for(const r of Mt.objectKeys(t))t[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new mn({...this._def,shape:()=>s})}omit(t){const s={};for(const r of Mt.objectKeys(this.shape))t[r]||(s[r]=this.shape[r]);return new mn({...this._def,shape:()=>s})}deepPartial(){return vl(this)}partial(t){const s={};for(const r of Mt.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?s[r]=i:s[r]=i.optional()}return new mn({...this._def,shape:()=>s})}required(t){const s={};for(const r of Mt.objectKeys(this.shape))if(t&&!t[r])s[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof za;)a=a._def.innerType;s[r]=a}return new mn({...this._def,shape:()=>s})}keyof(){return l4(Mt.objectKeys(this.shape))}}mn.create=(e,t)=>new mn({shape:()=>e,unknownKeys:"strip",catchall:Ka.create(),typeName:ct.ZodObject,...wt(t)});mn.strictCreate=(e,t)=>new mn({shape:()=>e,unknownKeys:"strict",catchall:Ka.create(),typeName:ct.ZodObject,...wt(t)});mn.lazycreate=(e,t)=>new mn({shape:e,unknownKeys:"strip",catchall:Ka.create(),typeName:ct.ZodObject,...wt(t)});class Nm extends Et{_parse(t){const{ctx:s}=this._processInputParams(t),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return s.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new na(c.ctx.common.issues));return Ue(s,{code:Le.invalid_union,unionErrors:o}),ut}if(s.common.async)return Promise.all(r.map(async a=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await a._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const d of r){const h={...s,common:{...s.common,issues:[]},parent:null},f=d._parseSync({data:s.data,path:s.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:h}),h.common.issues.length&&o.push(h.common.issues)}if(a)return s.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(d=>new na(d));return Ue(s,{code:Le.invalid_union,unionErrors:c}),ut}}get options(){return this._def.options}}Nm.create=(e,t)=>new Nm({options:e,typeName:ct.ZodUnion,...wt(t)});function Dy(e,t){const s=va(e),r=va(t);if(e===t)return{valid:!0,data:e};if(s===Ye.object&&r===Ye.object){const i=Mt.objectKeys(t),a=Mt.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of a){const d=Dy(e[c],t[c]);if(!d.valid)return{valid:!1};o[c]=d.data}return{valid:!0,data:o}}else if(s===Ye.array&&r===Ye.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],c=t[a],d=Dy(o,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return s===Ye.date&&r===Ye.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Sm extends Et{_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(IS(a)||IS(o))return ut;const c=Dy(a.value,o.value);return c.valid?((DS(a)||DS(o))&&s.dirty(),{status:s.value,value:c.data}):(Ue(r,{code:Le.invalid_intersection_types}),ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Sm.create=(e,t,s)=>new Sm({left:e,right:t,typeName:ct.ZodIntersection,...wt(s)});class Xo extends Et{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.array)return Ue(r,{code:Le.invalid_type,expected:Ye.array,received:r.parsedType}),ut;if(r.data.length<this._def.items.length)return Ue(r,{code:Le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&r.data.length>this._def.items.length&&(Ue(r,{code:Le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const a=[...r.data].map((o,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new wi(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>js.mergeArray(s,o)):js.mergeArray(s,a)}get items(){return this._def.items}rest(t){return new Xo({...this._def,rest:t})}}Xo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xo({items:e,typeName:ct.ZodTuple,rest:null,...wt(t)})};class km extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.object)return Ue(r,{code:Le.invalid_type,expected:Ye.object,received:r.parsedType}),ut;const i=[],a=this._def.keyType,o=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new wi(r,c,r.path,c)),value:o._parse(new wi(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?js.mergeObjectAsync(s,i):js.mergeObjectSync(s,i)}get element(){return this._def.valueType}static create(t,s,r){return s instanceof Et?new km({keyType:t,valueType:s,typeName:ct.ZodRecord,...wt(r)}):new km({keyType:Ui.create(),valueType:t,typeName:ct.ZodRecord,...wt(s)})}}class Fy extends Et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.map)return Ue(r,{code:Le.invalid_type,expected:Ye.map,received:r.parsedType}),ut;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,d],h)=>({key:i._parse(new wi(r,c,r.path,[h,"key"])),value:a._parse(new wi(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of o){const h=await d.key,f=await d.value;if(h.status==="aborted"||f.status==="aborted")return ut;(h.status==="dirty"||f.status==="dirty")&&s.dirty(),c.set(h.value,f.value)}return{status:s.value,value:c}})}else{const c=new Map;for(const d of o){const h=d.key,f=d.value;if(h.status==="aborted"||f.status==="aborted")return ut;(h.status==="dirty"||f.status==="dirty")&&s.dirty(),c.set(h.value,f.value)}return{status:s.value,value:c}}}}Fy.create=(e,t,s)=>new Fy({valueType:t,keyType:e,typeName:ct.ZodMap,...wt(s)});class kc extends Et{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ye.set)return Ue(r,{code:Le.invalid_type,expected:Ye.set,received:r.parsedType}),ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ue(r,{code:Le.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),s.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ue(r,{code:Le.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),s.dirty());const a=this._def.valueType;function o(d){const h=new Set;for(const f of d){if(f.status==="aborted")return ut;f.status==="dirty"&&s.dirty(),h.add(f.value)}return{status:s.value,value:h}}const c=[...r.data.values()].map((d,h)=>a._parse(new wi(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>o(d)):o(c)}min(t,s){return new kc({...this._def,minSize:{value:t,message:Qe.toString(s)}})}max(t,s){return new kc({...this._def,maxSize:{value:t,message:Qe.toString(s)}})}size(t,s){return this.min(t,s).max(t,s)}nonempty(t){return this.min(1,t)}}kc.create=(e,t)=>new kc({valueType:e,minSize:null,maxSize:null,typeName:ct.ZodSet,...wt(t)});class $y extends Et{get schema(){return this._def.getter()}_parse(t){const{ctx:s}=this._processInputParams(t);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}$y.create=(e,t)=>new $y({getter:e,typeName:ct.ZodLazy,...wt(t)});class zy extends Et{_parse(t){if(t.data!==this._def.value){const s=this._getOrReturnCtx(t);return Ue(s,{received:s.data,code:Le.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:t.data}}get value(){return this._def.value}}zy.create=(e,t)=>new zy({value:e,typeName:ct.ZodLiteral,...wt(t)});function l4(e,t){return new Cc({values:e,typeName:ct.ZodEnum,...wt(t)})}class Cc extends Et{_parse(t){if(typeof t.data!="string"){const s=this._getOrReturnCtx(t),r=this._def.values;return Ue(s,{expected:Mt.joinValues(r),received:s.parsedType,code:Le.invalid_type}),ut}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const s=this._getOrReturnCtx(t),r=this._def.values;return Ue(s,{received:s.data,code:Le.invalid_enum_value,options:r}),ut}return pr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const s of this._def.values)t[s]=s;return t}get Values(){const t={};for(const s of this._def.values)t[s]=s;return t}get Enum(){const t={};for(const s of this._def.values)t[s]=s;return t}extract(t,s=this._def){return Cc.create(t,{...this._def,...s})}exclude(t,s=this._def){return Cc.create(this.options.filter(r=>!t.includes(r)),{...this._def,...s})}}Cc.create=l4;class By extends Et{_parse(t){const s=Mt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ye.string&&r.parsedType!==Ye.number){const i=Mt.objectValues(s);return Ue(r,{expected:Mt.joinValues(i),received:r.parsedType,code:Le.invalid_type}),ut}if(this._cache||(this._cache=new Set(Mt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Mt.objectValues(s);return Ue(r,{received:r.data,code:Le.invalid_enum_value,options:i}),ut}return pr(t.data)}get enum(){return this._def.values}}By.create=(e,t)=>new By({values:e,typeName:ct.ZodNativeEnum,...wt(t)});class Cm extends Et{unwrap(){return this._def.type}_parse(t){const{ctx:s}=this._processInputParams(t);if(s.parsedType!==Ye.promise&&s.common.async===!1)return Ue(s,{code:Le.invalid_type,expected:Ye.promise,received:s.parsedType}),ut;const r=s.parsedType===Ye.promise?s.data:Promise.resolve(s.data);return pr(r.then(i=>this._def.type.parseAsync(i,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Cm.create=(e,t)=>new Cm({type:e,typeName:ct.ZodPromise,...wt(t)});class Ya extends Et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:s,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Ue(r,o),o.fatal?s.abort():s.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async c=>{if(s.value==="aborted")return ut;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ut:d.status==="dirty"||s.value==="dirty"?Ld(d.value):d});{if(s.value==="aborted")return ut;const c=this._def.schema._parseSync({data:o,path:r.path,parent:r});return c.status==="aborted"?ut:c.status==="dirty"||s.value==="dirty"?Ld(c.value):c}}if(i.type==="refinement"){const o=c=>{const d=i.refinement(c,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ut:(c.status==="dirty"&&s.dirty(),o(c.value),{status:s.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ut:(c.status==="dirty"&&s.dirty(),o(c.value).then(()=>({status:s.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!_c(o))return ut;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>_c(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:s.value,value:c})):ut);Mt.assertNever(i)}}Ya.create=(e,t,s)=>new Ya({schema:e,typeName:ct.ZodEffects,effect:t,...wt(s)});Ya.createWithPreprocess=(e,t,s)=>new Ya({schema:t,effect:{type:"preprocess",transform:e},typeName:ct.ZodEffects,...wt(s)});class za extends Et{_parse(t){return this._getType(t)===Ye.undefined?pr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}za.create=(e,t)=>new za({innerType:e,typeName:ct.ZodOptional,...wt(t)});class Ec extends Et{_parse(t){return this._getType(t)===Ye.null?pr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ec.create=(e,t)=>new Ec({innerType:e,typeName:ct.ZodNullable,...wt(t)});class Vy extends Et{_parse(t){const{ctx:s}=this._processInputParams(t);let r=s.data;return s.parsedType===Ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}Vy.create=(e,t)=>new Vy({innerType:e,typeName:ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...wt(t)});class Uy extends Et{_parse(t){const{ctx:s}=this._processInputParams(t),r={...s,common:{...s.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _m(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new na(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new na(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Uy.create=(e,t)=>new Uy({innerType:e,typeName:ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...wt(t)});class qy extends Et{_parse(t){if(this._getType(t)!==Ye.nan){const r=this._getOrReturnCtx(t);return Ue(r,{code:Le.invalid_type,expected:Ye.nan,received:r.parsedType}),ut}return{status:"valid",value:t.data}}}qy.create=e=>new qy({typeName:ct.ZodNaN,...wt(e)});class FK extends Et{_parse(t){const{ctx:s}=this._processInputParams(t),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class Vw extends Et{_parse(t){const{status:s,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ut:a.status==="dirty"?(s.dirty(),Ld(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ut:i.status==="dirty"?(s.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,s){return new Vw({in:t,out:s,typeName:ct.ZodPipeline})}}class Hy extends Et{_parse(t){const s=this._def.innerType._parse(t),r=i=>(_c(i)&&(i.value=Object.freeze(i.value)),i);return _m(s)?s.then(i=>r(i)):r(s)}unwrap(){return this._def.innerType}}Hy.create=(e,t)=>new Hy({innerType:e,typeName:ct.ZodReadonly,...wt(t)});mn.lazycreate;var ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ct||(ct={}));const jn=Ui.create,zi=Nc.create;qy.create;Sc.create;const eu=Ty.create;Fu.create;Ay.create;Oy.create;Ry.create;const Wy=Ly.create;My.create;Ka.create;Iy.create;const Em=gi.create,c4=mn.create;mn.strictCreate;Nm.create;Sm.create;Xo.create;const d4=km.create;Fy.create;kc.create;$y.create;zy.create;const u4=Cc.create;By.create;Cm.create;Ya.create;za.create;Ec.create;Ya.createWithPreprocess;function $K(){this.__data__=[],this.size=0}var zK=$K;function BK(e,t){return e===t||e!==e&&t!==t}var h4=BK,VK=h4;function UK(e,t){for(var s=e.length;s--;)if(VK(e[s][0],t))return s;return-1}var Bp=UK,qK=Bp,HK=Array.prototype,WK=HK.splice;function ZK(e){var t=this.__data__,s=qK(t,e);if(s<0)return!1;var r=t.length-1;return s==r?t.pop():WK.call(t,s,1),--this.size,!0}var GK=ZK,KK=Bp;function YK(e){var t=this.__data__,s=KK(t,e);return s<0?void 0:t[s][1]}var XK=YK,QK=Bp;function JK(e){return QK(this.__data__,e)>-1}var eY=JK,tY=Bp;function nY(e,t){var s=this.__data__,r=tY(s,e);return r<0?(++this.size,s.push([e,t])):s[r][1]=t,this}var sY=nY,rY=zK,iY=GK,aY=XK,oY=eY,lY=sY;function Hc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Hc.prototype.clear=rY;Hc.prototype.delete=iY;Hc.prototype.get=aY;Hc.prototype.has=oY;Hc.prototype.set=lY;var Vp=Hc,cY=Vp;function dY(){this.__data__=new cY,this.size=0}var uY=dY;function hY(e){var t=this.__data__,s=t.delete(e);return this.size=t.size,s}var fY=hY;function mY(e){return this.__data__.get(e)}var pY=mY;function gY(e){return this.__data__.has(e)}var vY=gY,xY=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,f4=xY,yY=f4,bY=typeof self=="object"&&self&&self.Object===Object&&self,wY=yY||bY||Function("return this")(),ia=wY,jY=ia,_Y=jY.Symbol,Uw=_Y,$S=Uw,m4=Object.prototype,NY=m4.hasOwnProperty,SY=m4.toString,Nd=$S?$S.toStringTag:void 0;function kY(e){var t=NY.call(e,Nd),s=e[Nd];try{e[Nd]=void 0;var r=!0}catch{}var i=SY.call(e);return r&&(t?e[Nd]=s:delete e[Nd]),i}var CY=kY,EY=Object.prototype,PY=EY.toString;function TY(e){return PY.call(e)}var AY=TY,zS=Uw,OY=CY,RY=AY,LY="[object Null]",MY="[object Undefined]",BS=zS?zS.toStringTag:void 0;function IY(e){return e==null?e===void 0?MY:LY:BS&&BS in Object(e)?OY(e):RY(e)}var Up=IY;function DY(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var p4=DY,FY=Up,$Y=p4,zY="[object AsyncFunction]",BY="[object Function]",VY="[object GeneratorFunction]",UY="[object Proxy]";function qY(e){if(!$Y(e))return!1;var t=FY(e);return t==BY||t==VY||t==zY||t==UY}var g4=qY,HY=ia,WY=HY["__core-js_shared__"],ZY=WY,Av=ZY,VS=function(){var e=/[^.]+$/.exec(Av&&Av.keys&&Av.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GY(e){return!!VS&&VS in e}var KY=GY,YY=Function.prototype,XY=YY.toString;function QY(e){if(e!=null){try{return XY.call(e)}catch{}try{return e+""}catch{}}return""}var v4=QY,JY=g4,eX=KY,tX=p4,nX=v4,sX=/[\\^$.*+?()[\]{}|]/g,rX=/^\[object .+?Constructor\]$/,iX=Function.prototype,aX=Object.prototype,oX=iX.toString,lX=aX.hasOwnProperty,cX=RegExp("^"+oX.call(lX).replace(sX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dX(e){if(!tX(e)||eX(e))return!1;var t=JY(e)?cX:rX;return t.test(nX(e))}var uX=dX;function hX(e,t){return e==null?void 0:e[t]}var fX=hX,mX=uX,pX=fX;function gX(e,t){var s=pX(e,t);return mX(s)?s:void 0}var Wc=gX,vX=Wc,xX=ia,yX=vX(xX,"Map"),qw=yX,bX=Wc,wX=bX(Object,"create"),qp=wX,US=qp;function jX(){this.__data__=US?US(null):{},this.size=0}var _X=jX;function NX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SX=NX,kX=qp,CX="__lodash_hash_undefined__",EX=Object.prototype,PX=EX.hasOwnProperty;function TX(e){var t=this.__data__;if(kX){var s=t[e];return s===CX?void 0:s}return PX.call(t,e)?t[e]:void 0}var AX=TX,OX=qp,RX=Object.prototype,LX=RX.hasOwnProperty;function MX(e){var t=this.__data__;return OX?t[e]!==void 0:LX.call(t,e)}var IX=MX,DX=qp,FX="__lodash_hash_undefined__";function $X(e,t){var s=this.__data__;return this.size+=this.has(e)?0:1,s[e]=DX&&t===void 0?FX:t,this}var zX=$X,BX=_X,VX=SX,UX=AX,qX=IX,HX=zX;function Zc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Zc.prototype.clear=BX;Zc.prototype.delete=VX;Zc.prototype.get=UX;Zc.prototype.has=qX;Zc.prototype.set=HX;var WX=Zc,qS=WX,ZX=Vp,GX=qw;function KX(){this.size=0,this.__data__={hash:new qS,map:new(GX||ZX),string:new qS}}var YX=KX;function XX(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var QX=XX,JX=QX;function eQ(e,t){var s=e.__data__;return JX(t)?s[typeof t=="string"?"string":"hash"]:s.map}var Hp=eQ,tQ=Hp;function nQ(e){var t=tQ(this,e).delete(e);return this.size-=t?1:0,t}var sQ=nQ,rQ=Hp;function iQ(e){return rQ(this,e).get(e)}var aQ=iQ,oQ=Hp;function lQ(e){return oQ(this,e).has(e)}var cQ=lQ,dQ=Hp;function uQ(e,t){var s=dQ(this,e),r=s.size;return s.set(e,t),this.size+=s.size==r?0:1,this}var hQ=uQ,fQ=YX,mQ=sQ,pQ=aQ,gQ=cQ,vQ=hQ;function Gc(e){var t=-1,s=e==null?0:e.length;for(this.clear();++t<s;){var r=e[t];this.set(r[0],r[1])}}Gc.prototype.clear=fQ;Gc.prototype.delete=mQ;Gc.prototype.get=pQ;Gc.prototype.has=gQ;Gc.prototype.set=vQ;var x4=Gc,xQ=Vp,yQ=qw,bQ=x4,wQ=200;function jQ(e,t){var s=this.__data__;if(s instanceof xQ){var r=s.__data__;if(!yQ||r.length<wQ-1)return r.push([e,t]),this.size=++s.size,this;s=this.__data__=new bQ(r)}return s.set(e,t),this.size=s.size,this}var _Q=jQ,NQ=Vp,SQ=uY,kQ=fY,CQ=pY,EQ=vY,PQ=_Q;function Kc(e){var t=this.__data__=new NQ(e);this.size=t.size}Kc.prototype.clear=SQ;Kc.prototype.delete=kQ;Kc.prototype.get=CQ;Kc.prototype.has=EQ;Kc.prototype.set=PQ;var TQ=Kc,AQ="__lodash_hash_undefined__";function OQ(e){return this.__data__.set(e,AQ),this}var RQ=OQ;function LQ(e){return this.__data__.has(e)}var MQ=LQ,IQ=x4,DQ=RQ,FQ=MQ;function Pm(e){var t=-1,s=e==null?0:e.length;for(this.__data__=new IQ;++t<s;)this.add(e[t])}Pm.prototype.add=Pm.prototype.push=DQ;Pm.prototype.has=FQ;var $Q=Pm;function zQ(e,t){for(var s=-1,r=e==null?0:e.length;++s<r;)if(t(e[s],s,e))return!0;return!1}var BQ=zQ;function VQ(e,t){return e.has(t)}var UQ=VQ,qQ=$Q,HQ=BQ,WQ=UQ,ZQ=1,GQ=2;function KQ(e,t,s,r,i,a){var o=s&ZQ,c=e.length,d=t.length;if(c!=d&&!(o&&d>c))return!1;var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var m=-1,u=!0,p=s&GQ?new qQ:void 0;for(a.set(e,t),a.set(t,e);++m<c;){var y=e[m],v=t[m];if(r)var w=o?r(v,y,m,t,e,a):r(y,v,m,e,t,a);if(w!==void 0){if(w)continue;u=!1;break}if(p){if(!HQ(t,function(x,b){if(!WQ(p,b)&&(y===x||i(y,x,s,r,a)))return p.push(b)})){u=!1;break}}else if(!(y===v||i(y,v,s,r,a))){u=!1;break}}return a.delete(e),a.delete(t),u}var y4=KQ,YQ=ia,XQ=YQ.Uint8Array,QQ=XQ;function JQ(e){var t=-1,s=Array(e.size);return e.forEach(function(r,i){s[++t]=[i,r]}),s}var eJ=JQ;function tJ(e){var t=-1,s=Array(e.size);return e.forEach(function(r){s[++t]=r}),s}var nJ=tJ,HS=Uw,WS=QQ,sJ=h4,rJ=y4,iJ=eJ,aJ=nJ,oJ=1,lJ=2,cJ="[object Boolean]",dJ="[object Date]",uJ="[object Error]",hJ="[object Map]",fJ="[object Number]",mJ="[object RegExp]",pJ="[object Set]",gJ="[object String]",vJ="[object Symbol]",xJ="[object ArrayBuffer]",yJ="[object DataView]",ZS=HS?HS.prototype:void 0,Ov=ZS?ZS.valueOf:void 0;function bJ(e,t,s,r,i,a,o){switch(s){case yJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xJ:return!(e.byteLength!=t.byteLength||!a(new WS(e),new WS(t)));case cJ:case dJ:case fJ:return sJ(+e,+t);case uJ:return e.name==t.name&&e.message==t.message;case mJ:case gJ:return e==t+"";case hJ:var c=iJ;case pJ:var d=r&oJ;if(c||(c=aJ),e.size!=t.size&&!d)return!1;var h=o.get(e);if(h)return h==t;r|=lJ,o.set(e,t);var f=rJ(c(e),c(t),r,i,a,o);return o.delete(e),f;case vJ:if(Ov)return Ov.call(e)==Ov.call(t)}return!1}var wJ=bJ;function jJ(e,t){for(var s=-1,r=t.length,i=e.length;++s<r;)e[i+s]=t[s];return e}var _J=jJ,NJ=Array.isArray,Hw=NJ,SJ=_J,kJ=Hw;function CJ(e,t,s){var r=t(e);return kJ(e)?r:SJ(r,s(e))}var EJ=CJ;function PJ(e,t){for(var s=-1,r=e==null?0:e.length,i=0,a=[];++s<r;){var o=e[s];t(o,s,e)&&(a[i++]=o)}return a}var TJ=PJ;function AJ(){return[]}var OJ=AJ,RJ=TJ,LJ=OJ,MJ=Object.prototype,IJ=MJ.propertyIsEnumerable,GS=Object.getOwnPropertySymbols,DJ=GS?function(e){return e==null?[]:(e=Object(e),RJ(GS(e),function(t){return IJ.call(e,t)}))}:LJ,FJ=DJ;function $J(e,t){for(var s=-1,r=Array(e);++s<e;)r[s]=t(s);return r}var zJ=$J;function BJ(e){return e!=null&&typeof e=="object"}var Wp=BJ,VJ=Up,UJ=Wp,qJ="[object Arguments]";function HJ(e){return UJ(e)&&VJ(e)==qJ}var WJ=HJ,KS=WJ,ZJ=Wp,b4=Object.prototype,GJ=b4.hasOwnProperty,KJ=b4.propertyIsEnumerable,YJ=KS(function(){return arguments}())?KS:function(e){return ZJ(e)&&GJ.call(e,"callee")&&!KJ.call(e,"callee")},XJ=YJ,Tm={exports:{}};function QJ(){return!1}var JJ=QJ;Tm.exports;(function(e,t){var s=ia,r=JJ,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,c=o?s.Buffer:void 0,d=c?c.isBuffer:void 0,h=d||r;e.exports=h})(Tm,Tm.exports);var w4=Tm.exports,eee=9007199254740991,tee=/^(?:0|[1-9]\d*)$/;function nee(e,t){var s=typeof e;return t=t??eee,!!t&&(s=="number"||s!="symbol"&&tee.test(e))&&e>-1&&e%1==0&&e<t}var see=nee,ree=9007199254740991;function iee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ree}var j4=iee,aee=Up,oee=j4,lee=Wp,cee="[object Arguments]",dee="[object Array]",uee="[object Boolean]",hee="[object Date]",fee="[object Error]",mee="[object Function]",pee="[object Map]",gee="[object Number]",vee="[object Object]",xee="[object RegExp]",yee="[object Set]",bee="[object String]",wee="[object WeakMap]",jee="[object ArrayBuffer]",_ee="[object DataView]",Nee="[object Float32Array]",See="[object Float64Array]",kee="[object Int8Array]",Cee="[object Int16Array]",Eee="[object Int32Array]",Pee="[object Uint8Array]",Tee="[object Uint8ClampedArray]",Aee="[object Uint16Array]",Oee="[object Uint32Array]",en={};en[Nee]=en[See]=en[kee]=en[Cee]=en[Eee]=en[Pee]=en[Tee]=en[Aee]=en[Oee]=!0;en[cee]=en[dee]=en[jee]=en[uee]=en[_ee]=en[hee]=en[fee]=en[mee]=en[pee]=en[gee]=en[vee]=en[xee]=en[yee]=en[bee]=en[wee]=!1;function Ree(e){return lee(e)&&oee(e.length)&&!!en[aee(e)]}var Lee=Ree;function Mee(e){return function(t){return e(t)}}var Iee=Mee,Am={exports:{}};Am.exports;(function(e,t){var s=f4,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&s.process,c=function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Am,Am.exports);var Dee=Am.exports,Fee=Lee,$ee=Iee,YS=Dee,XS=YS&&YS.isTypedArray,zee=XS?$ee(XS):Fee,_4=zee,Bee=zJ,Vee=XJ,Uee=Hw,qee=w4,Hee=see,Wee=_4,Zee=Object.prototype,Gee=Zee.hasOwnProperty;function Kee(e,t){var s=Uee(e),r=!s&&Vee(e),i=!s&&!r&&qee(e),a=!s&&!r&&!i&&Wee(e),o=s||r||i||a,c=o?Bee(e.length,String):[],d=c.length;for(var h in e)(t||Gee.call(e,h))&&!(o&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Hee(h,d)))&&c.push(h);return c}var Yee=Kee,Xee=Object.prototype;function Qee(e){var t=e&&e.constructor,s=typeof t=="function"&&t.prototype||Xee;return e===s}var Jee=Qee;function ete(e,t){return function(s){return e(t(s))}}var tte=ete,nte=tte,ste=nte(Object.keys,Object),rte=ste,ite=Jee,ate=rte,ote=Object.prototype,lte=ote.hasOwnProperty;function cte(e){if(!ite(e))return ate(e);var t=[];for(var s in Object(e))lte.call(e,s)&&s!="constructor"&&t.push(s);return t}var dte=cte,ute=g4,hte=j4;function fte(e){return e!=null&&hte(e.length)&&!ute(e)}var mte=fte,pte=Yee,gte=dte,vte=mte;function xte(e){return vte(e)?pte(e):gte(e)}var yte=xte,bte=EJ,wte=FJ,jte=yte;function _te(e){return bte(e,jte,wte)}var Nte=_te,QS=Nte,Ste=1,kte=Object.prototype,Cte=kte.hasOwnProperty;function Ete(e,t,s,r,i,a){var o=s&Ste,c=QS(e),d=c.length,h=QS(t),f=h.length;if(d!=f&&!o)return!1;for(var m=d;m--;){var u=c[m];if(!(o?u in t:Cte.call(t,u)))return!1}var p=a.get(e),y=a.get(t);if(p&&y)return p==t&&y==e;var v=!0;a.set(e,t),a.set(t,e);for(var w=o;++m<d;){u=c[m];var x=e[u],b=t[u];if(r)var _=o?r(b,x,u,t,e,a):r(x,b,u,e,t,a);if(!(_===void 0?x===b||i(x,b,s,r,a):_)){v=!1;break}w||(w=u=="constructor")}if(v&&!w){var N=e.constructor,C=t.constructor;N!=C&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof C=="function"&&C instanceof C)&&(v=!1)}return a.delete(e),a.delete(t),v}var Pte=Ete,Tte=Wc,Ate=ia,Ote=Tte(Ate,"DataView"),Rte=Ote,Lte=Wc,Mte=ia,Ite=Lte(Mte,"Promise"),Dte=Ite,Fte=Wc,$te=ia,zte=Fte($te,"Set"),Bte=zte,Vte=Wc,Ute=ia,qte=Vte(Ute,"WeakMap"),Hte=qte,Zy=Rte,Gy=qw,Ky=Dte,Yy=Bte,Xy=Hte,N4=Up,Yc=v4,JS="[object Map]",Wte="[object Object]",e2="[object Promise]",t2="[object Set]",n2="[object WeakMap]",s2="[object DataView]",Zte=Yc(Zy),Gte=Yc(Gy),Kte=Yc(Ky),Yte=Yc(Yy),Xte=Yc(Xy),vo=N4;(Zy&&vo(new Zy(new ArrayBuffer(1)))!=s2||Gy&&vo(new Gy)!=JS||Ky&&vo(Ky.resolve())!=e2||Yy&&vo(new Yy)!=t2||Xy&&vo(new Xy)!=n2)&&(vo=function(e){var t=N4(e),s=t==Wte?e.constructor:void 0,r=s?Yc(s):"";if(r)switch(r){case Zte:return s2;case Gte:return JS;case Kte:return e2;case Yte:return t2;case Xte:return n2}return t});var Qte=vo,Rv=TQ,Jte=y4,ene=wJ,tne=Pte,r2=Qte,i2=Hw,a2=w4,nne=_4,sne=1,o2="[object Arguments]",l2="[object Array]",sf="[object Object]",rne=Object.prototype,c2=rne.hasOwnProperty;function ine(e,t,s,r,i,a){var o=i2(e),c=i2(t),d=o?l2:r2(e),h=c?l2:r2(t);d=d==o2?sf:d,h=h==o2?sf:h;var f=d==sf,m=h==sf,u=d==h;if(u&&a2(e)){if(!a2(t))return!1;o=!0,f=!1}if(u&&!f)return a||(a=new Rv),o||nne(e)?Jte(e,t,s,r,i,a):ene(e,t,d,s,r,i,a);if(!(s&sne)){var p=f&&c2.call(e,"__wrapped__"),y=m&&c2.call(t,"__wrapped__");if(p||y){var v=p?e.value():e,w=y?t.value():t;return a||(a=new Rv),i(v,w,s,r,a)}}return u?(a||(a=new Rv),tne(e,t,s,r,i,a)):!1}var ane=ine,one=ane,d2=Wp;function S4(e,t,s,r,i){return e===t?!0:e==null||t==null||!d2(e)&&!d2(t)?e!==e&&t!==t:one(e,t,s,r,S4,i)}var lne=S4,cne=lne;function dne(e,t){return cne(e,t)}var une=dne,k4={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:vi,function(){return function(s){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return s[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=s,i.c=r,i.d=function(a,o,c){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(17),o=i(18),c=i(19),d=i(45),h=i(46),f=i(47),m=i(48),u=i(49),p=i(12),y=i(32),v=i(33),w=i(31),x=i(1),b={Scope:x.Scope,create:x.create,find:x.find,query:x.query,register:x.register,Container:a.default,Format:o.default,Leaf:c.default,Embed:m.default,Scroll:d.default,Block:f.default,Inline:h.default,Text:u.default,Attributor:{Attribute:p.default,Class:y.default,Style:v.default,Store:w.default}};r.default=b},function(s,r,i){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var _ in b)b.hasOwnProperty(_)&&(x[_]=b[_])};return function(x,b){w(x,b);function _(){this.constructor=x}x.prototype=b===null?Object.create(b):(_.prototype=b.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=function(w){a(x,w);function x(b){var _=this;return b="[Parchment] "+b,_=w.call(this,b)||this,_.message=b,_.name=_.constructor.name,_}return x}(Error);r.ParchmentError=o;var c={},d={},h={},f={};r.DATA_KEY="__blot";var m;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function u(w,x){var b=y(w);if(b==null)throw new o("Unable to create "+w+" blot");var _=b,N=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:_.create(x);return new _(N,x)}r.create=u;function p(w,x){return x===void 0&&(x=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:x?p(w.parentNode,x):null}r.find=p;function y(w,x){x===void 0&&(x=m.ANY);var b;if(typeof w=="string")b=f[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)b=f.text;else if(typeof w=="number")w&m.LEVEL&m.BLOCK?b=f.block:w&m.LEVEL&m.INLINE&&(b=f.inline);else if(w instanceof HTMLElement){var _=(w.getAttribute("class")||"").split(/\s+/);for(var N in _)if(b=d[_[N]],b)break;b=b||h[w.tagName]}return b==null?null:x&m.LEVEL&b.scope&&x&m.TYPE&b.scope?b:null}r.query=y;function v(){for(var w=[],x=0;x<arguments.length;x++)w[x]=arguments[x];if(w.length>1)return w.map(function(N){return v(N)});var b=w[0];if(typeof b.blotName!="string"&&typeof b.attrName!="string")throw new o("Invalid definition");if(b.blotName==="abstract")throw new o("Cannot register abstract class");if(f[b.blotName||b.attrName]=b,typeof b.keyName=="string")c[b.keyName]=b;else if(b.className!=null&&(d[b.className]=b),b.tagName!=null){Array.isArray(b.tagName)?b.tagName=b.tagName.map(function(N){return N.toUpperCase()}):b.tagName=b.tagName.toUpperCase();var _=Array.isArray(b.tagName)?b.tagName:[b.tagName];_.forEach(function(N){(h[N]==null||b.className==null)&&(h[N]=b)})}return b}r.register=v},function(s,r,i){var a=i(51),o=i(11),c=i(3),d=i(20),h="\0",f=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};f.prototype.insert=function(m,u){var p={};return m.length===0?this:(p.insert=m,u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p))},f.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},f.prototype.retain=function(m,u){if(m<=0)return this;var p={retain:m};return u!=null&&typeof u=="object"&&Object.keys(u).length>0&&(p.attributes=u),this.push(p)},f.prototype.push=function(m){var u=this.ops.length,p=this.ops[u-1];if(m=c(!0,{},m),typeof p=="object"){if(typeof m.delete=="number"&&typeof p.delete=="number")return this.ops[u-1]={delete:p.delete+m.delete},this;if(typeof p.delete=="number"&&m.insert!=null&&(u-=1,p=this.ops[u-1],typeof p!="object"))return this.ops.unshift(m),this;if(o(m.attributes,p.attributes)){if(typeof m.insert=="string"&&typeof p.insert=="string")return this.ops[u-1]={insert:p.insert+m.insert},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof p.retain=="number")return this.ops[u-1]={retain:p.retain+m.retain},typeof m.attributes=="object"&&(this.ops[u-1].attributes=m.attributes),this}}return u===this.ops.length?this.ops.push(m):this.ops.splice(u,0,m),this},f.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},f.prototype.filter=function(m){return this.ops.filter(m)},f.prototype.forEach=function(m){this.ops.forEach(m)},f.prototype.map=function(m){return this.ops.map(m)},f.prototype.partition=function(m){var u=[],p=[];return this.forEach(function(y){var v=m(y)?u:p;v.push(y)}),[u,p]},f.prototype.reduce=function(m,u){return this.ops.reduce(m,u)},f.prototype.changeLength=function(){return this.reduce(function(m,u){return u.insert?m+d.length(u):u.delete?m-u.delete:m},0)},f.prototype.length=function(){return this.reduce(function(m,u){return m+d.length(u)},0)},f.prototype.slice=function(m,u){m=m||0,typeof u!="number"&&(u=1/0);for(var p=[],y=d.iterator(this.ops),v=0;v<u&&y.hasNext();){var w;v<m?w=y.next(m-v):(w=y.next(u-v),p.push(w)),v+=d.length(w)}return new f(p)},f.prototype.compose=function(m){var u=d.iterator(this.ops),p=d.iterator(m.ops),y=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var w=v.retain;u.peekType()==="insert"&&u.peekLength()<=w;)w-=u.peekLength(),y.push(u.next());v.retain-w>0&&p.next(v.retain-w)}for(var x=new f(y);u.hasNext()||p.hasNext();)if(p.peekType()==="insert")x.push(p.next());else if(u.peekType()==="delete")x.push(u.next());else{var b=Math.min(u.peekLength(),p.peekLength()),_=u.next(b),N=p.next(b);if(typeof N.retain=="number"){var C={};typeof _.retain=="number"?C.retain=b:C.insert=_.insert;var I=d.attributes.compose(_.attributes,N.attributes,typeof _.retain=="number");if(I&&(C.attributes=I),x.push(C),!p.hasNext()&&o(x.ops[x.ops.length-1],C)){var k=new f(u.rest());return x.concat(k).chop()}}else typeof N.delete=="number"&&typeof _.retain=="number"&&x.push(N)}return x.chop()},f.prototype.concat=function(m){var u=new f(this.ops.slice());return m.ops.length>0&&(u.push(m.ops[0]),u.ops=u.ops.concat(m.ops.slice(1))),u},f.prototype.diff=function(m,u){if(this.ops===m.ops)return new f;var p=[this,m].map(function(b){return b.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:h;var N=b===m?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")}),y=new f,v=a(p[0],p[1],u),w=d.iterator(this.ops),x=d.iterator(m.ops);return v.forEach(function(b){for(var _=b[1].length;_>0;){var N=0;switch(b[0]){case a.INSERT:N=Math.min(x.peekLength(),_),y.push(x.next(N));break;case a.DELETE:N=Math.min(_,w.peekLength()),w.next(N),y.delete(N);break;case a.EQUAL:N=Math.min(w.peekLength(),x.peekLength(),_);var C=w.next(N),I=x.next(N);o(C.insert,I.insert)?y.retain(N,d.attributes.diff(C.attributes,I.attributes)):y.push(I).delete(N);break}_-=N}}),y.chop()},f.prototype.eachLine=function(m,u){u=u||`
`;for(var p=d.iterator(this.ops),y=new f,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),x=d.length(w)-p.peekLength(),b=typeof w.insert=="string"?w.insert.indexOf(u,x)-x:-1;if(b<0)y.push(p.next());else if(b>0)y.push(p.next(b));else{if(m(y,p.next(1).attributes||{},v)===!1)return;v+=1,y=new f}}y.length()>0&&m(y,{},v)},f.prototype.transform=function(m,u){if(u=!!u,typeof m=="number")return this.transformPosition(m,u);for(var p=d.iterator(this.ops),y=d.iterator(m.ops),v=new f;p.hasNext()||y.hasNext();)if(p.peekType()==="insert"&&(u||y.peekType()!=="insert"))v.retain(d.length(p.next()));else if(y.peekType()==="insert")v.push(y.next());else{var w=Math.min(p.peekLength(),y.peekLength()),x=p.next(w),b=y.next(w);if(x.delete)continue;b.delete?v.push(b):v.retain(w,d.attributes.transform(x.attributes,b.attributes,u))}return v.chop()},f.prototype.transformPosition=function(m,u){u=!!u;for(var p=d.iterator(this.ops),y=0;p.hasNext()&&y<=m;){var v=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){m-=Math.min(v,m-y);continue}else w==="insert"&&(y<m||!u)&&(m+=v);y+=v}return m},s.exports=f},function(s,r){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},h=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var y=i.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!y&&!v)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},f=function(p,y){o&&y.name==="__proto__"?o(p,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):p[y.name]=y.newValue},m=function(p,y){if(y==="__proto__")if(i.call(p,y)){if(c)return c(p,y).value}else return;return p[y]};s.exports=function u(){var p,y,v,w,x,b,_=arguments[0],N=1,C=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},N=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});N<C;++N)if(p=arguments[N],p!=null)for(y in p)v=m(_,y),w=m(p,y),_!==w&&(I&&w&&(h(w)||(x=d(w)))?(x?(x=!1,b=v&&d(v)?v:[]):b=v&&h(v)?v:{},f(_,{name:y,newValue:u(I,b,w)})):typeof w<"u"&&f(_,{name:y,newValue:w}));return _}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=function(){function T(A,$){for(var O=0;O<$.length;O++){var F=$[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,$,O){return $&&T(A.prototype,$),O&&T(A,O),A}}(),o=function T(A,$,O){A===null&&(A=Function.prototype);var F=Object.getOwnPropertyDescriptor(A,$);if(F===void 0){var G=Object.getPrototypeOf(A);return G===null?void 0:T(G,$,O)}else{if("value"in F)return F.value;var Y=F.get;return Y===void 0?void 0:Y.call(O)}},c=i(3),d=_(c),h=i(2),f=_(h),m=i(0),u=_(m),p=i(16),y=_(p),v=i(6),w=_(v),x=i(7),b=_(x);function _(T){return T&&T.__esModule?T:{default:T}}function N(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function C(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function I(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var k=1,P=function(T){I(A,T);function A(){return N(this,A),C(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"attach",value:function(){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new u.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,F){var G=u.default.query(O,u.default.Scope.BLOCK_ATTRIBUTE);G!=null&&this.attributes.attribute(G,F)}},{key:"formatAt",value:function(O,F,G,Y){this.format(G,Y)}},{key:"insertAt",value:function(O,F,G){if(typeof F=="string"&&F.endsWith(`
`)){var Y=u.default.create(R.blotName);this.parent.insertBefore(Y,O===0?this:this.next),Y.insertAt(0,F.slice(0,-1))}else o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,F,G)}}]),A}(u.default.Embed);P.scope=u.default.Scope.BLOCK_BLOT;var R=function(T){I(A,T);function A($){N(this,A);var O=C(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,$));return O.cache={},O}return a(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(u.default.Leaf).reduce(function(O,F){return F.length()===0?O:O.insert(F.value(),E(F))},new f.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(O,F){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,O,F),this.cache={}}},{key:"formatAt",value:function(O,F,G,Y){F<=0||(u.default.query(G,u.default.Scope.BLOCK)?O+F===this.length()&&this.format(G,Y):o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,O,Math.min(F,this.length()-O-1),G,Y),this.cache={})}},{key:"insertAt",value:function(O,F,G){if(G!=null)return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,O,F,G);if(F.length!==0){var Y=F.split(`
`),K=Y.shift();K.length>0&&(O<this.length()-1||this.children.tail==null?o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),K):this.children.tail.insertAt(this.children.tail.length(),K),this.cache={});var U=this;Y.reduce(function(B,M){return U=U.split(B,!0),U.insertAt(0,M),M.length},O+K.length)}}},{key:"insertBefore",value:function(O,F){var G=this.children.head;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,O,F),G instanceof y.default&&G.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(O,F){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,O,F),this.cache={}}},{key:"optimize",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(O===0||O>=this.length()-k)){var G=this.clone();return O===0?(this.parent.insertBefore(G,this),this):(this.parent.insertBefore(G,this.next),G)}else{var Y=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,O,F);return this.cache={},Y}}}]),A}(u.default.Block);R.blotName="block",R.tagName="P",R.defaultChild="break",R.allowedChildren=[w.default,u.default.Embed,b.default];function E(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(A=(0,d.default)(A,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?A:E(T.parent,A)}r.bubbleFormats=E,r.BlockEmbed=P,r.default=R},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(B,M){var z=[],Z=!0,W=!1,X=void 0;try{for(var V=B[Symbol.iterator](),H;!(Z=(H=V.next()).done)&&(z.push(H.value),!(M&&z.length===M));Z=!0);}catch(se){W=!0,X=se}finally{try{!Z&&V.return&&V.return()}finally{if(W)throw X}}return z}return function(B,M){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return U(B,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function U(B,M){for(var z=0;z<M.length;z++){var Z=M[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}return function(B,M,z){return M&&U(B.prototype,M),z&&U(B,z),B}}();i(50);var d=i(2),h=E(d),f=i(14),m=E(f),u=i(8),p=E(u),y=i(9),v=E(y),w=i(0),x=E(w),b=i(15),_=E(b),N=i(3),C=E(N),I=i(10),k=E(I),P=i(34),R=E(P);function E(U){return U&&U.__esModule?U:{default:U}}function T(U,B,M){return B in U?Object.defineProperty(U,B,{value:M,enumerable:!0,configurable:!0,writable:!0}):U[B]=M,U}function A(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}var $=(0,k.default)("quill"),O=function(){c(U,null,[{key:"debug",value:function(M){M===!0&&(M="log"),k.default.level(M)}},{key:"find",value:function(M){return M.__quill||x.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&$.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,z){var Z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof M!="string"){var X=M.attrName||M.blotName;typeof X=="string"?this.register("formats/"+X,M,z):Object.keys(M).forEach(function(V){Z.register(V,M[V],z)})}else this.imports[M]!=null&&!W&&$.warn("Overwriting "+M+" with",z),this.imports[M]=z,(M.startsWith("blots/")||M.startsWith("formats/"))&&z.blotName!=="abstract"?x.default.register(z):M.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]);function U(B){var M=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,U),this.options=F(B,z),this.container=this.options.container,this.container==null)return $.error("Invalid Quill container",B);this.options.debug&&U.debug(this.options.debug);var Z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=x.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(X){X===p.default.events.TEXT_CHANGE&&M.root.classList.toggle("ql-blank",M.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(X,V){var H=M.selection.lastRange,se=H&&H.length===0?H.index:void 0;G.call(M,function(){return M.editor.update(null,V,se)},X)});var W=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Z+"<p><br></p></div>");this.setContents(W),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(U,[{key:"addContainer",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var Z=M;M=document.createElement("div"),M.classList.add(Z)}return this.container.insertBefore(M,z),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,z,Z){var W=this,X=Y(M,z,Z),V=o(X,4);return M=V[0],z=V[1],Z=V[3],G.call(this,function(){return W.editor.deleteText(M,z)},Z,M,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,z){var Z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return G.call(this,function(){var X=Z.getSelection(!0),V=new h.default;if(X==null)return V;if(x.default.query(M,x.default.Scope.BLOCK))V=Z.editor.formatLine(X.index,X.length,T({},M,z));else{if(X.length===0)return Z.selection.format(M,z),V;V=Z.editor.formatText(X.index,X.length,T({},M,z))}return Z.setSelection(X,p.default.sources.SILENT),V},W)}},{key:"formatLine",value:function(M,z,Z,W,X){var V=this,H=void 0,se=Y(M,z,Z,W,X),Q=o(se,4);return M=Q[0],z=Q[1],H=Q[2],X=Q[3],G.call(this,function(){return V.editor.formatLine(M,z,H)},X,M,0)}},{key:"formatText",value:function(M,z,Z,W,X){var V=this,H=void 0,se=Y(M,z,Z,W,X),Q=o(se,4);return M=Q[0],z=Q[1],H=Q[2],X=Q[3],G.call(this,function(){return V.editor.formatText(M,z,H)},X,M,0)}},{key:"getBounds",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=void 0;typeof M=="number"?Z=this.selection.getBounds(M,z):Z=this.selection.getBounds(M.index,M.length);var W=this.container.getBoundingClientRect();return{bottom:Z.bottom-W.top,height:Z.height,left:Z.left-W.left,right:Z.right-W.left,top:Z.top-W.top,width:Z.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,Z=Y(M,z),W=o(Z,2);return M=W[0],z=W[1],this.editor.getContents(M,z)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,z):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,z)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,Z=Y(M,z),W=o(Z,2);return M=W[0],z=W[1],this.editor.getText(M,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,z,Z){var W=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return G.call(this,function(){return W.editor.insertEmbed(M,z,Z)},X,M)}},{key:"insertText",value:function(M,z,Z,W,X){var V=this,H=void 0,se=Y(M,0,Z,W,X),Q=o(se,4);return M=Q[0],H=Q[2],X=Q[3],G.call(this,function(){return V.editor.insertText(M,z,H)},X,M,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,z,Z){this.clipboard.dangerouslyPasteHTML(M,z,Z)}},{key:"removeFormat",value:function(M,z,Z){var W=this,X=Y(M,z,Z),V=o(X,4);return M=V[0],z=V[1],Z=V[3],G.call(this,function(){return W.editor.removeFormat(M,z)},Z,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var z=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){M=new h.default(M);var W=z.getLength(),X=z.editor.deleteText(0,W),V=z.editor.applyDelta(M),H=V.ops[V.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),V.delete(1));var se=X.compose(V);return se},Z)}},{key:"setSelection",value:function(M,z,Z){if(M==null)this.selection.setRange(null,z||U.sources.API);else{var W=Y(M,z,Z),X=o(W,4);M=X[0],z=X[1],Z=X[3],this.selection.setRange(new b.Range(M,z),Z),Z!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,Z=new h.default().insert(M);return this.setContents(Z,z)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,z=this.scroll.update(M);return this.selection.update(M),z}},{key:"updateContents",value:function(M){var z=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return G.call(this,function(){return M=new h.default(M),z.editor.applyDelta(M,Z)},Z,!0)}}]),U}();O.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},O.events=p.default.events,O.sources=p.default.sources,O.version="1.3.7",O.imports={delta:h.default,parchment:x.default,"core/module":v.default,"core/theme":R.default};function F(U,B){if(B=(0,C.default)(!0,{container:U,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===O.DEFAULTS.theme)B.theme=R.default;else if(B.theme=O.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var M=(0,C.default)(!0,{},B.theme.DEFAULTS);[M,B].forEach(function(W){W.modules=W.modules||{},Object.keys(W.modules).forEach(function(X){W.modules[X]===!0&&(W.modules[X]={})})});var z=Object.keys(M.modules).concat(Object.keys(B.modules)),Z=z.reduce(function(W,X){var V=O.import("modules/"+X);return V==null?$.error("Cannot load "+X+" module. Are you sure you registered it?"):W[X]=V.DEFAULTS||{},W},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,C.default)(!0,{},O.DEFAULTS,{modules:Z},M,B),["bounds","container","scrollingContainer"].forEach(function(W){typeof B[W]=="string"&&(B[W]=document.querySelector(B[W]))}),B.modules=Object.keys(B.modules).reduce(function(W,X){return B.modules[X]&&(W[X]=B.modules[X]),W},{}),B}function G(U,B,M,z){if(this.options.strict&&!this.isEnabled()&&B===p.default.sources.USER)return new h.default;var Z=M==null?null:this.getSelection(),W=this.editor.delta,X=U();if(Z!=null&&(M===!0&&(M=Z.index),z==null?Z=K(Z,X,B):z!==0&&(Z=K(Z,M,z,B)),this.setSelection(Z,p.default.sources.SILENT)),X.length()>0){var V,H=[p.default.events.TEXT_CHANGE,X,W,B];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(H)),B!==p.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,H)}}return X}function Y(U,B,M,z,Z){var W={};return typeof U.index=="number"&&typeof U.length=="number"?typeof B!="number"?(Z=z,z=M,M=B,B=U.length,U=U.index):(B=U.length,U=U.index):typeof B!="number"&&(Z=z,z=M,M=B,B=0),(typeof M>"u"?"undefined":a(M))==="object"?(W=M,Z=z):typeof M=="string"&&(z!=null?W[M]=z:Z=M),Z=Z||p.default.sources.API,[U,B,W,Z]}function K(U,B,M,z){if(U==null)return null;var Z=void 0,W=void 0;if(B instanceof h.default){var X=[U.index,U.index+U.length].map(function(Q){return B.transformPosition(Q,z!==p.default.sources.USER)}),V=o(X,2);Z=V[0],W=V[1]}else{var H=[U.index,U.index+U.length].map(function(Q){return Q<B||Q===B&&z===p.default.sources.USER?Q:M>=0?Q+M:Math.max(B,Q+M)}),se=o(H,2);Z=se[0],W=se[1]}return new b.Range(Z,W-Z)}r.expandConfig=F,r.overload=Y,r.default=O},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(x,b){for(var _=0;_<b.length;_++){var N=b[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,_){return b&&w(x.prototype,b),_&&w(x,_),x}}(),o=function w(x,b,_){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,b);if(N===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:w(C,b,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(7),d=m(c),h=i(0),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function p(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function y(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var v=function(w){y(x,w);function x(){return u(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"formatAt",value:function(_,N,C,I){if(x.compare(this.statics.blotName,C)<0&&f.default.query(C,f.default.Scope.BLOT)){var k=this.isolate(_,N);I&&k.wrap(C,I)}else o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,_,N,C,I)}},{key:"optimize",value:function(_){if(o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,_),this.parent instanceof x&&x.compare(this.statics.blotName,this.parent.statics.blotName)>0){var N=this.parent.isolate(this.offset(),this.length());this.moveChildren(N),N.wrap(this)}}}],[{key:"compare",value:function(_,N){var C=x.order.indexOf(_),I=x.order.indexOf(N);return C>=0||I>=0?C-I:_===N?0:_<N?-1:1}}]),x}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,d.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function b(_,N){for(var C=0;C<N.length;C++){var I=N[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,N,C){return N&&b(_.prototype,N),C&&b(_,C),_}}(),o=function b(_,N,C){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,N);if(I===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:b(k,N,C)}else{if("value"in I)return I.value;var P=I.get;return P===void 0?void 0:P.call(C)}},c=i(54),d=m(c),h=i(10),f=m(h);function m(b){return b&&b.__esModule?b:{default:b}}function u(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function p(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function y(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var v=(0,f.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(b){document.addEventListener(b,function(){for(var _=arguments.length,N=Array(_),C=0;C<_;C++)N[C]=arguments[C];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(I){if(I.__quill&&I.__quill.emitter){var k;(k=I.__quill.emitter).handleDOM.apply(k,N)}})})});var x=function(b){y(_,b);function _(){u(this,_);var N=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return N.listeners={},N.on("error",v.error),N}return a(_,[{key:"emit",value:function(){v.log.apply(v,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(C){for(var I=arguments.length,k=Array(I>1?I-1:0),P=1;P<I;P++)k[P-1]=arguments[P];(this.listeners[C.type]||[]).forEach(function(R){var E=R.node,T=R.handler;(C.target===E||E.contains(C.target))&&T.apply(void 0,[C].concat(k))})}},{key:"listenDOM",value:function(C,I,k){this.listeners[C]||(this.listeners[C]=[]),this.listeners[C].push({node:I,handler:k})}}]),_}(d.default);x.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},x.sources={API:"api",SILENT:"silent",USER:"user"},r.default=x},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=d,this.options=h};o.DEFAULTS={},r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function c(h){if(a.indexOf(h)<=a.indexOf(o)){for(var f,m=arguments.length,u=Array(m>1?m-1:0),p=1;p<m;p++)u[p-1]=arguments[p];(f=console)[h].apply(f,u)}}function d(h){return a.reduce(function(f,m){return f[m]=c.bind(console,m,h),f},{})}c.level=d.level=function(h){o=h},r.default=d},function(s,r,i){var a=Array.prototype.slice,o=i(52),c=i(53),d=s.exports=function(u,p,y){return y||(y={}),u===p?!0:u instanceof Date&&p instanceof Date?u.getTime()===p.getTime():!u||!p||typeof u!="object"&&typeof p!="object"?y.strict?u===p:u==p:m(u,p,y)};function h(u){return u==null}function f(u){return!(!u||typeof u!="object"||typeof u.length!="number"||typeof u.copy!="function"||typeof u.slice!="function"||u.length>0&&typeof u[0]!="number")}function m(u,p,y){var v,w;if(h(u)||h(p)||u.prototype!==p.prototype)return!1;if(c(u))return c(p)?(u=a.call(u),p=a.call(p),d(u,p,y)):!1;if(f(u)){if(!f(p)||u.length!==p.length)return!1;for(v=0;v<u.length;v++)if(u[v]!==p[v])return!1;return!0}try{var x=o(u),b=o(p)}catch{return!1}if(x.length!=b.length)return!1;for(x.sort(),b.sort(),v=x.length-1;v>=0;v--)if(x[v]!=b[v])return!1;for(v=x.length-1;v>=0;v--)if(w=x[v],!d(u[w],p[w],y))return!1;return typeof u==typeof p}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function c(d,h,f){f===void 0&&(f={}),this.attrName=d,this.keyName=h;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return c.keys=function(d){return[].map.call(d.attributes,function(h){return h.name})},c.prototype.add=function(d,h){return this.canAdd(d,h)?(d.setAttribute(this.keyName,h),!0):!1},c.prototype.canAdd=function(d,h){var f=a.query(d,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof h=="string"?this.whitelist.indexOf(h.replace(/["']/g,""))>-1:this.whitelist.indexOf(h)>-1},c.prototype.remove=function(d){d.removeAttribute(this.keyName)},c.prototype.value=function(d){var h=d.getAttribute(this.keyName);return this.canAdd(d,h)&&h?h:""},c}();r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=function(){function P(R,E){var T=[],A=!0,$=!1,O=void 0;try{for(var F=R[Symbol.iterator](),G;!(A=(G=F.next()).done)&&(T.push(G.value),!(E&&T.length===E));A=!0);}catch(Y){$=!0,O=Y}finally{try{!A&&F.return&&F.return()}finally{if($)throw O}}return T}return function(R,E){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(R,E){for(var T=0;T<E.length;T++){var A=E[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,E,T){return E&&P(R.prototype,E),T&&P(R,T),R}}(),c=function P(R,E,T){R===null&&(R=Function.prototype);var A=Object.getOwnPropertyDescriptor(R,E);if(A===void 0){var $=Object.getPrototypeOf(R);return $===null?void 0:P($,E,T)}else{if("value"in A)return A.value;var O=A.get;return O===void 0?void 0:O.call(T)}},d=i(2),h=b(d),f=i(0),m=b(f),u=i(4),p=b(u),y=i(6),v=b(y),w=i(7),x=b(w);function b(P){return P&&P.__esModule?P:{default:P}}function _(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function N(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function C(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var I=function(P){C(R,P);function R(){return _(this,R),N(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return R}(v.default);I.blotName="code",I.tagName="CODE";var k=function(P){C(R,P);function R(){return _(this,R),N(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"delta",value:function(){var T=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function($,O){return $.insert(O).insert(`
`,T.formats())},new h.default)}},{key:"format",value:function(T,A){if(!(T===this.statics.blotName&&A)){var $=this.descendant(x.default,this.length()-1),O=a($,1),F=O[0];F!=null&&F.deleteAt(F.length()-1,1),c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"format",this).call(this,T,A)}}},{key:"formatAt",value:function(T,A,$,O){if(A!==0&&!(m.default.query($,m.default.Scope.BLOCK)==null||$===this.statics.blotName&&O===this.statics.formats(this.domNode))){var F=this.newlineIndex(T);if(!(F<0||F>=T+A)){var G=this.newlineIndex(T,!0)+1,Y=F-G+1,K=this.isolate(G,Y),U=K.next;K.format($,O),U instanceof R&&U.formatAt(0,T-G+A-Y,$,O)}}}},{key:"insertAt",value:function(T,A,$){if($==null){var O=this.descendant(x.default,T),F=a(O,2),G=F[0],Y=F[1];G.insertAt(Y,A)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var $=this.domNode.textContent.slice(T).indexOf(`
`);return $>-1?T+$:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,T);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(T),A.moveChildren(this),A.remove())}},{key:"replace",value:function(T){c(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var $=m.default.find(A);$==null?A.parentNode.removeChild(A):$ instanceof m.default.Embed?$.remove():$.unwrap()})}}],[{key:"create",value:function(T){var A=c(R.__proto__||Object.getPrototypeOf(R),"create",this).call(this,T);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),R}(p.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=I,r.default=k},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},o=function(){function U(B,M){var z=[],Z=!0,W=!1,X=void 0;try{for(var V=B[Symbol.iterator](),H;!(Z=(H=V.next()).done)&&(z.push(H.value),!(M&&z.length===M));Z=!0);}catch(se){W=!0,X=se}finally{try{!Z&&V.return&&V.return()}finally{if(W)throw X}}return z}return function(B,M){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return U(B,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function U(B,M){for(var z=0;z<M.length;z++){var Z=M[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}return function(B,M,z){return M&&U(B.prototype,M),z&&U(B,z),B}}(),d=i(2),h=A(d),f=i(20),m=A(f),u=i(0),p=A(u),y=i(13),v=A(y),w=i(24),x=A(w),b=i(4),_=A(b),N=i(16),C=A(N),I=i(21),k=A(I),P=i(11),R=A(P),E=i(3),T=A(E);function A(U){return U&&U.__esModule?U:{default:U}}function $(U,B,M){return B in U?Object.defineProperty(U,B,{value:M,enumerable:!0,configurable:!0,writable:!0}):U[B]=M,U}function O(U,B){if(!(U instanceof B))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,G=function(){function U(B){O(this,U),this.scroll=B,this.delta=this.getDelta()}return c(U,[{key:"applyDelta",value:function(M){var z=this,Z=!1;this.scroll.update();var W=this.scroll.length();return this.scroll.batchStart(),M=K(M),M.reduce(function(X,V){var H=V.retain||V.delete||V.insert.length||1,se=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var Q=V.insert;Q.endsWith(`
`)&&Z&&(Z=!1,Q=Q.slice(0,-1)),X>=W&&!Q.endsWith(`
`)&&(Z=!0),z.scroll.insertAt(X,Q);var ie=z.scroll.line(X),fe=o(ie,2),te=fe[0],ve=fe[1],Ce=(0,T.default)({},(0,b.bubbleFormats)(te));if(te instanceof _.default){var he=te.descendant(p.default.Leaf,ve),je=o(he,1),_e=je[0];Ce=(0,T.default)(Ce,(0,b.bubbleFormats)(_e))}se=m.default.attributes.diff(Ce,se)||{}}else if(a(V.insert)==="object"){var de=Object.keys(V.insert)[0];if(de==null)return X;z.scroll.insertAt(X,de,V.insert[de])}W+=H}return Object.keys(se).forEach(function(me){z.scroll.formatAt(X,H,me,se[me])}),X+H},0),M.reduce(function(X,V){return typeof V.delete=="number"?(z.scroll.deleteAt(X,V.delete),X):X+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(M)}},{key:"deleteText",value:function(M,z){return this.scroll.deleteAt(M,z),this.update(new h.default().retain(M).delete(z))}},{key:"formatLine",value:function(M,z){var Z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(W).forEach(function(X){if(!(Z.scroll.whitelist!=null&&!Z.scroll.whitelist[X])){var V=Z.scroll.lines(M,Math.max(z,1)),H=z;V.forEach(function(se){var Q=se.length();if(!(se instanceof v.default))se.format(X,W[X]);else{var ie=M-se.offset(Z.scroll),fe=se.newlineIndex(ie+H)-ie+1;se.formatAt(ie,fe,X,W[X])}H-=Q})}}),this.scroll.optimize(),this.update(new h.default().retain(M).retain(z,(0,k.default)(W)))}},{key:"formatText",value:function(M,z){var Z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(W).forEach(function(X){Z.scroll.formatAt(M,z,X,W[X])}),this.update(new h.default().retain(M).retain(z,(0,k.default)(W)))}},{key:"getContents",value:function(M,z){return this.delta.slice(M,M+z)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(M,z){return M.concat(z.delta())},new h.default)}},{key:"getFormat",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=[],W=[];z===0?this.scroll.path(M).forEach(function(V){var H=o(V,1),se=H[0];se instanceof _.default?Z.push(se):se instanceof p.default.Leaf&&W.push(se)}):(Z=this.scroll.lines(M,z),W=this.scroll.descendants(p.default.Leaf,M,z));var X=[Z,W].map(function(V){if(V.length===0)return{};for(var H=(0,b.bubbleFormats)(V.shift());Object.keys(H).length>0;){var se=V.shift();if(se==null)return H;H=Y((0,b.bubbleFormats)(se),H)}return H});return T.default.apply(T.default,X)}},{key:"getText",value:function(M,z){return this.getContents(M,z).filter(function(Z){return typeof Z.insert=="string"}).map(function(Z){return Z.insert}).join("")}},{key:"insertEmbed",value:function(M,z,Z){return this.scroll.insertAt(M,z,Z),this.update(new h.default().retain(M).insert($({},z,Z)))}},{key:"insertText",value:function(M,z){var Z=this,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z=z.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(M,z),Object.keys(W).forEach(function(X){Z.scroll.formatAt(M,z.length,X,W[X])}),this.update(new h.default().retain(M).insert(z,(0,k.default)(W)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var M=this.scroll.children.head;return M.statics.blotName!==_.default.blotName||M.children.length>1?!1:M.children.head instanceof C.default}},{key:"removeFormat",value:function(M,z){var Z=this.getText(M,z),W=this.scroll.line(M+z),X=o(W,2),V=X[0],H=X[1],se=0,Q=new h.default;V!=null&&(V instanceof v.default?se=V.newlineIndex(H)-H+1:se=V.length()-H,Q=V.delta().slice(H,H+se-1).insert(`
`));var ie=this.getContents(M,z+se),fe=ie.diff(new h.default().insert(Z).concat(Q)),te=new h.default().retain(M).concat(fe);return this.applyDelta(te)}},{key:"update",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,W=this.delta;if(z.length===1&&z[0].type==="characterData"&&z[0].target.data.match(F)&&p.default.find(z[0].target)){var X=p.default.find(z[0].target),V=(0,b.bubbleFormats)(X),H=X.offset(this.scroll),se=z[0].oldValue.replace(x.default.CONTENTS,""),Q=new h.default().insert(se),ie=new h.default().insert(X.value()),fe=new h.default().retain(H).concat(Q.diff(ie,Z));M=fe.reduce(function(te,ve){return ve.insert?te.insert(ve.insert,V):te.push(ve)},new h.default),this.delta=W.compose(M)}else this.delta=this.getDelta(),(!M||!(0,R.default)(W.compose(M),this.delta))&&(M=W.diff(this.delta,Z));return M}}]),U}();function Y(U,B){return Object.keys(B).reduce(function(M,z){return U[z]==null||(B[z]===U[z]?M[z]=B[z]:Array.isArray(B[z])?B[z].indexOf(U[z])<0&&(M[z]=B[z].concat([U[z]])):M[z]=[B[z],U[z]]),M},{})}function K(U){return U.reduce(function(B,M){if(M.insert===1){var z=(0,k.default)(M.attributes);return delete z.image,B.insert({image:M.attributes.image},z)}if(M.attributes!=null&&(M.attributes.list===!0||M.attributes.bullet===!0)&&(M=(0,k.default)(M),M.attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var Z=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(Z,M.attributes)}return B.push(M)},new h.default)}r.default=G},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=function(){function P(R,E){var T=[],A=!0,$=!1,O=void 0;try{for(var F=R[Symbol.iterator](),G;!(A=(G=F.next()).done)&&(T.push(G.value),!(E&&T.length===E));A=!0);}catch(Y){$=!0,O=Y}finally{try{!A&&F.return&&F.return()}finally{if($)throw O}}return T}return function(R,E){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function P(R,E){for(var T=0;T<E.length;T++){var A=E[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,A.key,A)}}return function(R,E,T){return E&&P(R.prototype,E),T&&P(R,T),R}}(),c=i(0),d=x(c),h=i(21),f=x(h),m=i(11),u=x(m),p=i(8),y=x(p),v=i(10),w=x(v);function x(P){return P&&P.__esModule?P:{default:P}}function b(P){if(Array.isArray(P)){for(var R=0,E=Array(P.length);R<P.length;R++)E[R]=P[R];return E}else return Array.from(P)}function _(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}var N=(0,w.default)("quill:selection"),C=function P(R){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,P),this.index=R,this.length=E},I=function(){function P(R,E){var T=this;_(this,P),this.emitter=E,this.scroll=R,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new C(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(A,$){A===y.default.events.TEXT_CHANGE&&$.length()>0&&T.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var A=T.getNativeRange();A!=null&&A.start.node!==T.cursor.textNode&&T.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(A,$){if($.range){var O=$.range,F=O.startNode,G=O.startOffset,Y=O.endNode,K=O.endOffset;T.setNativeRange(F,G,Y,K)}}),this.update(y.default.sources.SILENT)}return o(P,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var T=E.cursor.restore();if(!T)return;setTimeout(function(){E.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||d.default.query(E,d.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var $=d.default.find(A.start.node,!1);if($==null)return;if($ instanceof d.default.Leaf){var O=$.split(A.start.offset);$.parent.insertBefore(this.cursor,O)}else $.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(E,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();E=Math.min(E,A-1),T=Math.min(E+T,A-1)-E;var $=void 0,O=this.scroll.leaf(E),F=a(O,2),G=F[0],Y=F[1];if(G==null)return null;var K=G.position(Y,!0),U=a(K,2);$=U[0],Y=U[1];var B=document.createRange();if(T>0){B.setStart($,Y);var M=this.scroll.leaf(E+T),z=a(M,2);if(G=z[0],Y=z[1],G==null)return null;var Z=G.position(Y,!0),W=a(Z,2);return $=W[0],Y=W[1],B.setEnd($,Y),B.getBoundingClientRect()}else{var X="left",V=void 0;return $ instanceof Text?(Y<$.data.length?(B.setStart($,Y),B.setEnd($,Y+1)):(B.setStart($,Y-1),B.setEnd($,Y),X="right"),V=B.getBoundingClientRect()):(V=G.domNode.getBoundingClientRect(),Y>0&&(X="right")),{bottom:V.top+V.height,height:V.height,left:V[X],right:V[X],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var T=E.getRangeAt(0);if(T==null)return null;var A=this.normalizeNative(T);return N.info("getNativeRange",A),A}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var T=this.normalizedToRange(E);return[T,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var T=this,A=[[E.start.node,E.start.offset]];E.native.collapsed||A.push([E.end.node,E.end.offset]);var $=A.map(function(G){var Y=a(G,2),K=Y[0],U=Y[1],B=d.default.find(K,!0),M=B.offset(T.scroll);return U===0?M:B instanceof d.default.Container?M+B.length():M+B.index(K,U)}),O=Math.min(Math.max.apply(Math,b($)),this.scroll.length()-1),F=Math.min.apply(Math,[O].concat(b($)));return new C(F,O-F)}},{key:"normalizeNative",value:function(E){if(!k(this.root,E.startContainer)||!E.collapsed&&!k(this.root,E.endContainer))return null;var T={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[T.start,T.end].forEach(function(A){for(var $=A.node,O=A.offset;!($ instanceof Text)&&$.childNodes.length>0;)if($.childNodes.length>O)$=$.childNodes[O],O=0;else if($.childNodes.length===O)$=$.lastChild,O=$ instanceof Text?$.data.length:$.childNodes.length+1;else break;A.node=$,A.offset=O}),T}},{key:"rangeToNative",value:function(E){var T=this,A=E.collapsed?[E.index]:[E.index,E.index+E.length],$=[],O=this.scroll.length();return A.forEach(function(F,G){F=Math.min(O-1,F);var Y=void 0,K=T.scroll.leaf(F),U=a(K,2),B=U[0],M=U[1],z=B.position(M,G!==0),Z=a(z,2);Y=Z[0],M=Z[1],$.push(Y,M)}),$.length<2&&($=$.concat($)),$}},{key:"scrollIntoView",value:function(E){var T=this.lastRange;if(T!=null){var A=this.getBounds(T.index,T.length);if(A!=null){var $=this.scroll.length()-1,O=this.scroll.line(Math.min(T.index,$)),F=a(O,1),G=F[0],Y=G;if(T.length>0){var K=this.scroll.line(Math.min(T.index+T.length,$)),U=a(K,1);Y=U[0]}if(!(G==null||Y==null)){var B=E.getBoundingClientRect();A.top<B.top?E.scrollTop-=B.top-A.top:A.bottom>B.bottom&&(E.scrollTop+=A.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(E,T){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,O=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(N.info("setNativeRange",E,T,A,$),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||A.parentNode==null))){var F=document.getSelection();if(F!=null)if(E!=null){this.hasFocus()||this.root.focus();var G=(this.getNativeRange()||{}).native;if(G==null||O||E!==G.startContainer||T!==G.startOffset||A!==G.endContainer||$!==G.endOffset){E.tagName=="BR"&&(T=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),A.tagName=="BR"&&($=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var Y=document.createRange();Y.setStart(E,T),Y.setEnd(A,$),F.removeAllRanges(),F.addRange(Y)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof T=="string"&&(A=T,T=!1),N.info("setRange",E),E!=null){var $=this.rangeToNative(E);this.setNativeRange.apply(this,b($).concat([T]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,T=this.lastRange,A=this.getRange(),$=a(A,2),O=$[0],F=$[1];if(this.lastRange=O,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,u.default)(T,this.lastRange)){var G;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var Y=[y.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(T),E];if((G=this.emitter).emit.apply(G,[y.default.events.EDITOR_CHANGE].concat(Y)),E!==y.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,Y)}}}}]),P}();function k(P,R){try{R.parentNode}catch{return!1}return R instanceof Text&&(R=R.parentNode),P.contains(R)}r.Range=C,r.default=I},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(v,w){for(var x=0;x<w.length;x++){var b=w[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,w,x){return w&&y(v.prototype,w),x&&y(v,x),v}}(),o=function y(v,w,x){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,w);if(b===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,w,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},c=i(0),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(x,b){x.children.length===0?o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,x,b):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(d.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var y in p)p.hasOwnProperty(y)&&(u[y]=p[y])};return function(u,p){m(u,p);function y(){this.constructor=u}u.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(44),c=i(30),d=i(1),h=function(m){a(u,m);function u(p){var y=m.call(this,p)||this;return y.build(),y}return u.prototype.appendChild=function(p){this.insertBefore(p)},u.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},u.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=f(y);p.insertBefore(v,p.children.head||void 0)}catch(w){if(w instanceof d.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(p,y){if(p===0&&y===this.length())return this.remove();this.children.forEachAt(p,y,function(v,w,x){v.deleteAt(w,x)})},u.prototype.descendant=function(p,y){var v=this.children.find(y),w=v[0],x=v[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,x]:w instanceof u?w.descendant(p,x):[null,-1]},u.prototype.descendants=function(p,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var w=[],x=v;return this.children.forEachAt(y,v,function(b,_,N){(p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p)&&w.push(b),b instanceof u&&(w=w.concat(b.descendants(p,_,x))),x-=N}),w},u.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),m.prototype.detach.call(this)},u.prototype.formatAt=function(p,y,v,w){this.children.forEachAt(p,y,function(x,b,_){x.formatAt(b,_,v,w)})},u.prototype.insertAt=function(p,y,v){var w=this.children.find(p),x=w[0],b=w[1];if(x)x.insertAt(b,y,v);else{var _=v==null?d.create("text",y):d.create(y,v);this.appendChild(_)}},u.prototype.insertBefore=function(p,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new d.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,y)},u.prototype.length=function(){return this.children.reduce(function(p,y){return p+y.length()},0)},u.prototype.moveChildren=function(p,y){this.children.forEach(function(v){p.insertBefore(v,y)})},u.prototype.optimize=function(p){if(m.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var y=d.create(this.statics.defaultChild);this.appendChild(y),y.optimize(p)}else this.remove()},u.prototype.path=function(p,y){y===void 0&&(y=!1);var v=this.children.find(p,y),w=v[0],x=v[1],b=[[this,p]];return w instanceof u?b.concat(w.path(x,y)):(w!=null&&b.push([w,x]),b)},u.prototype.removeChild=function(p){this.children.remove(p)},u.prototype.replace=function(p){p instanceof u&&p.moveChildren(this),m.prototype.replace.call(this,p)},u.prototype.split=function(p,y){if(y===void 0&&(y=!1),!y){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(w,x,b){w=w.split(x,y),v.appendChild(w)}),v},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(p,y){var v=this,w=[],x=[];p.forEach(function(b){b.target===v.domNode&&b.type==="childList"&&(w.push.apply(w,b.addedNodes),x.push.apply(x,b.removedNodes))}),x.forEach(function(b){if(!(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=d.find(b);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),w.filter(function(b){return b.parentNode==v.domNode}).sort(function(b,_){return b===_?0:b.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(b){var _=null;b.nextSibling!=null&&(_=d.find(b.nextSibling));var N=f(b);(N.next!=_||N.next==null)&&(N.parent!=null&&N.parent.removeChild(v),v.insertBefore(N,_||void 0))})},u}(c.default);function f(m){var u=d.find(m);if(u==null)try{u=d.create(m)}catch{u=d.create(d.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(y){u.domNode.appendChild(y)}),m.parentNode&&m.parentNode.replaceChild(u.domNode,m),u.attach()}return u}r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var y in p)p.hasOwnProperty(y)&&(u[y]=p[y])};return function(u,p){m(u,p);function y(){this.constructor=u}u.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),c=i(31),d=i(17),h=i(1),f=function(m){a(u,m);function u(p){var y=m.call(this,p)||this;return y.attributes=new c.default(y.domNode),y}return u.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},u.prototype.format=function(p,y){var v=h.query(p);v instanceof o.default?this.attributes.attribute(v,y):y&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==y)&&this.replaceWith(p,y)},u.prototype.formats=function(){var p=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(p[this.statics.blotName]=y),p},u.prototype.replaceWith=function(p,y){var v=m.prototype.replaceWith.call(this,p,y);return this.attributes.copy(v),v},u.prototype.update=function(p,y){var v=this;m.prototype.update.call(this,p,y),p.some(function(w){return w.target===v.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(p,y){var v=m.prototype.wrap.call(this,p,y);return v instanceof u&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},u}(d.default);r.default=f},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(30),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.value=function(m){return!0},f.prototype.index=function(m,u){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},f.prototype.position=function(m,u){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(p+=1),[this.parent.domNode,p]},f.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},f.scope=c.Scope.INLINE_BLOT,f}(o.default);r.default=d},function(s,r,i){var a=i(11),o=i(3),c={attributes:{compose:function(h,f,m){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var u=o(!0,{},f);m||(u=Object.keys(u).reduce(function(y,v){return u[v]!=null&&(y[v]=u[v]),y},{}));for(var p in h)h[p]!==void 0&&f[p]===void 0&&(u[p]=h[p]);return Object.keys(u).length>0?u:void 0},diff:function(h,f){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});var m=Object.keys(h).concat(Object.keys(f)).reduce(function(u,p){return a(h[p],f[p])||(u[p]=f[p]===void 0?null:f[p]),u},{});return Object.keys(m).length>0?m:void 0},transform:function(h,f,m){if(typeof h!="object")return f;if(typeof f=="object"){if(!m)return f;var u=Object.keys(f).reduce(function(p,y){return h[y]===void 0&&(p[y]=f[y]),p},{});return Object.keys(u).length>0?u:void 0}}},iterator:function(h){return new d(h)},length:function(h){return typeof h.delete=="number"?h.delete:typeof h.retain=="number"?h.retain:typeof h.insert=="string"?h.insert.length:1}};function d(h){this.ops=h,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(h){h||(h=1/0);var f=this.ops[this.index];if(f){var m=this.offset,u=c.length(f);if(h>=u-m?(h=u-m,this.index+=1,this.offset=0):this.offset+=h,typeof f.delete=="number")return{delete:h};var p={};return f.attributes&&(p.attributes=f.attributes),typeof f.retain=="number"?p.retain=h:typeof f.insert=="string"?p.insert=f.insert.substr(m,h):p.insert=f.insert,p}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var h=this.offset,f=this.index,m=this.next(),u=this.ops.slice(this.index);return this.offset=h,this.index=f,[m].concat(u)}else return[]},s.exports=c},function(s,r){var i=function(){function a(v,w){return w!=null&&v instanceof w}var o;try{o=Map}catch{o=function(){}}var c;try{c=Set}catch{c=function(){}}var d;try{d=Promise}catch{d=function(){}}function h(v,w,x,b,_){typeof w=="object"&&(x=w.depth,b=w.prototype,_=w.includeNonEnumerable,w=w.circular);var N=[],C=[],I=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof x>"u"&&(x=1/0);function k(P,R){if(P===null)return null;if(R===0)return P;var E,T;if(typeof P!="object")return P;if(a(P,o))E=new o;else if(a(P,c))E=new c;else if(a(P,d))E=new d(function(B,M){P.then(function(z){B(k(z,R-1))},function(z){M(k(z,R-1))})});else if(h.__isArray(P))E=[];else if(h.__isRegExp(P))E=new RegExp(P.source,y(P)),P.lastIndex&&(E.lastIndex=P.lastIndex);else if(h.__isDate(P))E=new Date(P.getTime());else{if(I&&Buffer.isBuffer(P))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(P.length):E=new Buffer(P.length),P.copy(E),E;a(P,Error)?E=Object.create(P):typeof b>"u"?(T=Object.getPrototypeOf(P),E=Object.create(T)):(E=Object.create(b),T=b)}if(w){var A=N.indexOf(P);if(A!=-1)return C[A];N.push(P),C.push(E)}a(P,o)&&P.forEach(function(B,M){var z=k(M,R-1),Z=k(B,R-1);E.set(z,Z)}),a(P,c)&&P.forEach(function(B){var M=k(B,R-1);E.add(M)});for(var $ in P){var O;T&&(O=Object.getOwnPropertyDescriptor(T,$)),!(O&&O.set==null)&&(E[$]=k(P[$],R-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(P),$=0;$<F.length;$++){var G=F[$],Y=Object.getOwnPropertyDescriptor(P,G);Y&&!Y.enumerable&&!_||(E[G]=k(P[G],R-1),Y.enumerable||Object.defineProperty(E,G,{enumerable:!1}))}if(_)for(var K=Object.getOwnPropertyNames(P),$=0;$<K.length;$++){var U=K[$],Y=Object.getOwnPropertyDescriptor(P,U);Y&&Y.enumerable||(E[U]=k(P[U],R-1),Object.defineProperty(E,U,{enumerable:!1}))}return E}return k(v,x)}h.clonePrototype=function(w){if(w===null)return null;var x=function(){};return x.prototype=w,new x};function f(v){return Object.prototype.toString.call(v)}h.__objToStr=f;function m(v){return typeof v=="object"&&f(v)==="[object Date]"}h.__isDate=m;function u(v){return typeof v=="object"&&f(v)==="[object Array]"}h.__isArray=u;function p(v){return typeof v=="object"&&f(v)==="[object RegExp]"}h.__isRegExp=p;function y(v){var w="";return v.global&&(w+="g"),v.ignoreCase&&(w+="i"),v.multiline&&(w+="m"),w}return h.__getRegExpFlags=y,h}();typeof s=="object"&&s.exports&&(s.exports=i)},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,A){var $=[],O=!0,F=!1,G=void 0;try{for(var Y=T[Symbol.iterator](),K;!(O=(K=Y.next()).done)&&($.push(K.value),!(A&&$.length===A));O=!0);}catch(U){F=!0,G=U}finally{try{!O&&Y.return&&Y.return()}finally{if(F)throw G}}return $}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(T,A){for(var $=0;$<A.length;$++){var O=A[$];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,A,$){return A&&E(T.prototype,A),$&&E(T,$),T}}(),c=function E(T,A,$){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,A);if(O===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,A,$)}else{if("value"in O)return O.value;var G=O.get;return G===void 0?void 0:G.call($)}},d=i(0),h=N(d),f=i(8),m=N(f),u=i(4),p=N(u),y=i(16),v=N(y),w=i(13),x=N(w),b=i(25),_=N(b);function N(E){return E&&E.__esModule?E:{default:E}}function C(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function I(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function k(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}function P(E){return E instanceof p.default||E instanceof u.BlockEmbed}var R=function(E){k(T,E);function T(A,$){C(this,T);var O=I(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return O.emitter=$.emitter,Array.isArray($.whitelist)&&(O.whitelist=$.whitelist.reduce(function(F,G){return F[G]=!0,F},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return o(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function($,O){var F=this.line($),G=a(F,2),Y=G[0],K=G[1],U=this.line($+O),B=a(U,1),M=B[0];if(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,$,O),M!=null&&Y!==M&&K>0){if(Y instanceof u.BlockEmbed||M instanceof u.BlockEmbed){this.optimize();return}if(Y instanceof x.default){var z=Y.newlineIndex(Y.length(),!0);if(z>-1&&(Y=Y.split(z+1),Y===M)){this.optimize();return}}else if(M instanceof x.default){var Z=M.newlineIndex(0);Z>-1&&M.split(Z+1)}var W=M.children.head instanceof v.default?null:M.children.head;Y.moveChildren(M,W),Y.remove()}this.optimize()}},{key:"enable",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",$)}},{key:"formatAt",value:function($,O,F,G){this.whitelist!=null&&!this.whitelist[F]||(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,$,O,F,G),this.optimize())}},{key:"insertAt",value:function($,O,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[O])){if($>=this.length())if(F==null||h.default.query(O,h.default.Scope.BLOCK)==null){var G=h.default.create(this.statics.defaultChild);this.appendChild(G),F==null&&O.endsWith(`
`)&&(O=O.slice(0,-1)),G.insertAt(0,O,F)}else{var Y=h.default.create(O,F);this.appendChild(Y)}else c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,$,O,F);this.optimize()}}},{key:"insertBefore",value:function($,O){if($.statics.scope===h.default.Scope.INLINE_BLOT){var F=h.default.create(this.statics.defaultChild);F.appendChild($),$=F}c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,$,O)}},{key:"leaf",value:function($){return this.path($).pop()||[null,-1]}},{key:"line",value:function($){return $===this.length()?this.line($-1):this.descendant(P,$)}},{key:"lines",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function G(Y,K,U){var B=[],M=U;return Y.children.forEachAt(K,U,function(z,Z,W){P(z)?B.push(z):z instanceof h.default.Container&&(B=B.concat(G(z,Z,M))),M-=W}),B};return F(this,$,O)}},{key:"optimize",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,$,O),$.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,$,O))}},{key:"path",value:function($){return c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,$).slice(1)}},{key:"update",value:function($){if(this.batch!==!0){var O=m.default.sources.USER;typeof $=="string"&&(O=$),Array.isArray($)||($=this.observer.takeRecords()),$.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,O,$),c(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,$.concat([])),$.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,O,$)}}}]),T}(h.default.Scroll);R.blotName="scroll",R.className="ql-editor",R.tagName="DIV",R.defaultChild="block",R.allowedChildren=[p.default,u.BlockEmbed,_.default],r.default=R},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},o=function(){function V(H,se){var Q=[],ie=!0,fe=!1,te=void 0;try{for(var ve=H[Symbol.iterator](),Ce;!(ie=(Ce=ve.next()).done)&&(Q.push(Ce.value),!(se&&Q.length===se));ie=!0);}catch(he){fe=!0,te=he}finally{try{!ie&&ve.return&&ve.return()}finally{if(fe)throw te}}return Q}return function(H,se){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return V(H,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function V(H,se){for(var Q=0;Q<se.length;Q++){var ie=se[Q];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(H,ie.key,ie)}}return function(H,se,Q){return se&&V(H.prototype,se),Q&&V(H,Q),H}}(),d=i(21),h=E(d),f=i(11),m=E(f),u=i(3),p=E(u),y=i(2),v=E(y),w=i(20),x=E(w),b=i(0),_=E(b),N=i(5),C=E(N),I=i(10),k=E(I),P=i(9),R=E(P);function E(V){return V&&V.__esModule?V:{default:V}}function T(V,H,se){return H in V?Object.defineProperty(V,H,{value:se,enumerable:!0,configurable:!0,writable:!0}):V[H]=se,V}function A(V,H){if(!(V instanceof H))throw new TypeError("Cannot call a class as a function")}function $(V,H){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:V}function O(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(V,H):V.__proto__=H)}var F=(0,k.default)("quill:keyboard"),G=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Y=function(V){O(H,V),c(H,null,[{key:"match",value:function(Q,ie){return ie=X(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!ie[fe]!==Q[fe]&&ie[fe]!==null})?!1:ie.key===(Q.which||Q.keyCode)}}]);function H(se,Q){A(this,H);var ie=$(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,se,Q));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(fe){fe==="list autofill"&&se.scroll.whitelist!=null&&!se.scroll.whitelist.list||ie.options.bindings[fe]&&ie.addBinding(ie.options.bindings[fe])}),ie.addBinding({key:H.keys.ENTER,shiftKey:null},z),ie.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},U),ie.addBinding({key:H.keys.DELETE},{collapsed:!0},B)):(ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),ie.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},M),ie.addBinding({key:H.keys.DELETE},{collapsed:!1},M),ie.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),ie.listen(),ie}return c(H,[{key:"addBinding",value:function(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=X(Q);if(te==null||te.key==null)return F.warn("Attempted to add invalid keyboard binding",te);typeof ie=="function"&&(ie={handler:ie}),typeof fe=="function"&&(fe={handler:fe}),te=(0,p.default)(te,ie,fe),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var Q=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var fe=ie.which||ie.keyCode,te=(Q.bindings[fe]||[]).filter(function(ot){return H.match(ie,ot)});if(te.length!==0){var ve=Q.quill.getSelection();if(!(ve==null||!Q.quill.hasFocus())){var Ce=Q.quill.getLine(ve.index),he=o(Ce,2),je=he[0],_e=he[1],de=Q.quill.getLeaf(ve.index),me=o(de,2),ee=me[0],ae=me[1],oe=ve.length===0?[ee,ae]:Q.quill.getLeaf(ve.index+ve.length),be=o(oe,2),we=be[0],xe=be[1],re=ee instanceof _.default.Text?ee.value().slice(0,ae):"",Se=we instanceof _.default.Text?we.value().slice(xe):"",Te={collapsed:ve.length===0,empty:ve.length===0&&je.length()<=1,format:Q.quill.getFormat(ve),offset:_e,prefix:re,suffix:Se},nt=te.some(function(ot){if(ot.collapsed!=null&&ot.collapsed!==Te.collapsed||ot.empty!=null&&ot.empty!==Te.empty||ot.offset!=null&&ot.offset!==Te.offset)return!1;if(Array.isArray(ot.format)){if(ot.format.every(function($t){return Te.format[$t]==null}))return!1}else if(a(ot.format)==="object"&&!Object.keys(ot.format).every(function($t){return ot.format[$t]===!0?Te.format[$t]!=null:ot.format[$t]===!1?Te.format[$t]==null:(0,m.default)(ot.format[$t],Te.format[$t])}))return!1;return ot.prefix!=null&&!ot.prefix.test(Te.prefix)||ot.suffix!=null&&!ot.suffix.test(Te.suffix)?!1:ot.handler.call(Q,ve,Te)!==!0});nt&&ie.preventDefault()}}}})}}]),H}(R.default);Y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Y.DEFAULTS={bindings:{bold:W("bold"),italic:W("italic"),underline:W("underline"),indent:{key:Y.keys.TAB,format:["blockquote","indent","list"],handler:function(H,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","+1",C.default.sources.USER)}},outdent:{key:Y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","-1",C.default.sources.USER)}},"outdent backspace":{key:Y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,se){se.format.indent!=null?this.quill.format("indent","-1",C.default.sources.USER):se.format.list!=null&&this.quill.format("list",!1,C.default.sources.USER)}},"indent code-block":Z(!0),"outdent code-block":Z(!1),"remove tab":{key:Y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,C.default.sources.USER)}},tab:{key:Y.keys.TAB,handler:function(H){this.quill.history.cutoff();var se=new v.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(se,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,C.default.sources.SILENT)}},"list empty enter":{key:Y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,se){this.quill.format("list",!1,C.default.sources.USER),se.format.indent&&this.quill.format("indent",!1,C.default.sources.USER)}},"checklist enter":{key:Y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var se=this.quill.getLine(H.index),Q=o(se,2),ie=Q[0],fe=Q[1],te=(0,p.default)({},ie.formats(),{list:"checked"}),ve=new v.default().retain(H.index).insert(`
`,te).retain(ie.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,se){var Q=this.quill.getLine(H.index),ie=o(Q,2),fe=ie[0],te=ie[1],ve=new v.default().retain(H.index).insert(`
`,se.format).retain(fe.length()-te-1).retain(1,{header:null});this.quill.updateContents(ve,C.default.sources.USER),this.quill.setSelection(H.index+1,C.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,se){var Q=se.prefix.length,ie=this.quill.getLine(H.index),fe=o(ie,2),te=fe[0],ve=fe[1];if(ve>Q)return!0;var Ce=void 0;switch(se.prefix.trim()){case"[]":case"[ ]":Ce="unchecked";break;case"[x]":Ce="checked";break;case"-":case"*":Ce="bullet";break;default:Ce="ordered"}this.quill.insertText(H.index," ",C.default.sources.USER),this.quill.history.cutoff();var he=new v.default().retain(H.index-ve).delete(Q+1).retain(te.length()-2-ve).retain(1,{list:Ce});this.quill.updateContents(he,C.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-Q,C.default.sources.SILENT)}},"code exit":{key:Y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var se=this.quill.getLine(H.index),Q=o(se,2),ie=Q[0],fe=Q[1],te=new v.default().retain(H.index+ie.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,C.default.sources.USER)}},"embed left":K(Y.keys.LEFT,!1),"embed left shift":K(Y.keys.LEFT,!0),"embed right":K(Y.keys.RIGHT,!1),"embed right shift":K(Y.keys.RIGHT,!0)}};function K(V,H){var se,Q=V===Y.keys.LEFT?"prefix":"suffix";return se={key:V,shiftKey:H,altKey:null},T(se,Q,/^$/),T(se,"handler",function(fe){var te=fe.index;V===Y.keys.RIGHT&&(te+=fe.length+1);var ve=this.quill.getLeaf(te),Ce=o(ve,1),he=Ce[0];return he instanceof _.default.Embed?(V===Y.keys.LEFT?H?this.quill.setSelection(fe.index-1,fe.length+1,C.default.sources.USER):this.quill.setSelection(fe.index-1,C.default.sources.USER):H?this.quill.setSelection(fe.index,fe.length+1,C.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,C.default.sources.USER),!1):!0}),se}function U(V,H){if(!(V.index===0||this.quill.getLength()<=1)){var se=this.quill.getLine(V.index),Q=o(se,1),ie=Q[0],fe={};if(H.offset===0){var te=this.quill.getLine(V.index-1),ve=o(te,1),Ce=ve[0];if(Ce!=null&&Ce.length()>1){var he=ie.formats(),je=this.quill.getFormat(V.index-1,1);fe=x.default.attributes.diff(he,je)||{}}}var _e=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(V.index-_e,_e,C.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(V.index-_e,_e,fe,C.default.sources.USER),this.quill.focus()}}function B(V,H){var se=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(V.index>=this.quill.getLength()-se)){var Q={},ie=0,fe=this.quill.getLine(V.index),te=o(fe,1),ve=te[0];if(H.offset>=ve.length()-1){var Ce=this.quill.getLine(V.index+1),he=o(Ce,1),je=he[0];if(je){var _e=ve.formats(),de=this.quill.getFormat(V.index,1);Q=x.default.attributes.diff(_e,de)||{},ie=je.length()}}this.quill.deleteText(V.index,se,C.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(V.index+ie-1,se,Q,C.default.sources.USER)}}function M(V){var H=this.quill.getLines(V),se={};if(H.length>1){var Q=H[0].formats(),ie=H[H.length-1].formats();se=x.default.attributes.diff(ie,Q)||{}}this.quill.deleteText(V,C.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine(V.index,1,se,C.default.sources.USER),this.quill.setSelection(V.index,C.default.sources.SILENT),this.quill.focus()}function z(V,H){var se=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var Q=Object.keys(H.format).reduce(function(ie,fe){return _.default.query(fe,_.default.Scope.BLOCK)&&!Array.isArray(H.format[fe])&&(ie[fe]=H.format[fe]),ie},{});this.quill.insertText(V.index,`
`,Q,C.default.sources.USER),this.quill.setSelection(V.index+1,C.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(ie){Q[ie]==null&&(Array.isArray(H.format[ie])||ie!=="link"&&se.quill.format(ie,H.format[ie],C.default.sources.USER))})}function Z(V){return{key:Y.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(se){var Q=_.default.query("code-block"),ie=se.index,fe=se.length,te=this.quill.scroll.descendant(Q,ie),ve=o(te,2),Ce=ve[0],he=ve[1];if(Ce!=null){var je=this.quill.getIndex(Ce),_e=Ce.newlineIndex(he,!0)+1,de=Ce.newlineIndex(je+he+fe),me=Ce.domNode.textContent.slice(_e,de).split(`
`);he=0,me.forEach(function(ee,ae){V?(Ce.insertAt(_e+he,Q.TAB),he+=Q.TAB.length,ae===0?ie+=Q.TAB.length:fe+=Q.TAB.length):ee.startsWith(Q.TAB)&&(Ce.deleteAt(_e+he,Q.TAB.length),he-=Q.TAB.length,ae===0?ie-=Q.TAB.length:fe-=Q.TAB.length),he+=ee.length+1}),this.quill.update(C.default.sources.USER),this.quill.setSelection(ie,fe,C.default.sources.SILENT)}}}}function W(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(se,Q){this.quill.format(V,!Q.format[V],C.default.sources.USER)}}}function X(V){if(typeof V=="string"||typeof V=="number")return X({key:V});if((typeof V>"u"?"undefined":a(V))==="object"&&(V=(0,h.default)(V,!1)),typeof V.key=="string")if(Y.keys[V.key.toUpperCase()]!=null)V.key=Y.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[G]=V.shortKey,delete V.shortKey),V}r.default=Y,r.SHORTKEY=G},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(b,_){var N=[],C=!0,I=!1,k=void 0;try{for(var P=b[Symbol.iterator](),R;!(C=(R=P.next()).done)&&(N.push(R.value),!(_&&N.length===_));C=!0);}catch(E){I=!0,k=E}finally{try{!C&&P.return&&P.return()}finally{if(I)throw k}}return N}return function(b,_){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return x(b,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function x(b,_,N){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:x(I,_,N)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(N)}},c=function(){function x(b,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,N){return _&&x(b.prototype,_),N&&x(b,N),b}}(),d=i(0),h=u(d),f=i(7),m=u(f);function u(x){return x&&x.__esModule?x:{default:x}}function p(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function y(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function v(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var w=function(x){v(b,x),c(b,null,[{key:"value",value:function(){}}]);function b(_,N){p(this,b);var C=y(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return C.selection=N,C.textNode=document.createTextNode(b.CONTENTS),C.domNode.appendChild(C.textNode),C._length=0,C}return c(b,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(N,C){if(this._length!==0)return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,N,C);for(var I=this,k=0;I!=null&&I.statics.scope!==h.default.Scope.BLOCK_BLOT;)k+=I.offset(I.parent),I=I.parent;I!=null&&(this._length=b.CONTENTS.length,I.optimize(),I.formatAt(k,b.CONTENTS.length,N,C),this._length=0)}},{key:"index",value:function(N,C){return N===this.textNode?0:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,N,C)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var N=this.textNode,C=this.selection.getNativeRange(),I=void 0,k=void 0,P=void 0;if(C!=null&&C.start.node===N&&C.end.node===N){var R=[N,C.start.offset,C.end.offset];I=R[0],k=R[1],P=R[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==b.CONTENTS){var E=this.textNode.data.split(b.CONTENTS).join("");this.next instanceof m.default?(I=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=b.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(h.default.create(this.textNode),this),this.textNode=document.createTextNode(b.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var T=[k,P].map(function($){return Math.max(0,Math.min(I.data.length,$-1))}),A=a(T,2);return k=A[0],P=A[1],{startNode:I,startOffset:k,endNode:I,endOffset:P}}}}},{key:"update",value:function(N,C){var I=this;if(N.some(function(P){return P.type==="characterData"&&P.target===I.textNode})){var k=this.restore();k&&(C.range=k)}}},{key:"value",value:function(){return""}}]),b}(h.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=h(a),c=i(4),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(o.default.Container);p.allowedChildren=[d.default,c.BlockEmbed,p],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=function(){function w(x,b){for(var _=0;_<b.length;_++){var N=b[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,_){return b&&w(x.prototype,b),_&&w(x,_),x}}(),o=function w(x,b,_){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,b);if(N===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:w(C,b,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(0),d=h(c);function h(w){return w&&w.__esModule?w:{default:w}}function f(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function m(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function u(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var p=function(w){u(x,w);function x(){return f(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"value",value:function(_){var N=o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"value",this).call(this,_);return N.startsWith("rgb(")?(N=N.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+N.split(",").map(function(C){return("00"+parseInt(C).toString(16)).slice(-2)}).join("")):N}}]),x}(d.default.Attributor.Style),y=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),v=new p("color","color",{scope:d.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=y,r.ColorStyle=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=function(){function v(w,x){for(var b=0;b<x.length;b++){var _=x[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,x,b){return x&&v(w.prototype,x),b&&v(w,b),w}}(),o=function v(w,x,b){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,x);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,x,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},c=i(6),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(b,_){if(b!==this.statics.blotName||!_)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,b,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(b){var _=o(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,b);return b=this.sanitize(b),_.setAttribute("href",b),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(b){return b.getAttribute("href")}},{key:"sanitize",value:function(b){return y(b,this.PROTOCOL_WHITELIST)?b:this.SANITIZED_URL}}]),w}(d.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,w){var x=document.createElement("a");x.href=v;var b=x.href.slice(0,x.href.indexOf(":"));return w.indexOf(b)>-1}r.default=p,r.sanitize=y},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},o=function(){function w(x,b){for(var _=0;_<b.length;_++){var N=b[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,_){return b&&w(x.prototype,b),_&&w(x,_),x}}(),c=i(23),d=m(c),h=i(107),f=m(h);function m(w){return w&&w.__esModule?w:{default:w}}function u(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}var p=0;function y(w,x){w.setAttribute(x,w.getAttribute(x)!=="true")}var v=function(){function w(x){var b=this;u(this,w),this.select=x,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){b.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case d.default.keys.ENTER:b.togglePicker();break;case d.default.keys.ESCAPE:b.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(b){var _=this,N=document.createElement("span");return N.tabIndex="0",N.setAttribute("role","button"),N.classList.add("ql-picker-item"),b.hasAttribute("value")&&N.setAttribute("data-value",b.getAttribute("value")),b.textContent&&N.setAttribute("data-label",b.textContent),N.addEventListener("click",function(){_.selectItem(N,!0)}),N.addEventListener("keydown",function(C){switch(C.keyCode){case d.default.keys.ENTER:_.selectItem(N,!0),C.preventDefault();break;case d.default.keys.ESCAPE:_.escape(),C.preventDefault();break}}),N}},{key:"buildLabel",value:function(){var b=document.createElement("span");return b.classList.add("ql-picker-label"),b.innerHTML=f.default,b.tabIndex="0",b.setAttribute("role","button"),b.setAttribute("aria-expanded","false"),this.container.appendChild(b),b}},{key:"buildOptions",value:function(){var b=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(N){var C=b.buildItem(N);_.appendChild(C),N.selected===!0&&b.selectItem(C)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var b=this;[].slice.call(this.select.attributes).forEach(function(_){b.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var b=this;this.close(),setTimeout(function(){return b.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=this.container.querySelector(".ql-selected");if(b!==N&&(N!=null&&N.classList.remove("ql-selected"),b!=null&&(b.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(b.parentNode.children,b),b.hasAttribute("data-value")?this.label.setAttribute("data-value",b.getAttribute("data-value")):this.label.removeAttribute("data-value"),b.hasAttribute("data-label")?this.label.setAttribute("data-label",b.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var C=document.createEvent("Event");C.initEvent("change",!0,!0),this.select.dispatchEvent(C)}this.close()}}},{key:"update",value:function(){var b=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];b=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var N=b!=null&&b!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",N)}}]),w}();r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=F(a),c=i(5),d=F(c),h=i(4),f=F(h),m=i(16),u=F(m),p=i(25),y=F(p),v=i(24),w=F(v),x=i(35),b=F(x),_=i(6),N=F(_),C=i(22),I=F(C),k=i(7),P=F(k),R=i(55),E=F(R),T=i(42),A=F(T),$=i(23),O=F($);function F(G){return G&&G.__esModule?G:{default:G}}d.default.register({"blots/block":f.default,"blots/block/embed":h.BlockEmbed,"blots/break":u.default,"blots/container":y.default,"blots/cursor":w.default,"blots/embed":b.default,"blots/inline":N.default,"blots/scroll":I.default,"blots/text":P.default,"modules/clipboard":E.default,"modules/history":A.default,"modules/keyboard":O.default}),o.default.register(f.default,u.default,w.default,N.default,I.default,P.default),r.default=d.default},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),o=function(){function c(d){this.domNode=d,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(d){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var h;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?h=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?h=document.createElement(d):h=document.createElement(this.tagName[0])):h=document.createElement(this.tagName),this.className&&h.classList.add(this.className),h},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return a.create(d)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(d,h){var f=this.isolate(d,h);f.remove()},c.prototype.formatAt=function(d,h,f,m){var u=this.isolate(d,h);if(a.query(f,a.Scope.BLOT)!=null&&m)u.wrap(f,m);else if(a.query(f,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);u.wrap(p),p.format(f,m)}},c.prototype.insertAt=function(d,h,f){var m=f==null?a.create("text",h):a.create(h,f),u=this.split(d);this.parent.insertBefore(m,u)},c.prototype.insertInto=function(d,h){h===void 0&&(h=null),this.parent!=null&&this.parent.children.remove(this);var f=null;d.children.insertBefore(this,h),h!=null&&(f=h.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=f)&&d.domNode.insertBefore(this.domNode,f),this.parent=d,this.attach()},c.prototype.isolate=function(d,h){var f=this.split(d);return f.split(h),f},c.prototype.length=function(){return 1},c.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},c.prototype.optimize=function(d){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},c.prototype.replaceWith=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return f.replace(this),f},c.prototype.split=function(d,h){return d===0?this:this.next},c.prototype.update=function(d,h){},c.prototype.wrap=function(d,h){var f=typeof d=="string"?a.create(d,h):d;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},c.blotName="abstract",c}();r.default=o},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(12),o=i(32),c=i(33),d=i(1),h=function(){function f(m){this.attributes={},this.domNode=m,this.build()}return f.prototype.attribute=function(m,u){u?m.add(this.domNode,u)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},f.prototype.build=function(){var m=this;this.attributes={};var u=a.default.keys(this.domNode),p=o.default.keys(this.domNode),y=c.default.keys(this.domNode);u.concat(p).concat(y).forEach(function(v){var w=d.query(v,d.Scope.ATTRIBUTE);w instanceof a.default&&(m.attributes[w.attrName]=w)})},f.prototype.copy=function(m){var u=this;Object.keys(this.attributes).forEach(function(p){var y=u.attributes[p].value(u.domNode);m.format(p,y)})},f.prototype.move=function(m){var u=this;this.copy(m),Object.keys(this.attributes).forEach(function(p){u.attributes[p].remove(u.domNode)}),this.attributes={}},f.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(u,p){return u[p]=m.attributes[p].value(m.domNode),u},{})},f}();r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(h,f){var m=h.getAttribute("class")||"";return m.split(/\s+/).filter(function(u){return u.indexOf(f+"-")===0})}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(u){return u.split("-").slice(0,-1).join("-")})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(this.remove(m),m.classList.add(this.keyName+"-"+u),!0):!1},f.prototype.remove=function(m){var u=c(m,this.keyName);u.forEach(function(p){m.classList.remove(p)}),m.classList.length===0&&m.removeAttribute("class")},f.prototype.value=function(m){var u=c(m,this.keyName)[0]||"",p=u.slice(this.keyName.length+1);return this.canAdd(m,p)?p:""},f}(o.default);r.default=d},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(12);function c(h){var f=h.split("-"),m=f.slice(1).map(function(u){return u[0].toUpperCase()+u.slice(1)}).join("");return f[0]+m}var d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(u){var p=u.split(":");return p[0].trim()})},f.prototype.add=function(m,u){return this.canAdd(m,u)?(m.style[c(this.keyName)]=u,!0):!1},f.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},f.prototype.value=function(m){var u=m.style[c(this.keyName)];return this.canAdd(m,u)?u:""},f}(o.default);r.default=d},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){o(this,d),this.quill=h,this.options=f,this.modules={}}return a(d,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(m){f.modules[m]==null&&f.addModule(m)})}},{key:"addModule",value:function(f){var m=this.quill.constructor.import("modules/"+f);return this.modules[f]=new m(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),d}();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function x(b,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,N){return _&&x(b.prototype,_),N&&x(b,N),b}}(),o=function x(b,_,N){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:x(I,_,N)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(N)}},c=i(0),d=m(c),h=i(7),f=m(h);function m(x){return x&&x.__esModule?x:{default:x}}function u(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function p(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function y(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var v="\uFEFF",w=function(x){y(b,x);function b(_){u(this,b);var N=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_));return N.contentNode=document.createElement("span"),N.contentNode.setAttribute("contenteditable",!1),[].slice.call(N.domNode.childNodes).forEach(function(C){N.contentNode.appendChild(C)}),N.leftGuard=document.createTextNode(v),N.rightGuard=document.createTextNode(v),N.domNode.appendChild(N.leftGuard),N.domNode.appendChild(N.contentNode),N.domNode.appendChild(N.rightGuard),N}return a(b,[{key:"index",value:function(N,C){return N===this.leftGuard?0:N===this.rightGuard?1:o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"index",this).call(this,N,C)}},{key:"restore",value:function(N){var C=void 0,I=void 0,k=N.data.split(v).join("");if(N===this.leftGuard)if(this.prev instanceof f.default){var P=this.prev.length();this.prev.insertAt(P,k),C={startNode:this.prev.domNode,startOffset:P+k.length}}else I=document.createTextNode(k),this.parent.insertBefore(d.default.create(I),this),C={startNode:I,startOffset:k.length};else N===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,k),C={startNode:this.next.domNode,startOffset:k.length}):(I=document.createTextNode(k),this.parent.insertBefore(d.default.create(I),this.next),C={startNode:I,startOffset:k.length}));return N.data=v,C}},{key:"update",value:function(N,C){var I=this;N.forEach(function(k){if(k.type==="characterData"&&(k.target===I.leftGuard||k.target===I.rightGuard)){var P=I.restore(k.target);P&&(C.range=P)}})}}]),b}(d.default.Embed);r.default=w},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new o.default.Attributor.Attribute("align","align",d),f=new o.default.Attributor.Class("align","ql-align",d),m=new o.default.Attributor.Style("align","text-align",d);r.AlignAttribute=h,r.AlignClass=f,r.AlignStyle=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=i(0),o=d(a),c=i(26);function d(m){return m&&m.__esModule?m:{default:m}}var h=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),f=new c.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});r.BackgroundClass=h,r.BackgroundStyle=f},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=i(0),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}var d={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},h=new o.default.Attributor.Attribute("direction","dir",d),f=new o.default.Attributor.Class("direction","ql-direction",d),m=new o.default.Attributor.Style("direction","direction",d);r.DirectionAttribute=h,r.DirectionClass=f,r.DirectionStyle=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=function(){function x(b,_){for(var N=0;N<_.length;N++){var C=_[N];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}return function(b,_,N){return _&&x(b.prototype,_),N&&x(b,N),b}}(),o=function x(b,_,N){b===null&&(b=Function.prototype);var C=Object.getOwnPropertyDescriptor(b,_);if(C===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:x(I,_,N)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(N)}},c=i(0),d=h(c);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,b){if(!(x instanceof b))throw new TypeError("Cannot call a class as a function")}function m(x,b){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:x}function u(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);x.prototype=Object.create(b&&b.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(x,b):x.__proto__=b)}var p={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new d.default.Attributor.Class("font","ql-font",p),v=function(x){u(b,x);function b(){return f(this,b),m(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"value",value:function(N){return o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,N).replace(/["']/g,"")}}]),b}(d.default.Attributor.Style),w=new v("font","font-family",p);r.FontStyle=w,r.FontClass=y},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=i(0),o=c(a);function c(f){return f&&f.__esModule?f:{default:f}}var d=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=d,r.SizeStyle=h},function(s,r,i){s.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=function(){function _(N,C){for(var I=0;I<C.length;I++){var k=C[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,C,I){return C&&_(N.prototype,C),I&&_(N,I),N}}(),o=i(0),c=u(o),d=i(5),h=u(d),f=i(9),m=u(f);function u(_){return _&&_.__esModule?_:{default:_}}function p(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function y(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function v(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var w=function(_){v(N,_);function N(C,I){p(this,N);var k=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,C,I));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(h.default.events.EDITOR_CHANGE,function(P,R,E,T){P!==h.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||T===h.default.sources.USER?k.record(R,E):k.transform(R))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return a(N,[{key:"change",value:function(I,k){if(this.stack[I].length!==0){var P=this.stack[I].pop();this.stack[k].push(P),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(P[I],h.default.sources.USER),this.ignoreChange=!1;var R=b(P[I]);this.quill.setSelection(R)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(I,k){if(I.ops.length!==0){this.stack.redo=[];var P=this.quill.getContents().diff(k),R=Date.now();if(this.lastRecorded+this.options.delay>R&&this.stack.undo.length>0){var E=this.stack.undo.pop();P=P.compose(E.undo),I=E.redo.compose(I)}else this.lastRecorded=R;this.stack.undo.push({redo:I,undo:P}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(I){this.stack.undo.forEach(function(k){k.undo=I.transform(k.undo,!0),k.redo=I.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=I.transform(k.undo,!0),k.redo=I.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),N}(m.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function x(_){var N=_.ops[_.ops.length-1];return N==null?!1:N.insert!=null?typeof N.insert=="string"&&N.insert.endsWith(`
`):N.attributes!=null?Object.keys(N.attributes).some(function(C){return c.default.query(C,c.default.Scope.BLOCK)!=null}):!1}function b(_){var N=_.reduce(function(I,k){return I+=k.delete||0,I},0),C=_.length()-N;return x(_)&&(C-=1),C}r.default=w,r.getLastChangeIndex=b},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=function(){function z(Z,W){for(var X=0;X<W.length;X++){var V=W[X];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(Z,V.key,V)}}return function(Z,W,X){return W&&z(Z.prototype,W),X&&z(Z,X),Z}}(),o=function z(Z,W,X){Z===null&&(Z=Function.prototype);var V=Object.getOwnPropertyDescriptor(Z,W);if(V===void 0){var H=Object.getPrototypeOf(Z);return H===null?void 0:z(H,W,X)}else{if("value"in V)return V.value;var se=V.get;return se===void 0?void 0:se.call(X)}},c=i(3),d=R(c),h=i(2),f=R(h),m=i(8),u=R(m),p=i(23),y=R(p),v=i(34),w=R(v),x=i(59),b=R(x),_=i(60),N=R(_),C=i(28),I=R(C),k=i(61),P=R(k);function R(z){return z&&z.__esModule?z:{default:z}}function E(z,Z){if(!(z instanceof Z))throw new TypeError("Cannot call a class as a function")}function T(z,Z){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:z}function A(z,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);z.prototype=Object.create(Z&&Z.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(z,Z):z.__proto__=Z)}var $=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],G=["1","2","3",!1],Y=["small",!1,"large","huge"],K=function(z){A(Z,z);function Z(W,X){E(this,Z);var V=T(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,W,X)),H=function se(Q){if(!document.body.contains(W.root))return document.body.removeEventListener("click",se);V.tooltip!=null&&!V.tooltip.root.contains(Q.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ie){ie.container.contains(Q.target)||ie.close()})};return W.emitter.listenDOM("click",document.body,H),V}return a(Z,[{key:"addModule",value:function(X){var V=o(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(X,V){X.forEach(function(H){var se=H.getAttribute("class")||"";se.split(/\s+/).forEach(function(Q){if(Q.startsWith("ql-")&&(Q=Q.slice(3),V[Q]!=null))if(Q==="direction")H.innerHTML=V[Q][""]+V[Q].rtl;else if(typeof V[Q]=="string")H.innerHTML=V[Q];else{var ie=H.value||"";ie!=null&&V[Q][ie]&&(H.innerHTML=V[Q][ie])}})})}},{key:"buildPickers",value:function(X,V){var H=this;this.pickers=X.map(function(Q){if(Q.classList.contains("ql-align"))return Q.querySelector("option")==null&&M(Q,$),new N.default(Q,V.align);if(Q.classList.contains("ql-background")||Q.classList.contains("ql-color")){var ie=Q.classList.contains("ql-background")?"background":"color";return Q.querySelector("option")==null&&M(Q,O,ie==="background"?"#ffffff":"#000000"),new b.default(Q,V[ie])}else return Q.querySelector("option")==null&&(Q.classList.contains("ql-font")?M(Q,F):Q.classList.contains("ql-header")?M(Q,G):Q.classList.contains("ql-size")&&M(Q,Y)),new I.default(Q)});var se=function(){H.pickers.forEach(function(ie){ie.update()})};this.quill.on(u.default.events.EDITOR_CHANGE,se)}}]),Z}(w.default);K.DEFAULTS=(0,d.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Z=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&(W=document.createElement("input"),W.setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var X=new FileReader;X.onload=function(V){var H=Z.quill.getSelection(!0);Z.quill.updateContents(new f.default().retain(H.index).delete(H.length).insert({image:V.target.result}),u.default.sources.USER),Z.quill.setSelection(H.index+1,u.default.sources.SILENT),W.value=""},X.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var U=function(z){A(Z,z);function Z(W,X){E(this,Z);var V=T(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,W,X));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return a(Z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function(V){y.default.match(V,"enter")?(X.save(),V.preventDefault()):y.default.match(V,"escape")&&(X.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,u.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,u.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":X=B(X);case"formula":{if(!X)break;var H=this.quill.getSelection(!0);if(H!=null){var se=H.index+H.length;this.quill.insertEmbed(se,this.root.getAttribute("data-mode"),X,u.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(se+1," ",u.default.sources.USER),this.quill.setSelection(se+2,u.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Z}(P.default);function B(z){var Z=z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Z?(Z[1]||"https")+"://www.youtube.com/embed/"+Z[2]+"?showinfo=0":(Z=z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Z[1]||"https")+"://player.vimeo.com/video/"+Z[2]+"/":z}function M(z,Z){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Z.forEach(function(X){var V=document.createElement("option");X===W?V.setAttribute("selected","selected"):V.setAttribute("value",X),z.appendChild(V)})}r.BaseTooltip=U,r.default=K},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},o.prototype.contains=function(c){for(var d,h=this.iterator();d=h();)if(d===c)return!0;return!1},o.prototype.insertBefore=function(c,d){c&&(c.next=d,d!=null?(c.prev=d.prev,d.prev!=null&&(d.prev.next=c),d.prev=c,d===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},o.prototype.offset=function(c){for(var d=0,h=this.head;h!=null;){if(h===c)return d;d+=h.length(),h=h.next}return-1},o.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},o.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var d=c;return c!=null&&(c=c.next),d}},o.prototype.find=function(c,d){d===void 0&&(d=!1);for(var h,f=this.iterator();h=f();){var m=h.length();if(c<m||d&&c===m&&(h.next==null||h.next.length()!==0))return[h,c];c-=m}return[null,0]},o.prototype.forEach=function(c){for(var d,h=this.iterator();d=h();)c(d)},o.prototype.forEachAt=function(c,d,h){if(!(d<=0))for(var f=this.find(c),m=f[0],u=f[1],p,y=c-u,v=this.iterator(m);(p=v())&&y<c+d;){var w=p.length();c>y?h(p,c-y,Math.min(d,y+w-c)):h(p,0,Math.min(w,c+d-y)),y+=w}},o.prototype.map=function(c){return this.reduce(function(d,h){return d.push(c(h)),d},[])},o.prototype.reduce=function(c,d){for(var h,f=this.iterator();h=f();)d=c(d,h);return d},o}();r.default=a},function(s,r,i){var a=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var y in p)p.hasOwnProperty(y)&&(u[y]=p[y])};return function(u,p){m(u,p);function y(){this.constructor=u}u.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),c=i(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},h=100,f=function(m){a(u,m);function u(p){var y=m.call(this,p)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,d),y.attach(),y}return u.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},u.prototype.deleteAt=function(p,y){this.update(),p===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):m.prototype.deleteAt.call(this,p,y)},u.prototype.formatAt=function(p,y,v,w){this.update(),m.prototype.formatAt.call(this,p,y,v,w)},u.prototype.insertAt=function(p,y,v){this.update(),m.prototype.insertAt.call(this,p,y,v)},u.prototype.optimize=function(p,y){var v=this;p===void 0&&(p=[]),y===void 0&&(y={}),m.prototype.optimize.call(this,y);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var x=function(C,I){I===void 0&&(I=!0),!(C==null||C===v)&&C.domNode.parentNode!=null&&(C.domNode[c.DATA_KEY].mutations==null&&(C.domNode[c.DATA_KEY].mutations=[]),I&&x(C.parent))},b=function(C){C.domNode[c.DATA_KEY]==null||C.domNode[c.DATA_KEY].mutations==null||(C instanceof o.default&&C.children.forEach(b),C.optimize(y))},_=p,N=0;_.length>0;N+=1){if(N>=h)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(C){var I=c.find(C.target,!0);I!=null&&(I.domNode===C.target&&(C.type==="childList"?(x(c.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(k){var P=c.find(k,!1);x(P,!1),P instanceof o.default&&P.children.forEach(function(R){x(R,!1)})})):C.type==="attributes"&&x(I.prev)),x(I))}),this.children.forEach(b),_=[].slice.call(this.observer.takeRecords()),w=_.slice();w.length>0;)p.push(w.pop())}},u.prototype.update=function(p,y){var v=this;y===void 0&&(y={}),p=p||this.observer.takeRecords(),p.map(function(w){var x=c.find(w.target,!0);return x==null?null:x.domNode[c.DATA_KEY].mutations==null?(x.domNode[c.DATA_KEY].mutations=[w],x):(x.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===v||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],y)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,y),this.optimize(p,y)},u.blotName="scroll",u.defaultChild="block",u.scope=c.Scope.BLOCK_BLOT,u.tagName="DIV",u}(o.default);r.default=f},function(s,r,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,u){m.__proto__=u}||function(m,u){for(var p in u)u.hasOwnProperty(p)&&(m[p]=u[p])};return function(m,u){f(m,u);function p(){this.constructor=m}m.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1);function d(f,m){if(Object.keys(f).length!==Object.keys(m).length)return!1;for(var u in f)if(f[u]!==m[u])return!1;return!0}var h=function(f){a(m,f);function m(){return f!==null&&f.apply(this,arguments)||this}return m.formats=function(u){if(u.tagName!==m.tagName)return f.formats.call(this,u)},m.prototype.format=function(u,p){var y=this;u===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof o.default||(v=v.wrap(m.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,u,p)},m.prototype.formatAt=function(u,p,y,v){if(this.formats()[y]!=null||c.query(y,c.Scope.ATTRIBUTE)){var w=this.isolate(u,p);w.format(y,v)}else f.prototype.formatAt.call(this,u,p,y,v)},m.prototype.optimize=function(u){f.prototype.optimize.call(this,u);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var y=this.next;y instanceof m&&y.prev===this&&d(p,y.formats())&&(y.moveChildren(this),y.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m}(o.default);r.default=h},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(18),c=i(1),d=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(m){var u=c.query(f.blotName).tagName;if(m.tagName!==u)return h.formats.call(this,m)},f.prototype.format=function(m,u){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!u?this.replaceWith(f.blotName):h.prototype.format.call(this,m,u))},f.prototype.formatAt=function(m,u,p,y){c.query(p,c.Scope.BLOCK)!=null?this.format(p,y):h.prototype.formatAt.call(this,m,u,p,y)},f.prototype.insertAt=function(m,u,p){if(p==null||c.query(u,c.Scope.INLINE)!=null)h.prototype.insertAt.call(this,m,u,p);else{var y=this.split(m),v=c.create(u,p);y.parent.insertBefore(v,y)}},f.prototype.update=function(m,u){navigator.userAgent.match(/Trident/)?this.build():h.prototype.update.call(this,m,u)},f.blotName="block",f.scope=c.Scope.BLOCK_BLOT,f.tagName="P",f}(o.default);r.default=d},function(s,r,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var m in f)f.hasOwnProperty(m)&&(h[m]=f[m])};return function(h,f){d(h,f);function m(){this.constructor=h}h.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=function(d){a(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){},h.prototype.format=function(f,m){d.prototype.formatAt.call(this,0,this.length(),f,m)},h.prototype.formatAt=function(f,m,u,p){f===0&&m===this.length()?this.format(u,p):d.prototype.formatAt.call(this,f,m,u,p)},h.prototype.formats=function(){return this.statics.formats(this.domNode)},h}(o.default);r.default=c},function(s,r,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var u in m)m.hasOwnProperty(u)&&(f[u]=m[u])};return function(f,m){h(f,m);function u(){this.constructor=f}f.prototype=m===null?Object.create(m):(u.prototype=m.prototype,new u)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=i(19),c=i(1),d=function(h){a(f,h);function f(m){var u=h.call(this,m)||this;return u.text=u.statics.value(u.domNode),u}return f.create=function(m){return document.createTextNode(m)},f.value=function(m){var u=m.data;return u.normalize&&(u=u.normalize()),u},f.prototype.deleteAt=function(m,u){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+u)},f.prototype.index=function(m,u){return this.domNode===m?u:-1},f.prototype.insertAt=function(m,u,p){p==null?(this.text=this.text.slice(0,m)+u+this.text.slice(m),this.domNode.data=this.text):h.prototype.insertAt.call(this,m,u,p)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(m){h.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(m,u){return[this.domNode,m]},f.prototype.split=function(m,u){if(u===void 0&&(u=!1),!u){if(m===0)return this;if(m===this.length())return this.next}var p=c.create(this.domNode.splitText(m));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},f.prototype.update=function(m,u){var p=this;m.some(function(y){return y.type==="characterData"&&y.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=c.Scope.INLINE_BLOT,f}(o.default);r.default=d},function(s,r,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,d){return arguments.length>1&&!this.contains(c)==!d?d:o.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,d){return d=d||0,this.substr(d,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,d){var h=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>h.length)&&(d=h.length),d-=c.length;var f=h.indexOf(c,d);return f!==-1&&f===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var h=Object(this),f=h.length>>>0,m=arguments[1],u,p=0;p<f;p++)if(u=h[p],d.call(m,u,p,h))return u}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,r){var i=-1,a=1,o=0;function c(N,C,I){if(N==C)return N?[[o,N]]:[];(I<0||N.length<I)&&(I=null);var k=m(N,C),P=N.substring(0,k);N=N.substring(k),C=C.substring(k),k=u(N,C);var R=N.substring(N.length-k);N=N.substring(0,N.length-k),C=C.substring(0,C.length-k);var E=d(N,C);return P&&E.unshift([o,P]),R&&E.push([o,R]),y(E),I!=null&&(E=x(E,I)),E=b(E),E}function d(N,C){var I;if(!N)return[[a,C]];if(!C)return[[i,N]];var k=N.length>C.length?N:C,P=N.length>C.length?C:N,R=k.indexOf(P);if(R!=-1)return I=[[a,k.substring(0,R)],[o,P],[a,k.substring(R+P.length)]],N.length>C.length&&(I[0][0]=I[2][0]=i),I;if(P.length==1)return[[i,N],[a,C]];var E=p(N,C);if(E){var T=E[0],A=E[1],$=E[2],O=E[3],F=E[4],G=c(T,$),Y=c(A,O);return G.concat([[o,F]],Y)}return h(N,C)}function h(N,C){for(var I=N.length,k=C.length,P=Math.ceil((I+k)/2),R=P,E=2*P,T=new Array(E),A=new Array(E),$=0;$<E;$++)T[$]=-1,A[$]=-1;T[R+1]=0,A[R+1]=0;for(var O=I-k,F=O%2!=0,G=0,Y=0,K=0,U=0,B=0;B<P;B++){for(var M=-B+G;M<=B-Y;M+=2){var z=R+M,Z;M==-B||M!=B&&T[z-1]<T[z+1]?Z=T[z+1]:Z=T[z-1]+1;for(var W=Z-M;Z<I&&W<k&&N.charAt(Z)==C.charAt(W);)Z++,W++;if(T[z]=Z,Z>I)Y+=2;else if(W>k)G+=2;else if(F){var X=R+O-M;if(X>=0&&X<E&&A[X]!=-1){var V=I-A[X];if(Z>=V)return f(N,C,Z,W)}}}for(var H=-B+K;H<=B-U;H+=2){var X=R+H,V;H==-B||H!=B&&A[X-1]<A[X+1]?V=A[X+1]:V=A[X-1]+1;for(var se=V-H;V<I&&se<k&&N.charAt(I-V-1)==C.charAt(k-se-1);)V++,se++;if(A[X]=V,V>I)U+=2;else if(se>k)K+=2;else if(!F){var z=R+O-H;if(z>=0&&z<E&&T[z]!=-1){var Z=T[z],W=R+Z-z;if(V=I-V,Z>=V)return f(N,C,Z,W)}}}}return[[i,N],[a,C]]}function f(N,C,I,k){var P=N.substring(0,I),R=C.substring(0,k),E=N.substring(I),T=C.substring(k),A=c(P,R),$=c(E,T);return A.concat($)}function m(N,C){if(!N||!C||N.charAt(0)!=C.charAt(0))return 0;for(var I=0,k=Math.min(N.length,C.length),P=k,R=0;I<P;)N.substring(R,P)==C.substring(R,P)?(I=P,R=I):k=P,P=Math.floor((k-I)/2+I);return P}function u(N,C){if(!N||!C||N.charAt(N.length-1)!=C.charAt(C.length-1))return 0;for(var I=0,k=Math.min(N.length,C.length),P=k,R=0;I<P;)N.substring(N.length-P,N.length-R)==C.substring(C.length-P,C.length-R)?(I=P,R=I):k=P,P=Math.floor((k-I)/2+I);return P}function p(N,C){var I=N.length>C.length?N:C,k=N.length>C.length?C:N;if(I.length<4||k.length*2<I.length)return null;function P(Y,K,U){for(var B=Y.substring(U,U+Math.floor(Y.length/4)),M=-1,z="",Z,W,X,V;(M=K.indexOf(B,M+1))!=-1;){var H=m(Y.substring(U),K.substring(M)),se=u(Y.substring(0,U),K.substring(0,M));z.length<se+H&&(z=K.substring(M-se,M)+K.substring(M,M+H),Z=Y.substring(0,U-se),W=Y.substring(U+H),X=K.substring(0,M-se),V=K.substring(M+H))}return z.length*2>=Y.length?[Z,W,X,V,z]:null}var R=P(I,k,Math.ceil(I.length/4)),E=P(I,k,Math.ceil(I.length/2)),T;if(!R&&!E)return null;E?R?T=R[4].length>E[4].length?R:E:T=E:T=R;var A,$,O,F;N.length>C.length?(A=T[0],$=T[1],O=T[2],F=T[3]):(O=T[0],F=T[1],A=T[2],$=T[3]);var G=T[4];return[A,$,O,F,G]}function y(N){N.push([o,""]);for(var C=0,I=0,k=0,P="",R="",E;C<N.length;)switch(N[C][0]){case a:k++,R+=N[C][1],C++;break;case i:I++,P+=N[C][1],C++;break;case o:I+k>1?(I!==0&&k!==0&&(E=m(R,P),E!==0&&(C-I-k>0&&N[C-I-k-1][0]==o?N[C-I-k-1][1]+=R.substring(0,E):(N.splice(0,0,[o,R.substring(0,E)]),C++),R=R.substring(E),P=P.substring(E)),E=u(R,P),E!==0&&(N[C][1]=R.substring(R.length-E)+N[C][1],R=R.substring(0,R.length-E),P=P.substring(0,P.length-E))),I===0?N.splice(C-k,I+k,[a,R]):k===0?N.splice(C-I,I+k,[i,P]):N.splice(C-I-k,I+k,[i,P],[a,R]),C=C-I-k+(I?1:0)+(k?1:0)+1):C!==0&&N[C-1][0]==o?(N[C-1][1]+=N[C][1],N.splice(C,1)):C++,k=0,I=0,P="",R="";break}N[N.length-1][1]===""&&N.pop();var T=!1;for(C=1;C<N.length-1;)N[C-1][0]==o&&N[C+1][0]==o&&(N[C][1].substring(N[C][1].length-N[C-1][1].length)==N[C-1][1]?(N[C][1]=N[C-1][1]+N[C][1].substring(0,N[C][1].length-N[C-1][1].length),N[C+1][1]=N[C-1][1]+N[C+1][1],N.splice(C-1,1),T=!0):N[C][1].substring(0,N[C+1][1].length)==N[C+1][1]&&(N[C-1][1]+=N[C+1][1],N[C][1]=N[C][1].substring(N[C+1][1].length)+N[C+1][1],N.splice(C+1,1),T=!0)),C++;T&&y(N)}var v=c;v.INSERT=a,v.DELETE=i,v.EQUAL=o,s.exports=v;function w(N,C){if(C===0)return[o,N];for(var I=0,k=0;k<N.length;k++){var P=N[k];if(P[0]===i||P[0]===o){var R=I+P[1].length;if(C===R)return[k+1,N];if(C<R){N=N.slice();var E=C-I,T=[P[0],P[1].slice(0,E)],A=[P[0],P[1].slice(E)];return N.splice(k,1,T,A),[k+1,N]}else I=R}}throw new Error("cursor_pos is out of bounds!")}function x(N,C){var I=w(N,C),k=I[1],P=I[0],R=k[P],E=k[P+1];if(R==null)return N;if(R[0]!==o)return N;if(E!=null&&R[1]+E[1]===E[1]+R[1])return k.splice(P,2,E,R),_(k,P,2);if(E!=null&&E[1].indexOf(R[1])===0){k.splice(P,2,[E[0],R[1]],[0,R[1]]);var T=E[1].slice(R[1].length);return T.length>0&&k.splice(P+2,0,[E[0],T]),_(k,P,3)}else return N}function b(N){for(var C=!1,I=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},k=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},P=2;P<N.length;P+=1)N[P-2][0]===o&&k(N[P-2][1])&&N[P-1][0]===i&&I(N[P-1][1])&&N[P][0]===a&&I(N[P][1])&&(C=!0,N[P-1][1]=N[P-2][1].slice(-1)+N[P-1][1],N[P][1]=N[P-2][1].slice(-1)+N[P][1],N[P-2][1]=N[P-2][1].slice(0,-1));if(!C)return N;for(var R=[],P=0;P<N.length;P+=1)N[P][1].length>0&&R.push(N[P]);return R}function _(N,C,I){for(var k=C+I-1;k>=0&&k>=C-1;k--)if(k+1<N.length){var P=N[k],R=N[k+1];P[0]===R[1]&&N.splice(k,2,[P[0],P[1]+R[1]])}return N}},function(s,r){r=s.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(a){var o=[];for(var c in a)o.push(c);return o}},function(s,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=s.exports=i?a:o,r.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=o;function o(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(s,r){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function c(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function d(){this._events=new o,this._eventsCount=0}d.prototype.eventNames=function(){var f=[],m,u;if(this._eventsCount===0)return f;for(u in m=this._events)i.call(m,u)&&f.push(a?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},d.prototype.listeners=function(f,m){var u=a?a+f:f,p=this._events[u];if(m)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var y=0,v=p.length,w=new Array(v);y<v;y++)w[y]=p[y].fn;return w},d.prototype.emit=function(f,m,u,p,y,v){var w=a?a+f:f;if(!this._events[w])return!1;var x=this._events[w],b=arguments.length,_,N;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,u),!0;case 4:return x.fn.call(x.context,m,u,p),!0;case 5:return x.fn.call(x.context,m,u,p,y),!0;case 6:return x.fn.call(x.context,m,u,p,y,v),!0}for(N=1,_=new Array(b-1);N<b;N++)_[N-1]=arguments[N];x.fn.apply(x.context,_)}else{var C=x.length,I;for(N=0;N<C;N++)switch(x[N].once&&this.removeListener(f,x[N].fn,void 0,!0),b){case 1:x[N].fn.call(x[N].context);break;case 2:x[N].fn.call(x[N].context,m);break;case 3:x[N].fn.call(x[N].context,m,u);break;case 4:x[N].fn.call(x[N].context,m,u,p);break;default:if(!_)for(I=1,_=new Array(b-1);I<b;I++)_[I-1]=arguments[I];x[N].fn.apply(x[N].context,_)}}return!0},d.prototype.on=function(f,m,u){var p=new c(m,u||this),y=a?a+f:f;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},d.prototype.once=function(f,m,u){var p=new c(m,u||this,!0),y=a?a+f:f;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],p]:this._events[y].push(p):(this._events[y]=p,this._eventsCount++),this},d.prototype.removeListener=function(f,m,u,p){var y=a?a+f:f;if(!this._events[y])return this;if(!m)return--this._eventsCount===0?this._events=new o:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===m&&(!p||v.once)&&(!u||v.context===u)&&(--this._eventsCount===0?this._events=new o:delete this._events[y]);else{for(var w=0,x=[],b=v.length;w<b;w++)(v[w].fn!==m||p&&!v[w].once||u&&v[w].context!==u)&&x.push(v[w]);x.length?this._events[y]=x.length===1?x[0]:x:--this._eventsCount===0?this._events=new o:delete this._events[y]}return this},d.prototype.removeAllListeners=function(f){var m;return f?(m=a?a+f:f,this._events[m]&&(--this._eventsCount===0?this._events=new o:delete this._events[m])):(this._events=new o,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=a,d.EventEmitter=d,typeof s<"u"&&(s.exports=d)},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(de){return typeof de}:function(de){return de&&typeof Symbol=="function"&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de},o=function(){function de(me,ee){var ae=[],oe=!0,be=!1,we=void 0;try{for(var xe=me[Symbol.iterator](),re;!(oe=(re=xe.next()).done)&&(ae.push(re.value),!(ee&&ae.length===ee));oe=!0);}catch(Se){be=!0,we=Se}finally{try{!oe&&xe.return&&xe.return()}finally{if(be)throw we}}return ae}return function(me,ee){if(Array.isArray(me))return me;if(Symbol.iterator in Object(me))return de(me,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function de(me,ee){for(var ae=0;ae<ee.length;ae++){var oe=ee[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(me,oe.key,oe)}}return function(me,ee,ae){return ee&&de(me.prototype,ee),ae&&de(me,ae),me}}(),d=i(3),h=A(d),f=i(2),m=A(f),u=i(0),p=A(u),y=i(5),v=A(y),w=i(10),x=A(w),b=i(9),_=A(b),N=i(36),C=i(37),I=i(13),k=A(I),P=i(26),R=i(38),E=i(39),T=i(40);function A(de){return de&&de.__esModule?de:{default:de}}function $(de,me,ee){return me in de?Object.defineProperty(de,me,{value:ee,enumerable:!0,configurable:!0,writable:!0}):de[me]=ee,de}function O(de,me){if(!(de instanceof me))throw new TypeError("Cannot call a class as a function")}function F(de,me){if(!de)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:de}function G(de,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);de.prototype=Object.create(me&&me.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(de,me):de.__proto__=me)}var Y=(0,x.default)("quill:clipboard"),K="__ql-matcher",U=[[Node.TEXT_NODE,_e],[Node.TEXT_NODE,Ce],["br",fe],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,je],["li",ve],["b",se.bind(se,"bold")],["i",se.bind(se,"italic")],["style",te]],B=[N.AlignAttribute,R.DirectionAttribute].reduce(function(de,me){return de[me.keyName]=me,de},{}),M=[N.AlignStyle,C.BackgroundStyle,P.ColorStyle,R.DirectionStyle,E.FontStyle,T.SizeStyle].reduce(function(de,me){return de[me.keyName]=me,de},{}),z=function(de){G(me,de);function me(ee,ae){O(this,me);var oe=F(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,ee,ae));return oe.quill.root.addEventListener("paste",oe.onPaste.bind(oe)),oe.container=oe.quill.addContainer("ql-clipboard"),oe.container.setAttribute("contenteditable",!0),oe.container.setAttribute("tabindex",-1),oe.matchers=[],U.concat(oe.options.matchers).forEach(function(be){var we=o(be,2),xe=we[0],re=we[1];!ae.matchVisual&&re===he||oe.addMatcher(xe,re)}),oe}return c(me,[{key:"addMatcher",value:function(ae,oe){this.matchers.push([ae,oe])}},{key:"convert",value:function(ae){if(typeof ae=="string")return this.container.innerHTML=ae.replace(/\>\r?\n +\</g,"><"),this.convert();var oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(oe[k.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new m.default().insert(be,$({},k.default.blotName,oe[k.default.blotName]))}var we=this.prepareMatching(),xe=o(we,2),re=xe[0],Se=xe[1],Te=H(this.container,re,Se);return X(Te,`
`)&&Te.ops[Te.ops.length-1].attributes==null&&(Te=Te.compose(new m.default().retain(Te.length()-1).delete(1))),Y.log("convert",this.container.innerHTML,Te),this.container.innerHTML="",Te}},{key:"dangerouslyPasteHTML",value:function(ae,oe){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ae=="string")this.quill.setContents(this.convert(ae),oe),this.quill.setSelection(0,v.default.sources.SILENT);else{var we=this.convert(oe);this.quill.updateContents(new m.default().retain(ae).concat(we),be),this.quill.setSelection(ae+we.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ae){var oe=this;if(!(ae.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),we=new m.default().retain(be.index),xe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){we=we.concat(oe.convert()).delete(be.length),oe.quill.updateContents(we,v.default.sources.USER),oe.quill.setSelection(we.length()-be.length,v.default.sources.SILENT),oe.quill.scrollingContainer.scrollTop=xe,oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ae=this,oe=[],be=[];return this.matchers.forEach(function(we){var xe=o(we,2),re=xe[0],Se=xe[1];switch(re){case Node.TEXT_NODE:be.push(Se);break;case Node.ELEMENT_NODE:oe.push(Se);break;default:[].forEach.call(ae.container.querySelectorAll(re),function(Te){Te[K]=Te[K]||[],Te[K].push(Se)});break}}),[oe,be]}}]),me}(_.default);z.DEFAULTS={matchers:[],matchVisual:!0};function Z(de,me,ee){return(typeof me>"u"?"undefined":a(me))==="object"?Object.keys(me).reduce(function(ae,oe){return Z(ae,oe,me[oe])},de):de.reduce(function(ae,oe){return oe.attributes&&oe.attributes[me]?ae.push(oe):ae.insert(oe.insert,(0,h.default)({},$({},me,ee),oe.attributes))},new m.default)}function W(de){if(de.nodeType!==Node.ELEMENT_NODE)return{};var me="__ql-computed-style";return de[me]||(de[me]=window.getComputedStyle(de))}function X(de,me){for(var ee="",ae=de.ops.length-1;ae>=0&&ee.length<me.length;--ae){var oe=de.ops[ae];if(typeof oe.insert!="string")break;ee=oe.insert+ee}return ee.slice(-1*me.length)===me}function V(de){if(de.childNodes.length===0)return!1;var me=W(de);return["block","list-item"].indexOf(me.display)>-1}function H(de,me,ee){return de.nodeType===de.TEXT_NODE?ee.reduce(function(ae,oe){return oe(de,ae)},new m.default):de.nodeType===de.ELEMENT_NODE?[].reduce.call(de.childNodes||[],function(ae,oe){var be=H(oe,me,ee);return oe.nodeType===de.ELEMENT_NODE&&(be=me.reduce(function(we,xe){return xe(oe,we)},be),be=(oe[K]||[]).reduce(function(we,xe){return xe(oe,we)},be)),ae.concat(be)},new m.default):new m.default}function se(de,me,ee){return Z(ee,de,!0)}function Q(de,me){var ee=p.default.Attributor.Attribute.keys(de),ae=p.default.Attributor.Class.keys(de),oe=p.default.Attributor.Style.keys(de),be={};return ee.concat(ae).concat(oe).forEach(function(we){var xe=p.default.query(we,p.default.Scope.ATTRIBUTE);xe!=null&&(be[xe.attrName]=xe.value(de),be[xe.attrName])||(xe=B[we],xe!=null&&(xe.attrName===we||xe.keyName===we)&&(be[xe.attrName]=xe.value(de)||void 0),xe=M[we],xe!=null&&(xe.attrName===we||xe.keyName===we)&&(xe=M[we],be[xe.attrName]=xe.value(de)||void 0))}),Object.keys(be).length>0&&(me=Z(me,be)),me}function ie(de,me){var ee=p.default.query(de);if(ee==null)return me;if(ee.prototype instanceof p.default.Embed){var ae={},oe=ee.value(de);oe!=null&&(ae[ee.blotName]=oe,me=new m.default().insert(ae,ee.formats(de)))}else typeof ee.formats=="function"&&(me=Z(me,ee.blotName,ee.formats(de)));return me}function fe(de,me){return X(me,`
`)||me.insert(`
`),me}function te(){return new m.default}function ve(de,me){var ee=p.default.query(de);if(ee==null||ee.blotName!=="list-item"||!X(me,`
`))return me;for(var ae=-1,oe=de.parentNode;!oe.classList.contains("ql-clipboard");)(p.default.query(oe)||{}).blotName==="list"&&(ae+=1),oe=oe.parentNode;return ae<=0?me:me.compose(new m.default().retain(me.length()-1).retain(1,{indent:ae}))}function Ce(de,me){return X(me,`
`)||(V(de)||me.length()>0&&de.nextSibling&&V(de.nextSibling))&&me.insert(`
`),me}function he(de,me){if(V(de)&&de.nextElementSibling!=null&&!X(me,`

`)){var ee=de.offsetHeight+parseFloat(W(de).marginTop)+parseFloat(W(de).marginBottom);de.nextElementSibling.offsetTop>de.offsetTop+ee*1.5&&me.insert(`
`)}return me}function je(de,me){var ee={},ae=de.style||{};return ae.fontStyle&&W(de).fontStyle==="italic"&&(ee.italic=!0),ae.fontWeight&&(W(de).fontWeight.startsWith("bold")||parseInt(W(de).fontWeight)>=700)&&(ee.bold=!0),Object.keys(ee).length>0&&(me=Z(me,ee)),parseFloat(ae.textIndent||0)>0&&(me=new m.default().insert("	").concat(me)),me}function _e(de,me){var ee=de.data;if(de.parentNode.tagName==="O:P")return me.insert(ee.trim());if(ee.trim().length===0&&de.parentNode.classList.contains("ql-clipboard"))return me;if(!W(de.parentNode).whiteSpace.startsWith("pre")){var ae=function(be,we){return we=we.replace(/[^\u00a0]/g,""),we.length<1&&be?" ":we};ee=ee.replace(/\r\n/g," ").replace(/\n/g," "),ee=ee.replace(/\s\s+/g,ae.bind(ae,!0)),(de.previousSibling==null&&V(de.parentNode)||de.previousSibling!=null&&V(de.previousSibling))&&(ee=ee.replace(/^\s+/,ae.bind(ae,!1))),(de.nextSibling==null&&V(de.parentNode)||de.nextSibling!=null&&V(de.nextSibling))&&(ee=ee.replace(/\s+$/,ae.bind(ae,!1)))}return me.insert(ee)}r.default=z,r.matchAttributor=Q,r.matchBlot=ie,r.matchNewline=Ce,r.matchSpacing=he,r.matchText=_e},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(v,w){for(var x=0;x<w.length;x++){var b=w[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,w,x){return w&&y(v.prototype,w),x&&y(v,x),v}}(),o=function y(v,w,x){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,w);if(b===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,w,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},c=i(6),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(x){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,x),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(d.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=function(){function T(A,$){var O=[],F=!0,G=!1,Y=void 0;try{for(var K=A[Symbol.iterator](),U;!(F=(U=K.next()).done)&&(O.push(U.value),!($&&O.length===$));F=!0);}catch(B){G=!0,Y=B}finally{try{!F&&K.return&&K.return()}finally{if(G)throw Y}}return O}return function(A,$){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return T(A,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function T(A,$){for(var O=0;O<$.length;O++){var F=$[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(A,F.key,F)}}return function(A,$,O){return $&&T(A.prototype,$),O&&T(A,O),A}}(),c=i(2),d=x(c),h=i(0),f=x(h),m=i(5),u=x(m),p=i(10),y=x(p),v=i(9),w=x(v);function x(T){return T&&T.__esModule?T:{default:T}}function b(T,A,$){return A in T?Object.defineProperty(T,A,{value:$,enumerable:!0,configurable:!0,writable:!0}):T[A]=$,T}function _(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function N(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:T}function C(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var I=(0,y.default)("quill:toolbar"),k=function(T){C(A,T);function A($,O){_(this,A);var F=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,$,O));if(Array.isArray(F.options.container)){var G=document.createElement("div");R(G,F.options.container),$.container.parentNode.insertBefore(G,$.container),F.container=G}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var Y;return Y=I.error("Container required for toolbar",F.options),N(F,Y)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(K){F.addHandler(K,F.options.handlers[K])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(K){F.attach(K)}),F.quill.on(u.default.events.EDITOR_CHANGE,function(K,U){K===u.default.events.SELECTION_CHANGE&&F.update(U)}),F.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){var K=F.quill.selection.getRange(),U=a(K,1),B=U[0];F.update(B)}),F}return o(A,[{key:"addHandler",value:function(O,F){this.handlers[O]=F}},{key:"attach",value:function(O){var F=this,G=[].find.call(O.classList,function(K){return K.indexOf("ql-")===0});if(G){if(G=G.slice(3),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[G]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[G]==null){I.warn("ignoring attaching to disabled format",G,O);return}if(f.default.query(G)==null){I.warn("ignoring attaching to nonexistent format",G,O);return}}var Y=O.tagName==="SELECT"?"change":"click";O.addEventListener(Y,function(K){var U=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var B=O.options[O.selectedIndex];B.hasAttribute("selected")?U=!1:U=B.value||!1}else O.classList.contains("ql-active")?U=!1:U=O.value||!O.hasAttribute("value"),K.preventDefault();F.quill.focus();var M=F.quill.selection.getRange(),z=a(M,1),Z=z[0];if(F.handlers[G]!=null)F.handlers[G].call(F,U);else if(f.default.query(G).prototype instanceof f.default.Embed){if(U=prompt("Enter "+G),!U)return;F.quill.updateContents(new d.default().retain(Z.index).delete(Z.length).insert(b({},G,U)),u.default.sources.USER)}else F.quill.format(G,U,u.default.sources.USER);F.update(Z)}),this.controls.push([G,O])}}},{key:"update",value:function(O){var F=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(G){var Y=a(G,2),K=Y[0],U=Y[1];if(U.tagName==="SELECT"){var B=void 0;if(O==null)B=null;else if(F[K]==null)B=U.querySelector("option[selected]");else if(!Array.isArray(F[K])){var M=F[K];typeof M=="string"&&(M=M.replace(/\"/g,'\\"')),B=U.querySelector('option[value="'+M+'"]')}B==null?(U.value="",U.selectedIndex=-1):B.selected=!0}else if(O==null)U.classList.remove("ql-active");else if(U.hasAttribute("value")){var z=F[K]===U.getAttribute("value")||F[K]!=null&&F[K].toString()===U.getAttribute("value")||F[K]==null&&!U.getAttribute("value");U.classList.toggle("ql-active",z)}else U.classList.toggle("ql-active",F[K]!=null)})}}]),A}(w.default);k.DEFAULTS={};function P(T,A,$){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+A),$!=null&&(O.value=$),T.appendChild(O)}function R(T,A){Array.isArray(A[0])||(A=[A]),A.forEach(function($){var O=document.createElement("span");O.classList.add("ql-formats"),$.forEach(function(F){if(typeof F=="string")P(O,F);else{var G=Object.keys(F)[0],Y=F[G];Array.isArray(Y)?E(O,G,Y):P(O,G,Y)}}),T.appendChild(O)})}function E(T,A,$){var O=document.createElement("select");O.classList.add("ql-"+A),$.forEach(function(F){var G=document.createElement("option");F!==!1?G.setAttribute("value",F):G.setAttribute("selected","selected"),O.appendChild(G)}),T.appendChild(O)}k.DEFAULTS={container:null,handlers:{clean:function(){var A=this,$=this.quill.getSelection();if($!=null)if($.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(F){f.default.query(F,f.default.Scope.INLINE)!=null&&A.quill.format(F,!1)})}else this.quill.removeFormat($,u.default.sources.USER)},direction:function(A){var $=this.quill.getFormat().align;A==="rtl"&&$==null?this.quill.format("align","right",u.default.sources.USER):!A&&$==="right"&&this.quill.format("align",!1,u.default.sources.USER),this.quill.format("direction",A,u.default.sources.USER)},indent:function(A){var $=this.quill.getSelection(),O=this.quill.getFormat($),F=parseInt(O.indent||0);if(A==="+1"||A==="-1"){var G=A==="+1"?1:-1;O.direction==="rtl"&&(G*=-1),this.quill.format("indent",F+G,u.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,u.default.sources.USER)},list:function(A){var $=this.quill.getSelection(),O=this.quill.getFormat($);A==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,u.default.sources.USER):this.quill.format("list","unchecked",u.default.sources.USER):this.quill.format("list",A,u.default.sources.USER)}}},r.default=k,r.addControls=R},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(v,w){for(var x=0;x<w.length;x++){var b=w[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,w,x){return w&&y(v.prototype,w),x&&y(v,x),v}}(),o=function y(v,w,x){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,w);if(b===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,w,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},c=i(28),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(w,x){f(this,v);var b=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return b.label.innerHTML=x,b.container.classList.add("ql-color-picker"),[].slice.call(b.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),b}return a(v,[{key:"buildItem",value:function(x){var b=o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,x);return b.style.backgroundColor=x.getAttribute("value")||"",b}},{key:"selectItem",value:function(x,b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,x,b);var _=this.label.querySelector(".ql-color-label"),N=x&&x.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=N:_.style.fill=N)}}]),v}(d.default);r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(v,w){for(var x=0;x<w.length;x++){var b=w[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,w,x){return w&&y(v.prototype,w),x&&y(v,x),v}}(),o=function y(v,w,x){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,w);if(b===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,w,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},c=i(28),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(w,x){f(this,v);var b=m(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return b.container.classList.add("ql-icon-picker"),[].forEach.call(b.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=x[_.getAttribute("data-value")||""]}),b.defaultItem=b.container.querySelector(".ql-selected"),b.selectItem(b.defaultItem),b}return a(v,[{key:"selectItem",value:function(x,b){o(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,x,b),x=x||this.defaultItem,this.label.innerHTML=x.innerHTML}}]),v}(d.default);r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function d(h,f){for(var m=0;m<f.length;m++){var u=f[m];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(h,u.key,u)}}return function(h,f,m){return f&&d(h.prototype,f),m&&d(h,m),h}}();function o(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=function(){function d(h,f){var m=this;o(this,d),this.quill=h,this.boundsContainer=f||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var m=f.left+f.width/2-this.root.offsetWidth/2,u=f.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=u+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>p.right&&(v=p.right-y.right,this.root.style.left=m+v+"px"),y.left<p.left&&(v=p.left-y.left,this.root.style.left=m+v+"px"),y.bottom>p.bottom){var w=y.bottom-y.top,x=f.bottom-f.top+w;this.root.style.top=u-x+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();r.default=c},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function E(T,A){var $=[],O=!0,F=!1,G=void 0;try{for(var Y=T[Symbol.iterator](),K;!(O=(K=Y.next()).done)&&($.push(K.value),!(A&&$.length===A));O=!0);}catch(U){F=!0,G=U}finally{try{!O&&Y.return&&Y.return()}finally{if(F)throw G}}return $}return function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function E(T,A,$){T===null&&(T=Function.prototype);var O=Object.getOwnPropertyDescriptor(T,A);if(O===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:E(F,A,$)}else{if("value"in O)return O.value;var G=O.get;return G===void 0?void 0:G.call($)}},c=function(){function E(T,A){for(var $=0;$<A.length;$++){var O=A[$];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}return function(T,A,$){return A&&E(T.prototype,A),$&&E(T,$),T}}(),d=i(3),h=_(d),f=i(8),m=_(f),u=i(43),p=_(u),y=i(27),v=_(y),w=i(15),x=i(41),b=_(x);function _(E){return E&&E.__esModule?E:{default:E}}function N(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function C(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function I(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],P=function(E){I(T,E);function T(A,$){N(this,T),$.modules.toolbar!=null&&$.modules.toolbar.container==null&&($.modules.toolbar.container=k);var O=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,$));return O.quill.container.classList.add("ql-snow"),O}return c(T,[{key:"extendToolbar",value:function($){$.container.classList.add("ql-snow"),this.buildButtons([].slice.call($.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call($.container.querySelectorAll("select")),b.default),this.tooltip=new R(this.quill,this.options.bounds),$.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(O,F){$.handlers.link.call($,!F.format.link)})}}]),T}(p.default);P.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var A=this.quill.getSelection();if(A==null||A.length==0)return;var $=this.quill.getText(A);/^\S+@\S+\.\S+$/.test($)&&$.indexOf("mailto:")!==0&&($="mailto:"+$);var O=this.quill.theme.tooltip;O.edit("link",$)}else this.quill.format("link",!1)}}}}});var R=function(E){I(T,E);function T(A,$){N(this,T);var O=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,$));return O.preview=O.root.querySelector("a.ql-preview"),O}return c(T,[{key:"listen",value:function(){var $=this;o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(O){$.root.classList.contains("ql-editing")?$.save():$.edit("link",$.preview.textContent),O.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(O){if($.linkRange!=null){var F=$.linkRange;$.restoreFocus(),$.quill.formatText(F,"link",!1,m.default.sources.USER),delete $.linkRange}O.preventDefault(),$.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(O,F,G){if(O!=null){if(O.length===0&&G===m.default.sources.USER){var Y=$.quill.scroll.descendant(v.default,O.index),K=a(Y,2),U=K[0],B=K[1];if(U!=null){$.linkRange=new w.Range(O.index-B,U.length());var M=v.default.formats(U.domNode);$.preview.textContent=M,$.preview.setAttribute("href",M),$.show(),$.position($.quill.getBounds($.linkRange));return}}else delete $.linkRange;$.hide()}})}},{key:"show",value:function(){o(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(u.BaseTooltip);R.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=P},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(29),o=oe(a),c=i(36),d=i(38),h=i(64),f=i(65),m=oe(f),u=i(66),p=oe(u),y=i(67),v=oe(y),w=i(37),x=i(26),b=i(39),_=i(40),N=i(56),C=oe(N),I=i(68),k=oe(I),P=i(27),R=oe(P),E=i(69),T=oe(E),A=i(70),$=oe(A),O=i(71),F=oe(O),G=i(72),Y=oe(G),K=i(73),U=oe(K),B=i(13),M=oe(B),z=i(74),Z=oe(z),W=i(75),X=oe(W),V=i(57),H=oe(V),se=i(41),Q=oe(se),ie=i(28),fe=oe(ie),te=i(59),ve=oe(te),Ce=i(60),he=oe(Ce),je=i(61),_e=oe(je),de=i(108),me=oe(de),ee=i(62),ae=oe(ee);function oe(be){return be&&be.__esModule?be:{default:be}}o.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":x.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":b.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":x.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":b.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":c.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":h.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":x.ColorStyle,"formats/font":b.FontClass,"formats/size":_.SizeClass,"formats/blockquote":m.default,"formats/code-block":M.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":C.default,"formats/code":B.Code,"formats/italic":k.default,"formats/link":R.default,"formats/script":T.default,"formats/strike":$.default,"formats/underline":F.default,"formats/image":Y.default,"formats/video":U.default,"formats/list/item":y.ListItem,"modules/formula":Z.default,"modules/syntax":X.default,"modules/toolbar":H.default,"themes/bubble":me.default,"themes/snow":ae.default,"ui/icons":Q.default,"ui/picker":fe.default,"ui/icon-picker":he.default,"ui/color-picker":ve.default,"ui/tooltip":_e.default},!0),r.default=o.default},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=function(){function v(w,x){for(var b=0;b<x.length;b++){var _=x[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(w,_.key,_)}}return function(w,x,b){return x&&v(w.prototype,x),b&&v(w,b),w}}(),o=function v(w,x,b){w===null&&(w=Function.prototype);var _=Object.getOwnPropertyDescriptor(w,x);if(_===void 0){var N=Object.getPrototypeOf(w);return N===null?void 0:v(N,x,b)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(b)}},c=i(0),d=h(c);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function m(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function u(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){u(w,v);function w(){return f(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(b,_){if(_==="+1"||_==="-1"){var N=this.value(b)||0;_=_==="+1"?N+1:N-1}return _===0?(this.remove(b),!0):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,b,_)}},{key:"canAdd",value:function(b,_){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,_)||o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,b,parseInt(_))}},{key:"value",value:function(b){return parseInt(o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,b))||void 0}}]),w}(d.default.Attributor.Class),y=new p("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function p(y,v){for(var w=0;w<v.length;w++){var x=v[w];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}return function(y,v,w){return v&&p(y.prototype,v),w&&p(y,w),y}}(),o=i(4),c=d(o);function d(p){return p&&p.__esModule?p:{default:p}}function h(p,y){if(!(p instanceof y))throw new TypeError("Cannot call a class as a function")}function f(p,y){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:p}function m(p,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);p.prototype=Object.create(y&&y.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(p,y):p.__proto__=y)}var u=function(p){m(y,p);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),y}(c.default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],r.default=u},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=function(){function N(C,I){for(var k=0;k<I.length;k++){var P=I[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,I,k){return I&&N(C.prototype,I),k&&N(C,k),C}}(),o=function N(C,I,k){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,I);if(P===void 0){var R=Object.getPrototypeOf(C);return R===null?void 0:N(R,I,k)}else{if("value"in P)return P.value;var E=P.get;return E===void 0?void 0:E.call(k)}},c=i(0),d=p(c),h=i(4),f=p(h),m=i(25),u=p(m);function p(N){return N&&N.__esModule?N:{default:N}}function y(N,C,I){return C in N?Object.defineProperty(N,C,{value:I,enumerable:!0,configurable:!0,writable:!0}):N[C]=I,N}function v(N,C){if(!(N instanceof C))throw new TypeError("Cannot call a class as a function")}function w(N,C){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:N}function x(N,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);N.prototype=Object.create(C&&C.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(N,C):N.__proto__=C)}var b=function(N){x(C,N);function C(){return v(this,C),w(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"format",value:function(k,P){k===_.blotName&&!P?this.replaceWith(d.default.create(this.statics.scope)):o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,k,P)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,P){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,P),this):(this.parent.unwrap(),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replaceWith",this).call(this,k,P))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:o(C.__proto__||Object.getPrototypeOf(C),"formats",this).call(this,k)}}]),C}(f.default);b.blotName="list-item",b.tagName="LI";var _=function(N){x(C,N),a(C,null,[{key:"create",value:function(k){var P=k==="ordered"?"OL":"UL",R=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,P);return(k==="checked"||k==="unchecked")&&R.setAttribute("data-checked",k==="checked"),R}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function C(I){v(this,C);var k=w(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,I)),P=function(E){if(E.target.parentNode===I){var T=k.statics.formats(I),A=d.default.find(E.target);T==="checked"?A.format("list","unchecked"):T==="unchecked"&&A.format("list","checked")}};return I.addEventListener("touchstart",P),I.addEventListener("mousedown",P),k}return a(C,[{key:"format",value:function(k,P){this.children.length>0&&this.children.tail.format(k,P)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,P){if(k instanceof b)o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,k,P);else{var R=P==null?this.length():P.offset(this),E=this.split(R);E.parent.insertBefore(k,E)}}},{key:"optimize",value:function(k){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,k);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var P=d.default.create(this.statics.defaultChild);k.moveChildren(P),this.appendChild(P)}o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,k)}}]),C}(u.default);_.blotName="list",_.scope=d.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[b],r.ListItem=b,r.default=_},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(56),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function y(v,w){for(var x=0;x<w.length;x++){var b=w[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,w,x){return w&&y(v.prototype,w),x&&y(v,x),v}}(),o=function y(v,w,x){v===null&&(v=Function.prototype);var b=Object.getOwnPropertyDescriptor(v,w);if(b===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:y(_,w,x)}else{if("value"in b)return b.value;var N=b.get;return N===void 0?void 0:N.call(x)}},c=i(6),d=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function m(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function u(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var p=function(y){u(v,y);function v(){return f(this,v),m(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(x){return x==="super"?document.createElement("sup"):x==="sub"?document.createElement("sub"):o(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,x)}},{key:"formats",value:function(x){if(x.tagName==="SUB")return"sub";if(x.tagName==="SUP")return"super"}}]),v}(d.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="strike",m.tagName="S",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(6),o=c(a);function c(u){return u&&u.__esModule?u:{default:u}}function d(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")}function h(u,p){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:u}function f(u,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);u.prototype=Object.create(p&&p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(u,p):u.__proto__=p)}var m=function(u){f(p,u);function p(){return d(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);m.blotName="underline",m.tagName="U",r.default=m},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(x,b){for(var _=0;_<b.length;_++){var N=b[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,_){return b&&w(x.prototype,b),_&&w(x,_),x}}(),o=function w(x,b,_){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,b);if(N===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:w(C,b,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(0),d=f(c),h=i(27);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function u(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function p(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var y=["alt","height","width"],v=function(w){p(x,w);function x(){return m(this,x),u(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(_,N){y.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,_);return typeof _=="string"&&N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return y.reduce(function(N,C){return _.hasAttribute(C)&&(N[C]=_.getAttribute(C)),N},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,h.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),x}(d.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function w(x,b){for(var _=0;_<b.length;_++){var N=b[_];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(x,N.key,N)}}return function(x,b,_){return b&&w(x.prototype,b),_&&w(x,_),x}}(),o=function w(x,b,_){x===null&&(x=Function.prototype);var N=Object.getOwnPropertyDescriptor(x,b);if(N===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:w(C,b,_)}else{if("value"in N)return N.value;var I=N.get;return I===void 0?void 0:I.call(_)}},c=i(4),d=i(27),h=f(d);function f(w){return w&&w.__esModule?w:{default:w}}function m(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")}function u(w,x){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:w}function p(w,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);w.prototype=Object.create(x&&x.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(w,x):w.__proto__=x)}var y=["height","width"],v=function(w){p(x,w);function x(){return m(this,x),u(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"format",value:function(_,N){y.indexOf(_)>-1?N?this.domNode.setAttribute(_,N):this.domNode.removeAttribute(_):o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,_,N)}}],[{key:"create",value:function(_){var N=o(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,_);return N.setAttribute("frameborder","0"),N.setAttribute("allowfullscreen",!0),N.setAttribute("src",this.sanitize(_)),N}},{key:"formats",value:function(_){return y.reduce(function(N,C){return _.hasAttribute(C)&&(N[C]=_.getAttribute(C)),N},{})}},{key:"sanitize",value:function(_){return h.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),x}(c.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=function(){function _(N,C){for(var I=0;I<C.length;I++){var k=C[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(N,k.key,k)}}return function(N,C,I){return C&&_(N.prototype,C),I&&_(N,I),N}}(),o=function _(N,C,I){N===null&&(N=Function.prototype);var k=Object.getOwnPropertyDescriptor(N,C);if(k===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:_(P,C,I)}else{if("value"in k)return k.value;var R=k.get;return R===void 0?void 0:R.call(I)}},c=i(35),d=p(c),h=i(5),f=p(h),m=i(9),u=p(m);function p(_){return _&&_.__esModule?_:{default:_}}function y(_,N){if(!(_ instanceof N))throw new TypeError("Cannot call a class as a function")}function v(_,N){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:_}function w(_,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);_.prototype=Object.create(N&&N.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(_,N):_.__proto__=N)}var x=function(_){w(N,_);function N(){return y(this,N),v(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,null,[{key:"create",value:function(I){var k=o(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",I)),k}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),N}(d.default);x.blotName="formula",x.className="ql-formula",x.tagName="SPAN";var b=function(_){w(N,_),a(N,null,[{key:"register",value:function(){f.default.register(x,!0)}}]);function N(){y(this,N);var C=v(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return C}return N}(u.default);r.FormulaBlot=x,r.default=b},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=function(){function I(k,P){for(var R=0;R<P.length;R++){var E=P[R];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,P,R){return P&&I(k.prototype,P),R&&I(k,R),k}}(),o=function I(k,P,R){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,P);if(E===void 0){var T=Object.getPrototypeOf(k);return T===null?void 0:I(T,P,R)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(R)}},c=i(0),d=v(c),h=i(5),f=v(h),m=i(9),u=v(m),p=i(13),y=v(p);function v(I){return I&&I.__esModule?I:{default:I}}function w(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function x(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function b(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var _=function(I){b(k,I);function k(){return w(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"replaceWith",value:function(R){this.domNode.textContent=this.domNode.textContent,this.attach(),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,R)}},{key:"highlight",value:function(R){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=R(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),k}(y.default);_.className="ql-syntax";var N=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),C=function(I){b(k,I),a(k,null,[{key:"register",value:function(){f.default.register(N,!0),f.default.register(_,!0)}}]);function k(P,R){w(this,k);var E=x(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,R));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return E.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){E.highlight(),T=null},E.options.interval)}),E.highlight(),E}return a(k,[{key:"highlight",value:function(){var R=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(T){T.highlight(R.options.highlight)}),this.quill.update(f.default.sources.SILENT),E!=null&&this.quill.setSelection(E,f.default.sources.SILENT)}}}]),k}(u.default);C.DEFAULTS={highlight:function(){return window.hljs==null?null:function(I){var k=window.hljs.highlightAuto(I);return k.value}}(),interval:1e3},r.CodeBlock=_,r.CodeToken=N,r.default=C},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,r){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,r){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,r){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function k(P,R,E){P===null&&(P=Function.prototype);var T=Object.getOwnPropertyDescriptor(P,R);if(T===void 0){var A=Object.getPrototypeOf(P);return A===null?void 0:k(A,R,E)}else{if("value"in T)return T.value;var $=T.get;return $===void 0?void 0:$.call(E)}},o=function(){function k(P,R){for(var E=0;E<R.length;E++){var T=R[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,T.key,T)}}return function(P,R,E){return R&&k(P.prototype,R),E&&k(P,E),P}}(),c=i(3),d=w(c),h=i(8),f=w(h),m=i(43),u=w(m),p=i(15),y=i(41),v=w(y);function w(k){return k&&k.__esModule?k:{default:k}}function x(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function b(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:k}function _(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}var N=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],C=function(k){_(P,k);function P(R,E){x(this,P),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=N);var T=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,E));return T.quill.container.classList.add("ql-bubble"),T}return o(P,[{key:"extendToolbar",value:function(E){this.tooltip=new I(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),v.default)}}]),P}(u.default);C.DEFAULTS=(0,d.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){P?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var I=function(k){_(P,k);function P(R,E){x(this,P);var T=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,E));return T.quill.on(f.default.events.EDITOR_CHANGE,function(A,$,O,F){if(A===f.default.events.SELECTION_CHANGE)if($!=null&&$.length>0&&F===f.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var G=T.quill.getLines($.index,$.length);if(G.length===1)T.position(T.quill.getBounds($));else{var Y=G[G.length-1],K=T.quill.getIndex(Y),U=Math.min(Y.length()-1,$.index+$.length-K),B=T.quill.getBounds(new p.Range(K,U));T.position(B)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return o(P,[{key:"listen",value:function(){var E=this;a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var T=E.quill.getSelection();T!=null&&E.position(E.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var T=a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,E),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",T===0)return T;A.style.marginLeft=-1*T-A.offsetWidth/2+"px"}}]),P}(m.BaseTooltip);I.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=I,r.default=C},function(s,r,i){s.exports=i(63)}]).default})})(k4);var hne=k4.exports,fne=vi&&vi.__extends||function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,s)};return function(t,s){e(t,s);function r(){this.constructor=t}t.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),Om=vi&&vi.__assign||function(){return Om=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Om.apply(this,arguments)},mne=vi&&vi.__spreadArrays||function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<s;t++)for(var a=arguments[t],o=0,c=a.length;o<c;o++,i++)r[i]=a[o];return r},Zp=vi&&vi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Jr=Zp(j),pne=Zp(eo),Sd=Zp(une),u2=Zp(hne),gne=function(e){fne(t,e);function t(s){var r=e.call(this,s)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(a,o,c,d){var h,f,m,u;a==="text-change"?(f=(h=r).onEditorChangeText)===null||f===void 0||f.call(h,r.editor.root.innerHTML,o,d,r.unprivilegedEditor):a==="selection-change"&&((u=(m=r).onEditorChangeSelection)===null||u===void 0||u.call(m,o,d,r.unprivilegedEditor))};var i=r.isControlled()?s.value:s.defaultValue;return r.value=i??"",r}return t.prototype.validateProps=function(s){var r;if(Jr.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Jr.default.Children.count(s.children)){var i=Jr.default.Children.only(s.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(s,r){var i=this,a;if(this.validateProps(s),!this.editor||this.state.generation!==r.generation)return!0;if("value"in s){var o=this.getEditorContents(),c=(a=s.value,a??"");this.isEqualValue(c,o)||this.setEditorContents(this.editor,c)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),mne(this.cleanProps,this.dirtyProps).some(function(d){return!Sd.default(s[d],i.props[d])})},t.prototype.shouldComponentRegenerate=function(s){var r=this;return this.dirtyProps.some(function(i){return!Sd.default(s[i],r.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(s,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(s)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var c=this.regenerationSnapshot,a=c.delta,d=c.selection;delete this.regenerationSnapshot,this.instantiateEditor();var h=this.editor;h.setContents(a),h2(function(){return i.setEditorSelection(h,d)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(s,r){var i=new u2.default(s,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(s){return s&&s.ops},t.prototype.isEqualValue=function(s,r){return this.isDelta(s)&&this.isDelta(r)?Sd.default(s.ops,r.ops):Sd.default(s,r)},t.prototype.setEditorContents=function(s,r){var i=this;this.value=r;var a=this.getEditorSelection();typeof r=="string"?s.setContents(s.clipboard.convert(r)):s.setContents(r),h2(function(){return i.setEditorSelection(s,a)})},t.prototype.setEditorSelection=function(s,r){if(this.selection=r,r){var i=s.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),s.setSelection(r)}},t.prototype.setEditorTabIndex=function(s,r){var i,a;!((a=(i=s)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(s.scroll.domNode.tabIndex=r)},t.prototype.setEditorReadOnly=function(s,r){r?s.disable():s.enable()},t.prototype.makeUnprivilegedEditor=function(s){var r=s;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=pne.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},t.prototype.renderEditingArea=function(){var s=this,r=this.props,i=r.children,a=r.preserveWhitespace,o=this.state.generation,c={key:o,ref:function(d){s.editingArea=d}};return Jr.default.Children.count(i)?Jr.default.cloneElement(Jr.default.Children.only(i),c):a?Jr.default.createElement("pre",Om({},c)):Jr.default.createElement("div",Om({},c))},t.prototype.render=function(){var s;return Jr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(s,r,i,a){var o,c;if(this.editor){var d=this.isDelta(this.value)?a.getContents():a.getHTML();d!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=d,(c=(o=this.props).onChange)===null||c===void 0||c.call(o,s,r,i,a))}},t.prototype.onEditorChangeSelection=function(s,r,i){var a,o,c,d,h,f;if(this.editor){var m=this.getEditorSelection(),u=!m&&s,p=m&&!s;Sd.default(s,m)||(this.selection=s,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,s,r,i),u?(d=(c=this.props).onFocus)===null||d===void 0||d.call(c,s,r,i):p&&((f=(h=this.props).onBlur)===null||f===void 0||f.call(h,m,r,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=u2.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Jr.default.Component);function h2(e){Promise.resolve().then(e)}var vne=gne;const C4=Rm(vne);var Gp="Switch",[xne,Ase]=ls(Gp),[yne,bne]=xne(Gp),E4=j.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:i,defaultChecked:a,required:o,disabled:c,value:d="on",onCheckedChange:h,form:f,...m}=e,[u,p]=j.useState(null),y=ht(t,_=>p(_)),v=j.useRef(!1),w=u?f||!!u.closest("form"):!0,[x,b]=Fr({prop:i,defaultProp:a??!1,onChange:h,caller:Gp});return n.jsxs(yne,{scope:s,checked:x,disabled:c,children:[n.jsx(Xe.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":O4(x),"data-disabled":c?"":void 0,disabled:c,value:d,...m,ref:y,onClick:Me(e.onClick,_=>{b(N=>!N),w&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),w&&n.jsx(A4,{control:u,bubbles:!v.current,name:r,value:d,checked:x,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});E4.displayName=Gp;var P4="SwitchThumb",T4=j.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,i=bne(P4,s);return n.jsx(Xe.span,{"data-state":O4(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});T4.displayName=P4;var wne="SwitchBubbleInput",A4=j.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...i},a)=>{const o=j.useRef(null),c=ht(o,a),d=kp(s),h=rp(t);return j.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==s&&p){const y=new Event("click",{bubbles:r});p.call(f,s),f.dispatchEvent(y)}},[d,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...i,tabIndex:-1,ref:c,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A4.displayName=wne;function O4(e){return e?"checked":"unchecked"}var R4=E4,jne=T4;const Zt=j.forwardRef(({className:e,...t},s)=>n.jsx(R4,{className:Ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(jne,{className:Ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Zt.displayName=R4.displayName;const L4=({productData:e})=>{const{name:t,category:s,price:r,comparePrice:i,images:a,description:o,tags:c,dynamicFields:d,shortDescription:h,featured:f,status:m}=e,u=i&&r?Math.round((i-r)/i*100):0;return n.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6",children:[n.jsx(Pe,{children:n.jsx(Ae,{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:a&&a.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:n.jsx("img",{src:a[0],alt:t,className:"w-full h-full object-cover"})}),a.length>1&&n.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.slice(1,5).map((p,y)=>n.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:n.jsx("img",{src:p,alt:`${t} ${y+2}`,className:"w-full h-full object-cover cursor-pointer hover:opacity-80"})},y))})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(De,{variant:"outline",children:s}),f&&n.jsx(De,{className:"bg-yellow-100 text-yellow-800",children:"Featured"}),n.jsx(De,{variant:m==="active"?"default":"secondary",children:m})]}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:t}),h&&n.jsx("p",{className:"text-gray-600 mb-4",children:h})]}),n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"flex text-yellow-400",children:[...Array(5)].map((p,y)=>n.jsx(cn,{className:"h-4 w-4 fill-current"},y))}),n.jsx("span",{className:"text-sm text-gray-600",children:"(4.8) 124 reviews"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["",r==null?void 0:r.toLocaleString()]}),i&&i>r&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-lg text-gray-500 line-through",children:["",i.toLocaleString()]}),n.jsxs(De,{className:"bg-green-100 text-green-800",children:[u,"% OFF"]})]})]}),n.jsx("p",{className:"text-sm text-green-600",children:"Inclusive of all taxes"})]}),n.jsx(pi,{}),d&&Object.keys(d).length>0&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Product Details"}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(d).map(([p,y])=>y?n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-600 capitalize",children:[p.replace(/([A-Z])/g," $1").trim(),":"]}),n.jsx("span",{className:"font-medium",children:Array.isArray(y)?y.join(", "):String(y)})]},p):null)})]}),n.jsx(pi,{}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(ne,{className:"flex-1",children:[n.jsx(Is,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),n.jsx(ne,{variant:"outline",size:"icon",children:n.jsx(ur,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"icon",children:n.jsx(Ho,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx(Hl,{className:"h-6 w-6 mx-auto mb-1 text-blue-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Free Delivery"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(yi,{className:"h-6 w-6 mx-auto mb-1 text-green-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Secure Payment"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ii,{className:"h-6 w-6 mx-auto mb-1 text-orange-600"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Easy Returns"})]})]})]})]})})}),o&&n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Product Description"})}),n.jsx(Ae,{children:n.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:o}})})]}),c&&c.length>0&&n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Tags"})}),n.jsx(Ae,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(p=>n.jsx(De,{variant:"secondary",children:p},p))})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Similar Products"})}),n.jsx(Ae,{children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(p=>n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg"}),n.jsxs("p",{className:"text-sm font-medium",children:["Similar Product ",p]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["",(r*(.8+Math.random()*.4)).toFixed(0)]})]},p))})})]})]})},Er={electronics:{name:"Electronics",description:"Electronic devices and gadgets",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"e.g., Samsung, Apple"},{name:"model",label:"Model",type:"text",placeholder:"e.g., Galaxy S24"},{name:"warranty",label:"Warranty",type:"select",options:["No Warranty","6 months","1 year","2 years"]}]},clothing:{name:"Clothing & Fashion",description:"Apparel and fashion accessories",icon:"",fields:[{name:"brand",label:"Brand",type:"text",placeholder:"Brand name"},{name:"size",label:"Sizes",type:"multiselect",options:["XS","S","M","L","XL","XXL"]},{name:"color",label:"Colors",type:"multiselect",options:["Black","White","Red","Blue","Green","Gray","Brown"]},{name:"material",label:"Material",type:"text",placeholder:"e.g., Cotton, Polyester"}]},food:{name:"Food & Beverages",description:"Fresh food and beverages",icon:"",fields:[{name:"cuisine",label:"Cuisine",type:"select",options:["Nepali","Indian","Chinese","Continental","Italian","Other"]},{name:"spiceLevel",label:"Spice Level",type:"select",options:["Mild","Medium","Hot"]},{name:"dietaryInfo",label:"Dietary",type:"multiselect",options:["Vegetarian","Vegan","Gluten-Free"]},{name:"servingSize",label:"Serving Size",type:"text",placeholder:"e.g., 1 plate, 250ml"}]},baby:{name:"Baby & Kids",description:"Products for babies and children",icon:"",fields:[{name:"ageGroup",label:"Age Group",type:"select",options:["0-6 months","6-12 months","1-2 years","2-4 years","4+ years"]},{name:"safetyFeatures",label:"Safety",type:"multiselect",options:["BPA Free","Non-Toxic","Organic"]}]},grocery:{name:"Grocery & Household",description:"Daily essentials and household items",icon:"",fields:[{name:"weight",label:"Weight/Volume",type:"text",placeholder:"e.g., 1kg, 500ml"},{name:"expiryDate",label:"Expiry Date",type:"date"},{name:"organic",label:"Organic",type:"boolean"}]},meat:{name:"Meat & Seafood",description:"Fresh meat and seafood",icon:"",fields:[{name:"cut",label:"Cut Type",type:"select",options:["Whole","Pieces","Minced","Fillet"]},{name:"freshness",label:"Freshness",type:"select",options:["Fresh","Frozen"]}]},medicine:{name:"Medicine & Health",description:"Medicines and health products",icon:"",fields:[{name:"dosage",label:"Dosage",type:"text",placeholder:"e.g., 500mg, 10ml"},{name:"form",label:"Form",type:"select",options:["Tablet","Capsule","Syrup","Injection","Cream","Drops"]},{name:"prescription",label:"Prescription Required",type:"boolean"}]}},_ne=()=>Object.entries(Er).map(([e,t])=>({value:e,label:t.name,description:t.description,icon:t.icon})),f2=e=>({meat:"kg",grocery:"piece",medicine:"unit",food:"plate",electronics:"piece",clothing:"piece",baby:"piece"})[e]||"piece",Nne=c4({name:jn().min(1,"Product name is required"),category:jn().min(1,"Category is required"),subcategory:jn().optional(),price:zi().min(0,"Price must be positive"),comparePrice:zi().optional(),costPrice:zi().optional(),sku:jn().optional(),barcode:jn().optional(),trackQuantity:eu().default(!0),quantity:zi().min(0,"Quantity must be positive"),lowStockThreshold:zi().min(0).optional(),description:jn().min(1,"Description is required"),shortDescription:jn().optional(),tags:Em(jn()).default([]),images:Em(jn()).min(1,"At least one image is required"),status:u4(["active","draft","archived"]).default("active"),featured:eu().default(!1),freeDelivery:eu().default(!1),seoTitle:jn().optional(),seoDescription:jn().optional(),dynamicFields:d4(Wy()).default({})}),Sne=()=>{const[e,t]=j.useState(""),[s,r]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!1),[f,m]=j.useState(!1),[u,p]=j.useState([]),[y,v]=j.useState([]),w=s4({resolver:i4(Nne),defaultValues:{name:"",category:"",price:0,quantity:0,description:"",tags:[],images:[],status:"active",featured:!1,freeDelivery:!1,trackQuantity:!0,dynamicFields:{}}}),{control:x,handleSubmit:b,watch:_,setValue:N,formState:{errors:C}}=w,I=_("category");j.useEffect(()=>{var F;t(I),I&&((F=Er[I])!=null&&F.subcategories)?v(Er[I].subcategories):v([]),N("subcategory","")},[I,N]),j.useEffect(()=>{(async()=>{try{const{response:G,data:Y}=await Be("/vendor-profiles/");if(G.ok&&Y&&Y.length>0){const U=Y[0].categories||[];p(U)}}catch(G){console.error("Error fetching vendor profile:",G)}})()},[N]);const k=F=>{const G=F.target.files;if(G){const Y=Array.from(G).map(K=>URL.createObjectURL(K));r(K=>[...K,...Y]),N("images",[...s,...Y])}},P=F=>{const G=s.filter((Y,K)=>K!==F);r(G),N("images",G)},R=()=>{if(o.trim()&&!i.includes(o.trim())){const F=[...i,o.trim()];a(F),N("tags",F),c("")}},E=F=>{const G=i.filter(Y=>Y!==F);a(G),N("tags",G)},T=F=>{console.log("Product Data:",F)},A=F=>{const G=`dynamicFields.${F.name}`;switch(F.type){case"text":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>n.jsx(ge,{...Y,placeholder:`Enter ${F.label.toLowerCase()}`})})]},F.name);case"number":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>n.jsx(ge,{...Y,type:"number",placeholder:`Enter ${F.label.toLowerCase()}`,onChange:K=>Y.onChange(Number(K.target.value))})})]},F.name);case"select":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>{var K;return n.jsxs(Vt,{onValueChange:Y.onChange,value:Y.value,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:`Select ${F.label.toLowerCase()}`})}),n.jsx(Bt,{children:(K=F.options)==null?void 0:K.map(U=>n.jsx(We,{value:U,children:U},U))})]})}})]},F.name);case"multiselect":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>{var U;const K=Y.value||[];return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Vt,{onValueChange:B=>{K.includes(B)||Y.onChange([...K,B])},children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:`Select ${F.label.toLowerCase()}`})}),n.jsx(Bt,{children:(U=F.options)==null?void 0:U.map(B=>n.jsx(We,{value:B,children:B},B))})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:K.map(B=>n.jsxs(De,{variant:"secondary",className:"flex items-center gap-1",children:[B,n.jsx(is,{className:"h-3 w-3 cursor-pointer",onClick:()=>{Y.onChange(K.filter(M=>M!==B))}})]},B))})]})}})]},F.name);case"textarea":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>n.jsx(Kn,{...Y,placeholder:`Enter ${F.label.toLowerCase()}`})})]},F.name);case"boolean":return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:G,control:x,render:({field:Y})=>n.jsx(Zt,{checked:Y.value,onCheckedChange:Y.onChange})}),n.jsx(ue,{htmlFor:F.name,children:F.label})]},F.name);case"date":return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:F.name,children:[F.label," ",F.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:G,control:x,rules:{required:F.required},render:({field:Y})=>n.jsx(ge,{...Y,type:"date"})})]},F.name);default:return null}},$=()=>f?n.jsx(L4,{productData:_()}):n.jsxs("form",{onSubmit:b(T),className:"space-y-6",children:[n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"h-5 w-5"}),"Basic Information"]})}),n.jsxs(Ae,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:"name",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"name",control:x,render:({field:F})=>n.jsx(ge,{...F,placeholder:"Enter product name"})}),C.name&&n.jsx("p",{className:"text-red-500 text-sm",children:C.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:"category",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"category",control:x,render:({field:F})=>n.jsxs(Vt,{onValueChange:F.onChange,value:F.value,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select category"})}),n.jsx(Bt,{children:u.map(G=>{const Y=_ne().find(K=>K.value===G);return Y?n.jsx(We,{value:G,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:Y.icon}),n.jsx("span",{children:Y.label})]})},G):null})})]})}),C.category&&n.jsx("p",{className:"text-red-500 text-sm",children:C.category.message})]}),y.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"subcategory",children:"Subcategory"}),n.jsx(bt,{name:"subcategory",control:x,render:({field:F})=>n.jsxs(Vt,{onValueChange:F.onChange,value:F.value,children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select subcategory"})}),n.jsx(Bt,{children:y.map(G=>n.jsx(We,{value:G,children:G},G))})]})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"shortDescription",children:"Short Description"}),n.jsx(bt,{name:"shortDescription",control:x,render:({field:F})=>n.jsx(Kn,{...F,placeholder:"Brief product description",rows:2})})]})]})]}),e&&Er[e]&&n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(wE,{className:"h-5 w-5"}),n.jsx("span",{className:"mr-2",children:Er[e].icon}),Er[e].name," Details"]})}),n.jsx(Ae,{className:"space-y-4",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Er[e].fields.map(A)})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Pricing & Inventory"})}),n.jsxs(Ae,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:"price",children:["Selling Price ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"price",control:x,render:({field:F})=>n.jsx(ge,{...F,type:"number",step:"0.01",placeholder:"0.00",onChange:G=>F.onChange(Number(G.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"comparePrice",children:"Compare Price"}),n.jsx(bt,{name:"comparePrice",control:x,render:({field:F})=>n.jsx(ge,{...F,type:"number",step:"0.01",placeholder:"0.00",onChange:G=>F.onChange(Number(G.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"costPrice",children:"Cost Price"}),n.jsx(bt,{name:"costPrice",control:x,render:({field:F})=>n.jsx(ge,{...F,type:"number",step:"0.01",placeholder:"0.00",onChange:G=>F.onChange(Number(G.target.value))})})]})]}),n.jsx(pi,{}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:"trackQuantity",control:x,render:({field:F})=>n.jsx(Zt,{checked:F.value,onCheckedChange:F.onChange})}),n.jsx(ue,{children:"Track Quantity"})]}),_("trackQuantity")&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:"quantity",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"quantity",control:x,render:({field:F})=>n.jsx(ge,{...F,type:"number",placeholder:"0",onChange:G=>F.onChange(Number(G.target.value))})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"lowStockThreshold",children:"Low Stock Alert"}),n.jsx(bt,{name:"lowStockThreshold",control:x,render:({field:F})=>n.jsx(ge,{...F,type:"number",placeholder:"5",onChange:G=>F.onChange(Number(G.target.value))})})]})]})]})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(Hi,{className:"h-5 w-5"}),"Product Images"]})}),n.jsxs(Ae,{className:"space-y-4",children:[n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k,className:"hidden",id:"image-upload"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[n.jsx(wu,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images or drag and drop"}),n.jsx("p",{className:"text-xs text-gray-400",children:"PNG, JPG, GIF up to 10MB"})]})]}),s.length>0&&n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:s.map((F,G)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:F,alt:`Product ${G+1}`,className:"w-full h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>P(G),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(is,{className:"h-3 w-3"})}),G===0&&n.jsx(De,{className:"absolute bottom-1 left-1 text-xs",children:"Main"})]},G))})]})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(vE,{className:"h-5 w-5"}),"Product Description"]})}),n.jsx(Ae,{children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ue,{htmlFor:"description",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"description",control:x,render:({field:F})=>n.jsx(C4,{theme:"snow",value:F.value,onChange:F.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},style:{minHeight:"200px"}})}),C.description&&n.jsx("p",{className:"text-red-500 text-sm",children:C.description.message})]})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Product Tags"})}),n.jsxs(Ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{value:o,onChange:F=>c(F.target.value),placeholder:"Add a tag",onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),R())}),n.jsx(ne,{type:"button",onClick:R,variant:"outline",children:n.jsx(vn,{className:"h-4 w-4"})})]}),i.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(F=>n.jsxs(De,{variant:"secondary",className:"flex items-center gap-1",children:[F,n.jsx(is,{className:"h-3 w-3 cursor-pointer",onClick:()=>E(F)})]},F))})]})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"SEO & Settings"})}),n.jsxs(Ae,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"sku",children:"SKU"}),n.jsx(bt,{name:"sku",control:x,render:({field:F})=>n.jsx(ge,{...F,placeholder:"Product SKU"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"barcode",children:"Barcode"}),n.jsx(bt,{name:"barcode",control:x,render:({field:F})=>n.jsx(ge,{...F,placeholder:"Product barcode"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"seoTitle",children:"SEO Title"}),n.jsx(bt,{name:"seoTitle",control:x,render:({field:F})=>n.jsx(ge,{...F,placeholder:"SEO optimized title"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"seoDescription",children:"SEO Description"}),n.jsx(bt,{name:"seoDescription",control:x,render:({field:F})=>n.jsx(Kn,{...F,placeholder:"SEO meta description",rows:3})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:"featured",control:x,render:({field:F})=>n.jsx(Zt,{checked:F.value,onCheckedChange:F.onChange})}),n.jsx(ue,{children:"Featured Product"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:"freeDelivery",control:x,render:({field:F})=>n.jsx(Zt,{checked:F.value,onCheckedChange:F.onChange})}),n.jsx(ue,{children:"Free Delivery"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"status",children:"Status"}),n.jsx(bt,{name:"status",control:x,render:({field:F})=>n.jsxs(Vt,{onValueChange:F.onChange,value:F.value,children:[n.jsx(zt,{className:"w-32",children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"active",children:"Active"}),n.jsx(We,{value:"draft",children:"Draft"}),n.jsx(We,{value:"archived",children:"Archived"})]})]})})]})]})]})]}),n.jsxs("div",{className:"flex gap-4 sticky bottom-4 bg-white p-4 border-t",children:[n.jsxs(ne,{type:"button",variant:"outline",className:"flex-1",onClick:()=>m(!f),children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]}),n.jsx(ne,{type:"button",variant:"outline",className:"flex-1",onClick:()=>{N("status","draft"),b(T)()},children:"Save as Draft"}),n.jsxs(ne,{type:"submit",className:"flex-1",children:[n.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Publish Product"]})]})]});if(d)return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>h(!1),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-xl font-semibold",children:"Add New Product"})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>m(!f),children:[n.jsx(Sn,{className:"h-4 w-4 mr-2"}),f?"Edit":"Preview"]})]})}),n.jsx("div",{className:"max-w-4xl mx-auto p-6",children:n.jsx(Lw,{className:"h-[calc(100vh-80px)]",children:n.jsx($,{})})})]});const O=rt();return n.jsx("button",{className:"w-14 h-14 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-full shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-110 border-4 border-white","aria-label":"Add Product",onClick:()=>O("/vendor/add-product"),children:n.jsx(vn,{className:"h-7 w-7"})})},m2=[{title:"Home",url:"/vendor/dashboard",icon:eb},{title:"Orders",url:"/vendor/orders",icon:bE},{title:"Products",url:"/vendor/products",icon:Tt},{title:"Settings",url:"/vendor/settings",icon:OD}],kne=({children:e})=>n.jsx(n.Fragment,{children:e}),Cne=()=>{const e=hr(),t=rt();return n.jsxs("div",{className:"fixed bottom-0 left-0 w-full z-50",children:[n.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -top-6 z-10",children:n.jsx(Sne,{})}),n.jsxs("nav",{className:"bg-gradient-to-r from-slate-50 to-white shadow-2xl border-t border-gray-100 relative overflow-hidden backdrop-blur-sm pb-safe-bottom",children:[n.jsx("div",{className:"absolute inset-0 bg-white",style:{clipPath:"polygon(0 0, calc(50% - 32px) 0, calc(50% - 24px) 16px, calc(50% + 24px) 16px, calc(50% + 32px) 0, 100% 0, 100% 100%, 0 100%)"}}),n.jsxs("div",{className:"relative flex justify-around items-center px-safe-x py-1 pt-3 md:py-1 md:pt-2",children:[m2.slice(0,2).map(s=>{const r=s.icon,i=e.pathname===s.url;return n.jsxs("button",{onClick:()=>t(s.url),className:`flex flex-col items-center justify-center p-2 md:p-1 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":s.title,children:[n.jsx(r,{className:"h-5 w-5 mb-1 md:mb-0"}),n.jsx("span",{className:"text-xs font-medium",children:s.title})]},s.title)}),n.jsx("div",{className:"w-16"}),m2.slice(2).map(s=>{const r=s.icon,i=e.pathname===s.url;return n.jsxs("button",{onClick:()=>t(s.url),className:`flex flex-col items-center justify-center p-2 md:p-1 rounded-lg transition-all duration-200 min-w-[60px] ${i?"text-orange-600 bg-orange-50":"text-gray-600 hover:text-orange-500 hover:bg-gray-50"}`,"aria-label":s.title,children:[n.jsx(r,{className:"h-5 w-5 mb-1 md:mb-0"}),n.jsx("span",{className:"text-xs font-medium",children:s.title})]},s.title)})]})]})]})},Ene=async()=>{console.log(" AUTH DEBUG START");const e=await Re.getToken(),t=await Re.getUser(),s=await Re.isAuthenticated();console.log(" Auth Status:",{hasToken:!!e,tokenLength:(e==null?void 0:e.length)||0,tokenPreview:e?`${e.substring(0,10)}...`:"null",hasUser:!!t,userId:t==null?void 0:t.id,userType:t==null?void 0:t.user_type,isAuthenticated:s});const r=localStorage.getItem("token"),i=localStorage.getItem("user");return console.log(" Direct Storage:",{directToken:r?`${r.substring(0,10)}...`:"null",directUser:i?"exists":"null",allKeys:Object.keys(localStorage)}),console.log(" AUTH DEBUG END"),{token:e,user:t,isAuth:s}};function Pne({title:e,subtitle:t,headerActions:s}){const r=rt(),{toast:i}=un(),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(!0),[m,u]=j.useState(null),p=a.filter(k=>!k.read).length,y=c.reduce((k,P)=>k+(P.unread_count||0),0),v=!1;j.useEffect(()=>{console.log(" VendorHeader initializing..."),_(),b(),w(),x();const k=setInterval(w,5e3),P=setInterval(x,5e3),R=O=>{const F=O.detail;o(G=>[F,...G])},E=O=>{const{order:F}=O.detail,G={id:Date.now(),type:"order",title:"New Order Received!",message:`Order #${F.order_number} for ${F.total_amount}`,data:{orderId:F.id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/orders"};o(Y=>[G,...Y]),Wt.playNotificationSound(),Wt.showBrowserNotificationCompat(G.title,{body:G.message,tag:`order-${F.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:G.title,description:G.message,duration:5e3})},T=O=>{const{refund:F}=O.detail,G={id:Date.now(),type:"refund_request",title:"Refund Request Received!",message:`Refund request for Order #${F.order_number} - ${F.amount}`,data:{refundId:F.id,orderId:F.order_id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/orders"};o(Y=>[G,...Y]),Wt.playNotificationSound(),Wt.showBrowserNotificationCompat(G.title,{body:G.message,tag:`refund-${F.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/orders"}}),i({title:G.title,description:G.message,duration:5e3})},A=O=>{const{product:F}=O.detail,G={id:Date.now(),type:"stock_alert",title:"Low Stock Alert!",message:`${F.name} is running low (${F.stock} left)`,data:{productId:F.id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/products"};o(Y=>[G,...Y]),Wt.playNotificationSound(),Wt.showBrowserNotificationCompat(G.title,{body:G.message,tag:`stock-${F.id}`,requireInteraction:!0,data:{actionUrl:"/vendor/products"}}),i({title:G.title,description:G.message,duration:5e3})},$=O=>{const{order:F,oldStatus:G,newStatus:Y}=O.detail,K={id:Date.now(),type:"order_status",title:"Order Status Updated!",message:`Order #${F.order_number} changed from ${G} to ${Y}`,data:{orderId:F.id},read:!1,created_at:new Date().toISOString(),action_url:"/vendor/orders"};o(U=>[K,...U]),Wt.playNotificationSound(),Wt.showBrowserNotificationCompat(K.title,{body:K.message,tag:`status-${F.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/orders"}}),i({title:K.title,description:K.message,duration:4e3})};return window.addEventListener("newNotification",R),window.addEventListener("orderCreated",E),window.addEventListener("refundRequest",T),window.addEventListener("stockAlert",A),window.addEventListener("orderStatusChange",$),()=>{clearInterval(k),clearInterval(P),window.removeEventListener("newNotification",R),window.removeEventListener("orderCreated",E),window.removeEventListener("refundRequest",T),window.removeEventListener("stockAlert",A),window.removeEventListener("orderStatusChange",$)}},[]);const w=async()=>{try{const k=await Vs.getConversations(),R=(Array.isArray(k)?k:(k==null?void 0:k.results)||[]).reduce((E,T)=>{var O,F,G;const A=(O=T.other_participant)==null?void 0:O.id;if(!A)return E;const $=E.find(Y=>{var K;return((K=Y.other_participant)==null?void 0:K.id)===A});if(!$)E.push(T);else{const Y=((F=T.last_message)==null?void 0:F.created_at)||T.updated_at,K=((G=$.last_message)==null?void 0:G.created_at)||$.updated_at;if(new Date(Y)>new Date(K)){const U=E.findIndex(B=>{var M;return((M=B.other_participant)==null?void 0:M.id)===A});E[U]=T}}return E},[]);c.length>0&&R.forEach(E=>{var A,$;const T=c.find(O=>{var F,G;return((F=O.other_participant)==null?void 0:F.id)===((G=E.other_participant)==null?void 0:G.id)});T&&E.unread_count>T.unread_count&&Wt.showBrowserNotification(`New message from ${(A=E.other_participant)==null?void 0:A.username}`,{body:(($=E.last_message)==null?void 0:$.content)||"New message received",tag:`message-${E.id}`,requireInteraction:!1,data:{actionUrl:"/vendor/messages"}})}),d(R)}catch(k){console.error("Failed to load conversations:",k)}},x=async()=>{try{const{response:k,data:P}=await Be("/vendor-notifications/");if(k.ok&&P){const R=Array.isArray(P)?P:P.results||[];a.length>0&&R.forEach(E=>{if(!a.find(A=>A.id===E.id)){Wt.playNotificationSound();let A="/vendor/orders",$=!0;switch(E.type){case"order":A="/vendor/orders";break;case"refund":case"refund_request":A="/vendor/orders";break;case"stock_alert":case"low_stock":A="/vendor/products";break;case"order_status":case"status_change":A="/vendor/orders";break;case"payment":A="/vendor/wallet";break;case"message":A="/vendor/messages",$=!1;break;default:A="/vendor/orders"}Wt.showBrowserNotificationCompat(E.title,{body:E.message,tag:`notification-${E.id}`,requireInteraction:$,data:{actionUrl:A}}),i({title:E.title,description:E.message,duration:5e3})}}),o(R)}}catch(k){console.error("Failed to load notifications:",k),a.length===0&&o([])}},b=async()=>{await Wt.requestPermission()},_=async()=>{console.log(" Fetching vendor status...");try{const k=await Re.isAuthenticated();if(console.log(" Authentication check for fetch:",k),!k){console.log(" Not authenticated, redirecting to login"),r("/vendor/login");return}const P=await Re.getUser(),{response:R,data:E}=await Be("/vendor-profiles/");if(console.log(" Fetch vendor status response:",{status:R.status,statusText:R.statusText,data:E,headers:Object.fromEntries(R.headers.entries())}),R.status===401||R.status===403){console.log(" Authentication error in fetch, clearing auth"),await Re.clearAuth(),r("/vendor/login");return}if(R.status!==200&&R.status!==201)throw console.log(" Unexpected status in fetch:",R.status),new Error((E==null?void 0:E.error)||(E==null?void 0:E.message)||"Failed to fetch vendor status");if(E&&E.results&&E.results.length>0){const T=E.results.find(A=>A.user===(P==null?void 0:P.id))||E.results[0];console.log(" Profile found:",{id:T.id,user:T.user,is_active:T.is_active}),u(T.id),f(T.is_active||!1)}else console.log(" No profile found in response")}catch(k){console.error(" Error fetching vendor status:",k),i({title:"Error",description:"Failed to load vendor status",variant:"destructive"})}},N=async()=>{console.log(" Toggle status started"),await Ene();try{const k=await Re.isAuthenticated();if(console.log(" Authentication check:",k),!k){console.log(" Not authenticated, redirecting to login"),r("/vendor/login");return}if(!m)throw console.log(" No profile ID found"),new Error("Profile ID not found");const P=!h;console.log(" Toggling status from",h,"to",P,"for profile",m);const R={is_active:P};console.log(" Request body:",R);const E=await Sb();console.log(" Request headers:",E);const{response:T,data:A}=await Be(`/vendor-profiles/${m}/toggle-status/`,{method:"POST",body:JSON.stringify(R)});if(console.log(" Toggle status response:",{status:T.status,statusText:T.statusText,data:A,headers:Object.fromEntries(T.headers.entries())}),console.log(" Response details:",{ok:T.ok,status:T.status,dataSuccess:A==null?void 0:A.success,dataError:A==null?void 0:A.error,dataMessage:A==null?void 0:A.message}),T.status===401||T.status===403){console.log(" Authentication error - but not clearing auth yet"),i({title:"Permission Error",description:"You don't have permission to perform this action",variant:"destructive"});return}if(T.status===200||T.status===201)if(console.log(" Success response received"),A&&A.success!==!1){const O=A.is_active!==void 0?A.is_active:P;console.log(" Setting status to:",O),f(O),i({title:"Success",description:A.message||`Status set to ${O?"Online":"Offline"}`}),console.log(" Toggle completed successfully");return}else throw console.log(" API returned success: false"),new Error((A==null?void 0:A.error)||(A==null?void 0:A.message)||"Failed to toggle status");console.log(" Unexpected status code:",T.status);const $=(A==null?void 0:A.error)||(A==null?void 0:A.detail)||(A==null?void 0:A.message)||`Server returned status ${T.status}`;throw new Error($)}catch(k){console.error(" Error toggling status:",k),i({title:"Error",description:k instanceof Error?k.message:"Failed to toggle status",variant:"destructive"})}},C=async k=>{await Wt.markAsRead(k),o(P=>P.map(R=>R.id===k?{...R,read:!0}:R))},I=async()=>{await Wt.markAllAsRead(),o(k=>k.map(P=>({...P,read:!0})))};return n.jsx("header",{className:"fixed top-0 z-50 w-full max-w-full border-b bg-gradient-to-r from-gray-50 to-white shadow-lg overflow-hidden",children:n.jsxs("div",{className:"flex h-14 sm:h-16 items-center px-3 sm:px-4 max-w-full",children:[n.jsx("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:n.jsx("div",{className:"flex items-center gap-2 min-w-0",children:n.jsx("img",{src:"/assets/ezeywaylogo.png",alt:"Ezeyway",className:"h-32 w-32 sm:h-36 sm:w-36 object-contain flex-shrink-0"})})}),n.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 border border-gray-300 rounded-full px-3 py-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs font-medium ${h?"text-green-700":"text-gray-700"}`,children:h?"Online":"Offline"}),v]}),n.jsx("button",{onClick:N,className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-gray-300 ${h?"bg-green-500":"bg-gray-400"}`,children:n.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform shadow-sm ${h?"translate-x-5":"translate-x-1"}`})})]}),n.jsxs("div",{className:"flex items-center gap-1 ml-2 flex-shrink-0",children:[n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsxs(ne,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[n.jsx(Ro,{className:"h-4 w-4 sm:h-5 sm:w-5"}),y>0&&n.jsx(De,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:y>9?"9+":y}),n.jsx("span",{className:"sr-only",children:"Messages"})]})}),n.jsxs(Zo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Messages"}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>r("/vendor/messages"),className:"text-xs",children:"View all"})})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No messages"}):c.slice(0,5).map(k=>{var P,R,E,T,A,$;return n.jsx("div",{className:`p-3 border-b hover:bg-muted/50 cursor-pointer ${k.unread_count>0?"bg-blue-50/50":""}`,onClick:()=>r("/vendor/messages"),children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(Qi,{className:"h-8 w-8",children:[n.jsx(Rr,{src:(P=k.other_participant)==null?void 0:P.profile_picture}),n.jsx(Ji,{children:(E=(R=k.other_participant)==null?void 0:R.username)==null?void 0:E.charAt(0)})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:(T=k.other_participant)==null?void 0:T.username}),n.jsx("p",{className:"text-xs text-muted-foreground truncate",children:((A=k.last_message)==null?void 0:A.content)||(($=k.last_message)==null?void 0:$.file_name)||"No messages"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:k.last_message?new Date(k.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),k.unread_count>0&&n.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-bold",children:k.unread_count})})]})},k.id)})})]})]}),s,!s&&n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsxs(ne,{variant:"ghost",size:"icon",className:"relative h-9 w-9 sm:h-10 sm:w-10 text-gray-700 hover:bg-gray-100",children:[n.jsx(rr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),p>0&&n.jsx(De,{className:"absolute -top-0.5 -right-0.5 sm:-top-1 sm:-right-1 h-4 w-4 sm:h-5 sm:w-5 rounded-full p-0 text-[10px] sm:text-xs flex items-center justify-center min-w-[16px] sm:min-w-[20px] bg-red-500 text-white border-2 border-white",children:p>9?"9+":p}),n.jsx("span",{className:"sr-only",children:"Notifications"})]})}),n.jsxs(Zo,{align:"end",className:"w-72 sm:w-80 mr-2 sm:mr-0",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h4",{className:"font-semibold",children:"Notifications"}),p>0&&n.jsx(ne,{variant:"ghost",size:"sm",onClick:I,className:"text-xs",children:"Mark all read"})]}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:a.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):a.map(k=>n.jsx("div",{className:`p-4 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer ${k.read?"":"bg-blue-50/50"}`,onClick:()=>{switch(C(k.id),k.type){case"order":case"refund":case"refund_request":case"order_status":case"status_change":r("/vendor/orders");break;case"stock_alert":case"low_stock":r("/vendor/products");break;case"payment":r("/vendor/wallet");break;case"message":r("/vendor/messages");break;default:r("/vendor/orders")}},children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 flex-shrink-0 ${k.read?"bg-transparent":"bg-blue-500"}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${k.read?"text-gray-700":"text-gray-900"}`,children:k.title}),n.jsx("p",{className:`text-sm ${k.read?"text-gray-600":"text-gray-700"}`,children:k.message}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(k.created_at).toLocaleString()})]}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx(De,{variant:"outline",className:`text-xs ${k.type==="order"?"border-green-200 text-green-700":k.type==="refund"||k.type==="refund_request"?"border-red-200 text-red-700":k.type==="stock_alert"||k.type==="low_stock"?"border-orange-200 text-orange-700":k.type==="order_status"||k.type==="status_change"||k.type==="payment"?"border-blue-200 text-blue-700":k.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:k.type==="refund_request"?"refund":k.type==="stock_alert"?"stock":k.type==="order_status"?"status":k.type})})]})},k.id))}),n.jsx("div",{className:"p-2 border-t",children:n.jsx(ne,{variant:"ghost",className:"w-full text-sm",onClick:()=>r("/vendor/notifications"),children:"View all notifications"})})]})]})]})]})})}function Tne({isOpen:e,orders:t,onAccept:s,onReject:r}){const[i,a]=j.useState({}),o=j.useRef(null),{toast:c}=un(),d=j.useRef({});j.useEffect(()=>{if(e&&t.length>0){(async()=>{if(o.current)try{o.current.volume=.8,await o.current.play(),setTimeout(()=>{o.current&&(o.current.pause(),o.current.currentTime=0)},3e3)}catch(y){console.warn("Audio autoplay blocked:",y);try{const v=new(window.AudioContext||window.webkitAudioContext),w=v.createOscillator(),x=v.createGain();w.connect(x),x.connect(v.destination),w.frequency.setValueAtTime(800,v.currentTime),w.type="square",x.gain.setValueAtTime(.3,v.currentTime),x.gain.exponentialRampToValueAtTime(.01,v.currentTime+.5),w.start(v.currentTime),w.stop(v.currentTime+.5)}catch(v){console.warn("Web Audio API also failed:",v)}}})(),"Notification"in window&&Notification.permission==="default"?Notification.requestPermission().then(y=>{y==="granted"&&h()}):"Notification"in window&&Notification.permission==="granted"&&h(),t.forEach(y=>{d.current[y.id]||(d.current[y.id]=new Date(y.created_at))});const p=setInterval(()=>{const y={};t.forEach(v=>{if(d.current[v.id]){const x=Math.floor((new Date().getTime()-d.current[v.id].getTime())/1e3);y[v.id]=x}}),a(y)},1e3);return()=>clearInterval(p)}},[e,t]);const h=()=>{t.forEach(u=>{new Notification("New Order Received!",{body:`Order #${u.order_number} - ${u.total_amount}`,icon:"/favicon.ico",tag:`order-${u.id}`,requireInteraction:!0})})};if(!e||t.length===0)return null;const f=u=>{const p=t.find(y=>y.id===u);s(u),c({title:"Order Accepted",description:`Order #${p==null?void 0:p.order_number} has been accepted`})},m=u=>{const p=t.find(y=>y.id===u);r(u),c({title:"Order Rejected",description:`Order #${p==null?void 0:p.order_number} has been rejected`,variant:"destructive"})};return n.jsxs(n.Fragment,{children:[n.jsx("audio",{ref:o,preload:"auto",loop:!0,children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT",type:"audio/wav"})}),n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-end",children:n.jsx("div",{className:"w-full bg-white rounded-t-3xl shadow-2xl animate-in slide-in-from-bottom duration-300",style:{height:"80vh"},children:n.jsxs("div",{className:"p-6 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center animate-pulse",children:n.jsx(rr,{className:"h-3 w-3 text-red-600 animate-bounce"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-sm font-bold text-red-900",children:" New Orders Received!"}),n.jsxs("p",{className:"text-xs text-red-600 font-medium",children:[t.length," order",t.length>1?"s":""," waiting for response"]})]})]}),n.jsx("div",{className:"text-xs text-red-600 font-bold animate-pulse",children:"URGENT"})]}),n.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:t.map(u=>{const p=i[u.id]||0;return n.jsxs("div",{className:"border border-gray-200 rounded-lg p-2 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["#",u.order_number]}),n.jsxs("p",{className:"text-xs font-bold text-green-600",children:["",u.total_amount]}),n.jsxs("p",{className:"text-xs text-blue-600",children:[Math.floor(p/60),":",(p%60).toString().padStart(2,"0")]})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-1",children:u.customer_name}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-1",children:[n.jsxs("div",{className:"flex items-start gap-1",children:[n.jsx(Kt,{className:"h-2 w-2 text-gray-500 mt-0.5"}),n.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_address})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Xu,{className:"h-2 w-2 text-gray-500"}),n.jsx("p",{className:"text-xs text-gray-900",children:u.delivery_phone})]})]}),n.jsxs("div",{className:"mb-1",children:[n.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1",children:["Items (",u.items.length,")"]}),n.jsx("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:u.items.map(y=>{var v,w,x;return n.jsxs("div",{className:"flex items-center gap-1 p-1 bg-white rounded",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded overflow-hidden flex-shrink-0",children:n.jsx("img",{src:((x=(w=(v=y.product_details)==null?void 0:v.images)==null?void 0:w[0])==null?void 0:x.image_url)||"/placeholder-product.jpg",alt:y.product_name,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:y.product_name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Qty: ",y.quantity]})]}),n.jsxs("p",{className:"text-xs font-medium text-gray-900",children:["",y.total_price]})]},y.id)})})]}),u.delivery_instructions&&n.jsxs("div",{className:"mb-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Instructions:"}),n.jsx("p",{className:"text-xs text-gray-600 italic",children:u.delivery_instructions})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsxs(ne,{onClick:()=>m(u.id),variant:"outline",size:"sm",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 text-xs h-6",children:[n.jsx(is,{className:"h-2 w-2 mr-1"}),"Reject"]}),n.jsxs(ne,{onClick:()=>f(u.id),size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700 text-xs h-6",children:[n.jsx(Ku,{className:"h-2 w-2 mr-1"}),"Accept"]})]})]},u.id)})})]})})})]})}function M4(){const[e,t]=j.useState(!1),[s,r]=j.useState(null);return j.useEffect(()=>{if(!vt.isNativePlatform())return;const i=a=>{r(a.detail),t(!0),setTimeout(()=>{t(!1)},5e3)};return window.addEventListener("showOrderModal",i),()=>{window.removeEventListener("showOrderModal",i)}},[]),!vt.isNativePlatform()||!e?null:n.jsx("div",{className:"fixed top-4 left-4 right-4 z-[10000] animate-in slide-in-from-top duration-300",children:n.jsx(Pe,{className:"border-orange-200 bg-orange-50 shadow-lg",children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center animate-pulse",children:n.jsx(rr,{className:"h-4 w-4 text-orange-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-bold text-orange-900",children:" New Order Received!"}),s&&n.jsxs("p",{className:"text-xs text-orange-700",children:["Order #",s.orderNumber," - ",s.amount]}),n.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Tap anywhere to view and respond"})]})]})})})})}function Ane(){const[e,t]=j.useState([]),[s,r]=j.useState(!1),i=j.useRef(null),a=j.useRef(new Set),{notifications:o,unreadCount:c,isConnected:d}=$p();j.useEffect(()=>{const u=p=>{const y=p.detail;y.type==="order"&&y.title.includes("New Order")&&h()};return window.addEventListener("newNotification",u),()=>{window.removeEventListener("newNotification",u)}},[]);const h=async()=>{try{const{authService:u}=await Je(async()=>{const{authService:x}=await Promise.resolve().then(()=>Pu);return{authService:x}},void 0),p=await u.getToken();if(!p){console.log("No token found for pending orders");return}console.log(" Mobile: Fetching pending orders with token:",p?`${p.substring(0,10)}...`:"NO TOKEN"),console.log(" Mobile: API URL:",mp("orders/vendor/pending/"));const{apiRequest:y}=await Je(async()=>{const{apiRequest:x}=await Promise.resolve().then(()=>Zn);return{apiRequest:x}},void 0),{response:v,data:w}=await y("orders/vendor/pending/");console.log(" Mobile: Pending orders response:",v.status,v.ok),v.ok&&w?(console.log("Pending orders received:",w.length,w),t(w),r(w.length>0),w.length>0&&(console.log(" Mobile: Showing order notification for",w.length,"orders"),Je(async()=>{const{simpleNotificationService:x}=await Promise.resolve().then(()=>Ev);return{simpleNotificationService:x}},void 0).then(({simpleNotificationService:x})=>{w.forEach(b=>{a.current.has(b.id)||(console.log(" Processing NEW order:",b.order_number,b.total_amount),a.current.add(b.id),x.showOrderNotification(b.order_number,b.total_amount,b.id))})}))):console.error("Failed to fetch pending orders:",v.status,v.statusText)}catch(u){console.error("Error fetching pending orders:",u)}};return j.useEffect(()=>{(async()=>{const{authService:w}=await Je(async()=>{const{authService:b}=await Promise.resolve().then(()=>Pu);return{authService:b}},void 0);await w.getToken()&&h()})();const p=vt.isNativePlatform()?3e4:6e4;i.current=setInterval(h,p);const y=()=>{document.hidden||h()};document.addEventListener("visibilitychange",y);const v=()=>{console.log("Refreshing pending orders from mobile app resume"),h()};if(window.addEventListener("refreshPendingOrders",v),vt.isNativePlatform()){const w=()=>{console.log(" App state changed - refreshing orders"),h()};return document.addEventListener("resume",w),document.addEventListener("visibilitychange",w),()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",y),window.removeEventListener("refreshPendingOrders",v),document.removeEventListener("resume",w),document.removeEventListener("visibilitychange",w)}}return()=>{i.current&&clearInterval(i.current),document.removeEventListener("visibilitychange",y),window.removeEventListener("refreshPendingOrders",v)}},[]),{pendingOrders:e,isModalOpen:s,acceptOrder:async u=>{try{const{apiRequest:p}=await Je(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>Zn);return{apiRequest:v}},void 0),{response:y}=await p(`/orders/${u}/accept/`,{method:"POST"});if(y.ok){const{simpleNotificationService:v}=await Je(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Ev);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(x=>x.id!==u)),e.length<=1&&r(!1),!0}}catch(p){console.error("Error accepting order:",p)}return!1},rejectOrder:async u=>{try{const{apiRequest:p}=await Je(async()=>{const{apiRequest:v}=await Promise.resolve().then(()=>Zn);return{apiRequest:v}},void 0),{response:y}=await p(`/orders/${u}/reject/`,{method:"POST",body:JSON.stringify({reason:"Rejected by vendor"})});if(y.ok){const{simpleNotificationService:v}=await Je(async()=>{const{simpleNotificationService:w}=await Promise.resolve().then(()=>Ev);return{simpleNotificationService:w}},void 0);return v.clearNotification(u),a.current.delete(u),t(w=>w.filter(x=>x.id!==u)),e.length<=1&&r(!1),!0}}catch(p){console.error("Error rejecting order:",p)}return!1},notifications:o,unreadCount:c,isConnected:d}}const I4=j.createContext(void 0);function One({children:e}){const{pendingOrders:t,isModalOpen:s,acceptOrder:r,rejectOrder:i}=Ane(),[a,o]=j.useState(!1);j.useEffect(()=>{(async()=>{await Dl.requestPermissions(),console.log("Notification service initialized for platform:",vt.isNativePlatform()?"mobile":"web")})()},[]),j.useEffect(()=>{o(s)},[s]),j.useEffect(()=>{t.length>0&&t.forEach(h=>{Dl.showOrderNotification(h.order_number,h.total_amount,h.id),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([300,100,300])})},[t]),j.useEffect(()=>{const h=async f=>{console.log("Order modal event received:",f.detail);const m=f.detail;o(!0),(m!=null&&m.startBeeping||m!=null&&m.autoOpened||m!=null&&m.fromPush)&&(console.log(" Starting beeping for auto-opened notification"),await c()),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([200,100,200])};return window.addEventListener("showOrderModal",h),()=>{window.removeEventListener("showOrderModal",h)}},[]);const c=async()=>{try{console.log(" Starting order notification beeping sequence..."),await Dl.playNotificationSound();let h=0;const f=10,m=setInterval(async()=>{h<f&&a?(await Dl.playNotificationSound(),vt.isNativePlatform()&&"vibrate"in navigator&&navigator.vibrate([150,50,150]),h++,console.log(` Beep ${h}/${f}`)):(clearInterval(m),console.log(" Beeping sequence completed"))},2e3);window.orderBeepInterval=m}catch(h){console.error("Failed to start order beeping:",h)}};j.useEffect(()=>{vt.isNativePlatform()&&document.addEventListener("visibilitychange",()=>{document.hidden||(console.log("Page visible - checking for pending orders"),window.dispatchEvent(new CustomEvent("refreshPendingOrders")))})},[]);const d=()=>{o(!1),window.orderBeepInterval&&(clearInterval(window.orderBeepInterval),window.orderBeepInterval=null,console.log(" Stopped beeping - modal closed"))};return n.jsxs(I4.Provider,{value:{pendingOrdersCount:t.length,isModalOpen:a,closeModal:d},children:[e,n.jsx(M4,{}),n.jsx(Tne,{isOpen:a,orders:t,onAccept:r,onReject:i})]})}function Rne(){const e=j.useContext(I4);return e===void 0?{pendingOrdersCount:0,isModalOpen:!1,closeModal:()=>{}}:e}function Lne({children:e,title:t,subtitle:s,headerActions:r}){return n.jsx(One,{children:n.jsx(kne,{children:n.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 safe-area-inset max-w-full overflow-x-hidden",children:[n.jsx(M4,{}),n.jsx("div",{className:"pt-safe-top",children:n.jsx(Pne,{title:t,subtitle:s,headerActions:r})}),n.jsx("main",{className:"flex-1 pb-20 px-safe-x max-w-full overflow-x-hidden pt-14 sm:pt-16",children:e}),n.jsx(Cne,{})]})})})}function qt({children:e,title:t,subtitle:s,headerActions:r}){return n.jsx(Lne,{title:t,subtitle:s,headerActions:r,children:e})}const Mne=()=>{const[e,t]=j.useState({}),[s,r]=j.useState(!1);return j.useEffect(()=>{(async()=>{try{const a=await Re.getToken(),o=await Re.getUser(),c=await Re.isAuthenticated(),d=await Re.isSessionValid(),h=vt.isNativePlatform();let f="Not checked",m=null;if(a&&(o==null?void 0:o.user_type)==="vendor")try{const{response:u,data:p}=await Be("/vendor-profiles/");f=`${u.status} - ${u.ok?"Success":"Failed"}`,u.ok||(m=(p==null?void 0:p.error)||u.statusText)}catch(u){f="Error",m=u.message}else a&&(o==null?void 0:o.user_type)!=="vendor"&&(f="Not a vendor user");t({isNative:h,platform:vt.getPlatform(),token:a?`${a.substring(0,10)}...`:"None",user:o?{id:o.id,user_type:o.user_type,email:o.email}:"None",isAuthenticated:c,isSessionValid:d,vendorProfileStatus:f,vendorProfileError:m,timestamp:new Date().toISOString()})}catch(a){t({error:a.message,timestamp:new Date().toISOString()})}})()},[]),s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-md w-full max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Vendor Debug Info"}),n.jsx("button",{onClick:()=>r(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),n.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded overflow-x-auto",children:JSON.stringify(e,null,2)}),n.jsx("button",{onClick:()=>{var i;(i=navigator.clipboard)==null||i.writeText(JSON.stringify(e,null,2)),alert("Debug info copied to clipboard")},className:"mt-2 bg-blue-500 text-white px-3 py-1 rounded text-xs w-full",children:"Copy to Clipboard"})]})}):n.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-4 right-4 bg-red-500 text-white px-3 py-1 rounded text-xs z-50",children:"Debug"})},xo=no("PushNotifications",{}),D4=Object.freeze(Object.defineProperty({__proto__:null,PushNotifications:xo},Symbol.toStringTag,{value:"Module"})),Ine=no("FCM",{web:()=>Je(()=>import("./web-BwChDvEI.js"),[]).then(e=>new e.FCMWeb)});class Dne{constructor(){Yr(this,"fcmToken",null)}async initialize(){if(!vt.isNativePlatform()){console.log(" Not on native platform, skipping FCM initialization");return}try{console.log(" Initializing FCM Service..."),this.checkForAutoOpenOrder(),this.setupListeners(),console.log(" Requesting push notification permissions...");const t=await xo.requestPermissions();if(console.log(" Permission result:",t),t.receive!=="granted"){console.warn(" Push notification permission denied");return}console.log(" Registering for push notifications..."),await xo.register();try{await Ine.requestPermissions(),console.log(" FCM Community plugin initialized")}catch(s){console.warn(" FCM Community plugin not available:",s)}await this.getFCMToken(),console.log(" FCM Service initialized successfully")}catch(t){console.error(" FCM initialization failed:",t)}}checkForAutoOpenOrder(){try{const t=localStorage.getItem("autoOpenOrder");if(t){const s=JSON.parse(t);Date.now()-s.timestamp<3e4?(console.log(" AUTO-OPENING ORDER FROM NOTIFICATION:",s),localStorage.removeItem("autoOpenOrder"),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(s)},1e3)):localStorage.removeItem("autoOpenOrder")}window.addEventListener("autoOpenedFromBackground",s=>{console.log(" APP AUTO-OPENED FROM BACKGROUND SERVICE:",s.detail),this.startOrderBeeping(),setTimeout(()=>{this.showOrderModalImmediately(s.detail)},500)})}catch(t){console.error("Error checking for auto-open order:",t)}}async getFCMToken(){try{return vt.isNativePlatform()?new Promise(t=>{xo.addListener("registration",s=>{this.fcmToken=s.value,console.log(" FCM Token (Native):",s.value),this.sendTokenToBackend(),t(s.value)})}):null}catch(t){return console.error("Failed to get FCM token:",t),null}}setupListeners(){xo.addListener("pushNotificationReceived",t=>{var s,r,i;if(console.log(" Push notification received:",t),console.log(" Notification data:",t.data),((s=t.data)==null?void 0:s.autoOpen)==="true"||((r=t.data)==null?void 0:r.action)==="autoOpenOrder"){console.log(" AGGRESSIVE AUTO-OPENING APP FROM DATA MESSAGE!"),this.forceAppToForeground(),this.startOrderBeeping(),this.showOrderModalImmediately({orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0}),this.triggerBackgroundAutoOpen(t.data);return}(i=t.data)!=null&&i.orderId?(console.log(` Showing order modal for order: ${t.data.orderId}`),this.startOrderBeeping(),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:{orderId:parseInt(t.data.orderId),orderNumber:t.data.orderNumber,amount:t.data.amount,fromPush:!0,startBeeping:!0}}))):console.warn(" No orderId in notification data")}),xo.addListener("pushNotificationActionPerformed",t=>{var r,i,a,o,c;console.log(" NOTIFICATION TAPPED - AGGRESSIVE AUTO OPENING LIKE YANGO PRO:",t),console.log(" Notification data:",t.notification.data);const s=(r=t.notification.data)==null?void 0:r.orderId;s?(console.log(` AGGRESSIVE AUTO-OPENING FOR ORDER: ${s}`),this.startOrderBeeping(),localStorage.setItem("autoOpenOrder",JSON.stringify({orderId:parseInt(s),orderNumber:(i=t.notification.data)==null?void 0:i.orderNumber,amount:(a=t.notification.data)==null?void 0:a.amount,autoOpened:!0,fromPush:!0,startBeeping:!0,timestamp:Date.now()})),this.triggerAggressiveAutoOpen({orderId:parseInt(s),orderNumber:(o=t.notification.data)==null?void 0:o.orderNumber,amount:(c=t.notification.data)==null?void 0:c.amount})):(console.warn(" No orderId found in notification data"),this.triggerAggressiveAutoOpen({}))}),xo.addListener("registrationError",t=>{console.error(" Push registration error:",t)}),console.log(" FCM listeners set up successfully")}async sendTokenToBackend(){if(!this.fcmToken){console.warn("No FCM token available to send");return}try{await this.waitForAuth();const{apiRequest:t}=await Je(async()=>{const{apiRequest:r}=await Promise.resolve().then(()=>Zn);return{apiRequest:r}},void 0),{response:s}=await t("/api/register-fcm-token/",{method:"POST",body:JSON.stringify({fcm_token:this.fcmToken,platform:vt.getPlatform()})});s.ok?console.log(" FCM token sent to backend successfully"):console.warn(" Failed to register FCM token:",s.status)}catch(t){console.warn(" Failed to send FCM token:",t),setTimeout(()=>this.sendTokenToBackend(),5e3)}}async waitForAuth(t=1e4){const s=Date.now();for(;Date.now()-s<t;){try{const{authService:r}=await Je(async()=>{const{authService:a}=await Promise.resolve().then(()=>Pu);return{authService:a}},void 0);if(r.getToken()){console.log(" Authentication ready for FCM token registration");return}}catch{}await new Promise(r=>setTimeout(r,500))}console.warn(" Authentication not ready, sending FCM token anyway")}showOrderModalImmediately(t){console.log(" SHOWING ORDER MODAL IMMEDIATELY:",t),window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t})),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},500),setTimeout(()=>{window.dispatchEvent(new CustomEvent("showOrderModal",{detail:t}))},1500)}async forceAppToForeground(){try{console.log(" FORCING APP TO FOREGROUND..."),window.focus&&window.focus(),document.hidden&&document.dispatchEvent(new Event("visibilitychange")),Object.defineProperty(document,"hidden",{value:!1,writable:!1}),Object.defineProperty(document,"visibilityState",{value:"visible",writable:!1}),window.dispatchEvent(new Event("focus")),document.dispatchEvent(new Event("visibilitychange"))}catch(t){console.warn("Could not force app focus:",t)}}triggerBackgroundAutoOpen(t){try{if(vt.isNativePlatform()){const s={action:"com.ezeyway.app.AUTO_OPEN_ORDER",extras:{orderId:t.orderId,orderNumber:t.orderNumber,amount:t.amount,autoOpened:!0}};console.log(" Triggering background auto-open:",s)}}catch(s){console.error("Failed to trigger background auto-open:",s)}}async triggerAggressiveAutoOpen(t){try{console.log(" TRIGGERING AGGRESSIVE AUTO-OPEN..."),this.forceAppToForeground(),window.location.replace("/vendor/home");for(let s=0;s<5;s++)setTimeout(()=>{this.showOrderModalImmediately({...t,autoOpened:!0,fromPush:!0,startBeeping:!0,aggressive:!0})},s*500)}catch(s){console.error("Failed to trigger aggressive auto-open:",s)}}async startOrderBeeping(){try{console.log(" Starting order notification beeping...");const{notificationService:t}=await Je(async()=>{const{notificationService:i}=await Promise.resolve().then(()=>TP);return{notificationService:i}},void 0);await t.playNotificationSound();try{const{Haptics:i,ImpactStyle:a}=await Je(async()=>{const{Haptics:d,ImpactStyle:h}=await import("./index-J9J7vQlA.js");return{Haptics:d,ImpactStyle:h}},[]);await i.impact({style:a.Heavy});let o=0;const c=setInterval(async()=>{o<5?(await i.impact({style:a.Medium}),o++):clearInterval(c)},2e3)}catch(i){console.warn("Haptics not available:",i)}let s=0;const r=setInterval(async()=>{s<5?(await t.playNotificationSound(),s++):clearInterval(r)},3e3)}catch(t){console.error("Failed to start order beeping:",t)}}getFCMTokenValue(){return this.fcmToken}async registerToken(){this.fcmToken?await this.sendTokenToBackend():console.warn("No FCM token available to register")}}const Qy=new Dne,p2=()=>{var V,H,se;const e=rt(),[t,s]=j.useState(!0),[r,i]=j.useState(!1),{pendingOrdersCount:a,isModalOpen:o}=Rne(),[c,d]=j.useState(null),[h,f]=j.useState(0),[m,u]=j.useState({totalOrders:0,totalRevenue:0,totalProducts:0,totalCustomers:0,monthlyEarnings:0,monthlyGrowth:0,todaysEarnings:0}),[p,y]=j.useState([]),[v,w]=j.useState([]),[x,b]=j.useState([]),[_,N]=j.useState([]),[C,I]=j.useState([0,0,0,0,0,0]),[k,P]=j.useState([]),[R,E]=j.useState(!0),[T,A]=j.useState(1),[$,O]=j.useState(!0),[F,G]=j.useState(0),[Y,K]=j.useState(0),U=k.length>0?[k[k.length-1],...k,k[0]]:[];j.useEffect(()=>{if(k.length>0){const Q=setInterval(()=>{A(ie=>ie+1)},4e3);return()=>clearInterval(Q)}},[k.length]),j.useEffect(()=>{k.length>0&&(T===U.length-1?setTimeout(()=>{O(!1),A(1),setTimeout(()=>O(!0),50)},500):T===0&&setTimeout(()=>{O(!1),A(k.length),setTimeout(()=>O(!0),50)},500))},[T,k.length]);const B=Q=>{K(0),G(Q.targetTouches[0].clientX)},M=Q=>{K(Q.targetTouches[0].clientX)},z=()=>{if(!F||!Y)return;const Q=F-Y,ie=Q>50,fe=Q<-50;ie&&T<k.length&&A(te=>te+1),fe&&T>1&&A(te=>te-1)};j.useEffect(()=>{i(!0),s(!1),vt.isNativePlatform()&&Qy.initialize().then(()=>{console.log(" FCM Service initialized on vendor home"),setTimeout(()=>{Qy.registerToken()},2e3)}).catch(Q=>{console.error(" FCM Service initialization failed:",Q)}),Z(),W()},[]);const Z=async()=>{var Q;try{const{apiRequest:ie}=await Je(async()=>{const{apiRequest:me}=await Promise.resolve().then(()=>Zn);return{apiRequest:me}},void 0),{response:fe,data:te}=await ie("/vendor-profiles/");fe.ok&&((Q=te==null?void 0:te.results)!=null&&Q[0])&&d(te.results[0]);const{response:ve,data:Ce}=await ie("accounts/wallet/");ve.ok&&Ce&&f(parseFloat(Ce.balance)||0);const{response:he,data:je}=await ie("/vendor/orders/");if(console.log("Orders response:",he.ok,je),he.ok&&je){const me=je.results||je||[];console.log("Orders found:",me.length,me);const ee=me.length,ae=me.filter(ze=>ze.status==="delivered");console.log("Delivered orders:",ae.length,ae);const oe=ae.reduce((ze,Ie)=>ze+parseFloat(Ie.total_amount||0),0),be=new Date().toDateString(),we=me.filter(ze=>new Date(ze.created_at).toDateString()===be),re=me.filter(ze=>new Date(ze.created_at).toDateString()===be&&ze.status==="delivered").reduce((ze,Ie)=>ze+parseFloat(Ie.total_amount||0),0);console.log("Today earnings:",re,"Total revenue:",oe);const Se=new Date().getMonth(),Te=new Date().getFullYear(),ot=me.filter(ze=>{const Ie=new Date(ze.created_at);return Ie.getMonth()===Se&&Ie.getFullYear()===Te&&ze.status==="delivered"}).reduce((ze,Ie)=>ze+parseFloat(Ie.total_amount||0),0),$t=[];for(let ze=5;ze>=0;ze--){const Ie=new Date;Ie.setMonth(Ie.getMonth()-ze);const Ot=me.filter(xn=>{const En=new Date(xn.created_at);return En.getMonth()===Ie.getMonth()&&En.getFullYear()===Ie.getFullYear()&&xn.status==="delivered"}).reduce((xn,En)=>xn+parseFloat(En.total_amount||0),0);$t.push(Ot)}const le=new Set;me.forEach(ze=>{var Ie;(Ie=ze.customer_details)!=null&&Ie.id?le.add(ze.customer_details.id):ze.delivery_phone&&le.add(ze.delivery_phone)});const He=le.size;u({totalOrders:ee,totalRevenue:oe,totalProducts:0,totalCustomers:He,monthlyEarnings:ot,monthlyGrowth:15,todaysEarnings:re}),I($t),y(we.slice(0,5));const Ze={};ae.forEach(ze=>{var Ie;(Ie=ze.items)==null||Ie.forEach(It=>{var xn,En;const Ot=((xn=It.product_details)==null?void 0:xn.id)||It.product_name;Ze[Ot]||(Ze[Ot]={id:Ot,name:It.product_name,price:It.unit_price,sold:0,rating:4.5,images:((En=It.product_details)==null?void 0:En.images)||[]}),Ze[Ot].sold+=parseInt(It.quantity)||0})});const dt=Object.values(Ze).sort((ze,Ie)=>Ie.sold-ze.sold).slice(0,6);w(dt)}const{response:_e,data:de}=await ie("products/");if(_e.ok&&de){const me=de.results||de||[];N(me.slice(0,6)),u(ae=>({...ae,totalProducts:me.length}));const ee=me.filter(ae=>ae.featured).slice(0,6);b(ee)}}catch(ie){console.warn("Dashboard data fetch error:",ie)}},W=async()=>{try{const{apiRequest:Q}=await Je(async()=>{const{apiRequest:te}=await Promise.resolve().then(()=>Zn);return{apiRequest:te}},void 0),{response:ie,data:fe}=await Q("sliders/?user_type=vendor");ie.ok&&fe&&fe.sliders&&(P(fe.sliders),fe.sliders.length>0&&A(1))}catch(Q){console.warn("Sliders fetch error:",Q)}finally{E(!1)}},X=Q=>{switch(Q){case"pending":return{icon:_D,color:"red",bgColor:"red-50",textColor:"red-600",label:"Action Required"};case"confirmed":case"preparing":return{icon:ar,color:"orange",bgColor:"orange-50",textColor:"orange-600",label:"Processing"};case"delivered":return{icon:Ku,color:"green",bgColor:"green-50",textColor:"green-600",label:"Completed"};default:return{icon:ar,color:"blue",bgColor:"blue-50",textColor:"blue-600",label:"In Progress"}}};return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Bn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),n.jsx("p",{className:"text-gray-600",children:"Verifying your account..."})]})}):r?n.jsxs(n.Fragment,{children:[n.jsx(Mne,{}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/20 z-[9998] pointer-events-none"}),n.jsx(qt,{title:"Dashboard",children:n.jsxs("div",{className:`space-y-4 pb-16 max-w-full overflow-x-hidden ${o?"pointer-events-none":""}`,children:[n.jsxs("div",{className:"p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Qi,{className:"h-10 w-10",children:[n.jsx(Rr,{src:(V=c==null?void 0:c.user_info)==null?void 0:V.profile_picture}),n.jsx(Ji,{className:"bg-[#A98D7E] text-white",children:((H=c==null?void 0:c.business_name)==null?void 0:H[0])||((se=c==null?void 0:c.owner_name)==null?void 0:se[0])||"V"})]}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:(c==null?void 0:c.business_name)||"My Store"}),n.jsxs("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[n.jsx(Jf,{className:"h-3 w-3"})," Rs",(h||0).toFixed(2)," Available"]})]})]}),n.jsxs(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/wallet"),children:[n.jsx(Jf,{className:"h-3 w-3"}),"Wallet"]})]}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[n.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=orders"),children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(Tt,{className:"h-2.5 w-2.5 text-teal-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Orders"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalOrders})]})})}),n.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=revenue"),children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx($r,{className:"h-2.5 w-2.5 text-blue-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Revenue"}),n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:["Rs",m.totalRevenue.toFixed(0)]})]})})}),n.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=products"),children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(ps,{className:"h-2.5 w-2.5 text-purple-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Products"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalProducts})]})})}),n.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e("/vendor/summary?type=customers"),children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-1",children:n.jsx(rb,{className:"h-2.5 w-2.5 text-orange-600"})}),n.jsx("p",{className:"text-[9px] font-medium text-gray-600",children:"Customers"}),n.jsx("p",{className:"text-xs font-bold text-gray-900",children:m.totalCustomers})]})})})]})}),n.jsx("div",{className:"mb-6",children:R?n.jsx("div",{className:"relative overflow-hidden rounded-2xl shadow-lg h-48 bg-gray-100 flex items-center justify-center mx-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[n.jsx(Bn,{className:"h-5 w-5 animate-spin"}),n.jsx("span",{children:"Loading banners..."})]})}):k.length>0?n.jsxs("div",{className:"relative md:overflow-visible overflow-hidden md:px-8",children:[n.jsx("div",{className:`flex ${$?"transition-transform duration-500 ease-in-out":""}`,style:{transform:typeof window<"u"&&window.innerWidth<768?`translateX(-${T*100}%)`:`translateX(calc(-${T*50}% + 25%))`},onTouchStart:B,onTouchMove:M,onTouchEnd:z,children:U.map((Q,ie)=>{const fe=typeof window<"u"&&window.innerWidth<768,te=!fe&&ie===T;return n.jsx("div",{className:`flex-shrink-0 relative cursor-pointer transition-all duration-300 ${fe?"w-full rounded-2xl shadow-lg overflow-hidden mx-4":`${te?"scale-100 opacity-100 z-10":"scale-75 opacity-60 z-0"} rounded-lg overflow-hidden`}`,style:fe?{}:{width:"50%"},onClick:()=>{Q.link_url&&window.open(Q.link_url,"_blank")},children:n.jsx("div",{className:"relative h-48",children:Q.image_url?n.jsx("img",{src:Q.image_url,alt:Q.title,className:"w-full h-full object-cover md:object-contain",onError:ve=>{ve.target.style.display="none",ve.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}):n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/80 to-purple-600/80 flex items-center justify-center",children:n.jsx("h3",{className:"text-white text-lg font-bold text-center px-4",children:Q.title})})})},`${Q.id}-${ie}`)})}),k.length>1&&n.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-1",children:k.map((Q,ie)=>n.jsx("button",{onClick:()=>A(ie+1),className:`w-2 h-2 rounded-full transition-colors ${ie===(T-1+k.length)%k.length?"bg-blue-500":"bg-gray-300"}`},ie))})]}):n.jsx("div",{className:"h-48 bg-gray-100 rounded-2xl shadow-lg flex items-center justify-center mx-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:n.jsx(Tt,{className:"h-6 w-6 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 text-sm",children:"No promotional banners available"})]})})}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Earnings"}),n.jsxs(ne,{variant:"outline",className:"text-gray-700 text-sm px-3 py-2 h-auto flex items-center gap-2",onClick:()=>e("/vendor/sales"),children:[n.jsx($r,{className:"h-4 w-4"}),"View Transactions",n.jsx(xD,{className:"h-4 w-4"})]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Today's Earnings"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["Rs",(m.todaysEarnings||0).toFixed(2)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total Earnings"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["Rs",(m.totalRevenue||0).toFixed(2)]})]})]}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Earning in ",new Date().toLocaleDateString("en-US",{month:"long"})]}),n.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Rs",m.monthlyEarnings.toFixed(2)," ",n.jsxs("span",{className:"text-green-600",children:["+",m.monthlyGrowth,"%"]})]})]}),n.jsx("div",{className:"flex items-end gap-1 h-8",children:C.map((Q,ie)=>{const fe=Math.max(...C,1),te=Q>0?Math.max(4,Q/fe*24):2,ve=ie===C.length-1;return n.jsx("div",{className:`w-2 rounded-t ${ve?"bg-green-500":Q>0?"bg-blue-400":"bg-gray-200"}`,style:{height:`${te}px`}},ie)})})]})})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Orders"}),n.jsx(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",onClick:()=>e("/vendor/orders"),children:"View All"})]}),n.jsx("div",{className:`space-y-3 ${p.length>7?"max-h-96 overflow-y-auto":""}`,children:p.length===0?n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-6 text-center",children:[n.jsx(Tt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No orders today"})]})}):p.map(Q=>{var Ce;const ie=X(Q.status),fe=ie.icon,te=Q.created_at?new Date(Q.created_at):new Date,ve=Math.floor((Date.now()-te.getTime())/(1e3*60));return n.jsx(Pe,{className:`border-l-4 border-l-${ie.color}-500 cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>e(`/vendor/orders?tab=${Q.status}&orderId=${Q.id}`),children:n.jsxs(Ae,{className:"p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fe,{className:`h-4 w-4 text-${ie.color}-500`}),n.jsx("span",{className:`text-xs font-medium text-${ie.textColor} bg-${ie.bgColor} px-2 py-1 rounded-full`,children:ie.label})]}),n.jsxs("span",{className:"text-xs text-gray-500",children:["#",Q.order_number]})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:Q.status==="pending"?"New order received":Q.status==="delivered"?"Order delivered successfully":"Order in progress"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Rs",parseFloat(Q.total_amount||0).toFixed(2),"  ",((Ce=Q.items)==null?void 0:Ce.length)||0," items  ",ve<60?`${ve} min ago`:`${Math.floor(ve/60)} hours ago`]})]})},Q.id)})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Best Selling Products"}),n.jsx(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",children:"View All"})]}),n.jsx("div",{className:"md:grid md:grid-cols-4 md:gap-3 overflow-x-auto md:overflow-visible",children:n.jsx("div",{className:"flex gap-3 pb-2 md:contents",children:v.map(Q=>{var ie,fe;return n.jsx(Pe,{className:"w-32 flex-shrink-0 md:w-auto md:flex-shrink",children:n.jsx(Ae,{className:"md:p-2 p-3",children:n.jsxs("div",{className:"md:space-y-1 space-y-2",children:[n.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg overflow-hidden",children:n.jsx("img",{src:((fe=(ie=Q.images)==null?void 0:ie[0])==null?void 0:fe.image_url)||"/api/placeholder/80/80",alt:Q.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"md:text-xs text-sm font-medium text-gray-900 truncate",children:Q.name}),n.jsxs("p",{className:"md:text-[10px] text-xs text-gray-600",children:["Rs",parseFloat(Q.price).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between md:text-[10px] text-xs",children:[n.jsxs("span",{className:"text-green-600 font-medium",children:[Q.sold," sold"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(cn,{className:"md:h-2 md:w-2 h-3 w-3 text-yellow-400 fill-current"}),n.jsx("span",{className:"text-gray-600",children:Q.rating})]})]}),n.jsxs("div",{className:"md:text-[10px] text-xs text-gray-500",children:["Stock: ",Q.quantity]})]})})},Q.id)})})})]}),x.length>0&&n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Featured Products"}),n.jsx(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto",children:"View All"})]}),n.jsx("div",{className:"md:grid md:grid-cols-4 md:gap-3 overflow-x-auto md:overflow-visible",children:n.jsx("div",{className:"flex gap-3 pb-2 md:contents",children:x.map(Q=>{var ie,fe;return n.jsx(Pe,{className:"w-32 flex-shrink-0 relative md:w-auto md:flex-shrink",children:n.jsx(Ae,{className:"md:p-2 p-3",children:n.jsxs("div",{className:"md:space-y-1 space-y-2",children:[n.jsxs("div",{className:"w-full aspect-square bg-gray-100 rounded-lg overflow-hidden relative",children:[n.jsx("img",{src:((fe=(ie=Q.images)==null?void 0:ie[0])==null?void 0:fe.image_url)||"/api/placeholder/80/80",alt:Q.name,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white md:text-[10px] text-xs px-1 py-0.5 rounded-full font-bold shadow-md",children:""})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"md:text-xs text-sm font-medium text-gray-900 truncate",children:Q.name}),n.jsxs("p",{className:"md:text-[10px] text-xs text-gray-600",children:["Rs",parseFloat(Q.price).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between md:text-[10px] text-xs",children:[n.jsxs("span",{className:"text-blue-600 font-medium",children:[Q.total_sold||0," sold"]}),n.jsx("span",{className:`px-1 py-0.5 rounded md:text-[10px] text-xs ${Q.quantity>10?"bg-green-100 text-green-700":Q.quantity>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:Q.quantity>10?"In Stock":Q.quantity>0?"Low":"Out"})]})]})})},Q.id)})})})]}),n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"My Products"}),n.jsxs(ne,{variant:"outline",className:"text-gray-700 text-xs px-2 py-1 h-auto flex items-center gap-1",onClick:()=>e("/vendor/products"),children:[n.jsx(Sn,{className:"h-3 w-3"}),"Manage"]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-w-full",children:_.map(Q=>{var ie,fe;return n.jsx(Pe,{className:"overflow-hidden",children:n.jsx(Ae,{className:"md:p-2 p-3",children:n.jsxs("div",{className:"md:space-y-1 space-y-2",children:[n.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded overflow-hidden",children:n.jsx("img",{src:((fe=(ie=Q.images)==null?void 0:ie[0])==null?void 0:fe.image_url)||"/api/placeholder/60/60",alt:Q.name,className:"w-full h-full object-cover"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"md:text-xs text-sm font-medium text-gray-900 truncate",children:Q.name}),n.jsxs("p",{className:"md:text-[10px] text-xs text-gray-600",children:["Rs",parseFloat(Q.price).toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"md:text-[10px] text-xs text-gray-500",children:["Stock: ",Q.quantity]}),n.jsx("span",{className:`md:text-[10px] text-xs px-2 py-1 rounded-full ${Q.quantity>10?"bg-green-100 text-green-700":Q.quantity>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:Q.quantity>10?"Active":Q.quantity>0?"Low Stock":"Out of Stock"})]})]})})},Q.id)})})]})]})})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ar,{className:"h-8 w-8 text-yellow-600"})}),n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Account Under Review"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Your vendor application is being reviewed by our team. You'll receive an email notification once approved."}),n.jsx(ne,{onClick:()=>e("/vendor/onboarding"),variant:"outline",className:"w-full",children:"Back to Application"})]})})},F4=j.forwardRef(({className:e,...t},s)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:s,className:Ge("w-full caption-bottom text-sm",e),...t})}));F4.displayName="Table";const $4=j.forwardRef(({className:e,...t},s)=>n.jsx("thead",{ref:s,className:Ge("[&_tr]:border-b",e),...t}));$4.displayName="TableHeader";const z4=j.forwardRef(({className:e,...t},s)=>n.jsx("tbody",{ref:s,className:Ge("[&_tr:last-child]:border-0",e),...t}));z4.displayName="TableBody";const Fne=j.forwardRef(({className:e,...t},s)=>n.jsx("tfoot",{ref:s,className:Ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Fne.displayName="TableFooter";const Jy=j.forwardRef(({className:e,...t},s)=>n.jsx("tr",{ref:s,className:Ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Jy.displayName="TableRow";const Li=j.forwardRef(({className:e,...t},s)=>n.jsx("th",{ref:s,className:Ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Li.displayName="TableHead";const Mi=j.forwardRef(({className:e,...t},s)=>n.jsx("td",{ref:s,className:Ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Mi.displayName="TableCell";const $ne=j.forwardRef(({className:e,...t},s)=>n.jsx("caption",{ref:s,className:Ge("mt-4 text-sm text-muted-foreground",e),...t}));$ne.displayName="TableCaption";const kd=[{id:"ORD-001",customer:"John Doe",product:"Wireless Headphones",quantity:2,amount:"4,998",status:"Pending",date:"2024-01-15",address:"123 Main St, City"},{id:"ORD-002",customer:"Jane Smith",product:"Smart Watch",quantity:1,amount:"12,999",status:"Processing",date:"2024-01-14",address:"456 Oak Ave, City"},{id:"ORD-003",customer:"Mike Johnson",product:"Laptop Stand",quantity:3,amount:"2,997",status:"Shipped",date:"2024-01-13",address:"789 Pine Rd, City"},{id:"ORD-004",customer:"Sarah Wilson",product:"Bluetooth Speaker",quantity:1,amount:"3,499",status:"Delivered",date:"2024-01-12",address:"321 Elm St, City"}],g2={Pending:"bg-yellow-100 text-yellow-800",Processing:"bg-blue-100 text-blue-800",Shipped:"bg-purple-100 text-purple-800",Delivered:"bg-green-100 text-green-800"};function zne(){const e=rt(),[t,s]=j.useState(""),[r,i]=j.useState("all"),[a,o]=j.useState(!1),[c,d]=j.useState("Tools"),h=kd.filter(f=>{const m=f.customer.toLowerCase().includes(t.toLowerCase())||f.product.toLowerCase().includes(t.toLowerCase())||f.id.toLowerCase().includes(t.toLowerCase()),u=r==="all"||f.status.toLowerCase()===r.toLowerCase();return m&&u});return n.jsx(qt,{title:"Tools",children:n.jsxs("div",{className:"min-h-screen bg-gray-50 p-3 pt-1 pb-16",children:[n.jsx("div",{className:"bg-white p-4 border-b mb-4",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:n.jsx(vn,{className:"h-6 w-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Business Tools"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage your products, orders, and business operations"})]})]}),n.jsxs(Fo,{open:a,onOpenChange:o,children:[n.jsx(by,{asChild:!0,children:n.jsxs(ne,{size:"sm",children:[n.jsx(vn,{className:"mr-2 h-4 w-4"})," Create Order"]})}),n.jsxs(Da,{className:"sm:max-w-[500px] rounded-lg",children:[n.jsxs(Fa,{children:[n.jsx($a,{className:"text-lg font-semibold",children:"Create New Order"}),n.jsx(HR,{className:"text-sm text-gray-600",children:"Fill in the details below to create a new order for your customer."})]}),n.jsxs("div",{className:"grid gap-3 py-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"customer",className:"text-sm font-medium",children:"Customer Name"}),n.jsx(ge,{id:"customer",placeholder:"Enter customer name",className:"h-9"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"product",className:"text-sm font-medium",children:"Product"}),n.jsxs(Vt,{children:[n.jsx(zt,{className:"h-9",children:n.jsx(Ut,{placeholder:"Select product"})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"headphones",children:"Wireless Headphones"}),n.jsx(We,{value:"watch",children:"Smart Watch"}),n.jsx(We,{value:"stand",children:"Laptop Stand"}),n.jsx(We,{value:"speaker",children:"Bluetooth Speaker"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"quantity",className:"text-sm font-medium",children:"Quantity"}),n.jsx(ge,{id:"quantity",type:"number",placeholder:"1",className:"h-9"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"amount",className:"text-sm font-medium",children:"Amount"}),n.jsx(ge,{id:"amount",placeholder:"0.00",className:"h-9"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"address",className:"text-sm font-medium",children:"Delivery Address"}),n.jsx(Kn,{id:"address",placeholder:"Enter delivery address",className:"h-20"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{htmlFor:"notes",className:"text-sm font-medium",children:"Notes"}),n.jsx(Kn,{id:"notes",placeholder:"Any special instructions...",className:"h-16"})]})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>o(!1),children:"Cancel"}),n.jsx(ne,{size:"sm",onClick:()=>o(!1),children:"Create Order"})]})]})]})]})}),n.jsxs(Pe,{className:"mb-4 border border-gray-200",children:[n.jsx(jt,{className:"bg-gray-50 border-b border-gray-200 p-3",children:n.jsxs(_t,{className:"flex items-center gap-2 text-base",children:[n.jsx("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:n.jsx(vn,{className:"h-4 w-4 text-gray-700"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"Business Functions"}),n.jsx("p",{className:"text-xs text-gray-600 font-normal mt-0.5",children:"Manage your core business operations"})]})]})}),n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-2",children:[n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/add-products"),children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-blue-200 group-hover:to-blue-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Add Products"}),n.jsx(De,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/products"),children:[n.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-green-200 group-hover:to-green-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Products"}),n.jsx(De,{className:"bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full text-[10px]",children:"New"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/orders"),children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-purple-200 group-hover:to-purple-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Orders"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/return-orders"),children:[n.jsx("div",{className:"bg-gradient-to-br from-orange-100 to-orange-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-orange-200 group-hover:to-orange-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Return Order"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/reviews"),children:[n.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-yellow-200 group-hover:to-yellow-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"Manage Reviews"})]}),n.jsxs("div",{className:"group text-center cursor-pointer p-2 rounded-md hover:bg-gray-50 transition-all duration-150 hover:shadow-sm hover:scale-105 border border-transparent hover:border-gray-200",onClick:()=>e("/vendor/income"),children:[n.jsx("div",{className:"bg-gradient-to-br from-emerald-100 to-emerald-200 rounded-lg p-2 mx-auto w-12 h-12 flex items-center justify-center mb-1 group-hover:from-emerald-200 group-hover:to-emerald-300 transition-all duration-150",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsx("p",{className:"text-xs text-gray-800 font-semibold mb-0.5 leading-tight",children:"My Income"})]})]})})]}),n.jsxs(Pe,{className:"mb-4 rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"bg-gray-50 p-3 border-b border-gray-200",children:n.jsx(_t,{className:"text-base font-semibold text-gray-900",children:"Business Upgrading"})}),n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-lg p-2 flex-shrink-0",children:n.jsx("span",{className:"text-lg",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Business Advisor"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Get expert guidance"})]}),n.jsx(De,{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"New"})]})})]}),n.jsx(Pe,{className:"mb-4 rounded-lg border border-gray-200",children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Lo,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx(ge,{placeholder:"Search orders...",value:t,onChange:f=>s(f.target.value),className:"pl-8 h-9 text-sm"})]})}),n.jsxs(Vt,{value:r,onValueChange:i,children:[n.jsxs(zt,{className:"w-full sm:w-[160px] h-9 text-sm",children:[n.jsx(ji,{className:"mr-2 h-3 w-3"}),n.jsx(Ut,{placeholder:"Filter by status"})]}),n.jsxs(Bt,{children:[n.jsx(We,{value:"all",children:"All Status"}),n.jsx(We,{value:"pending",children:"Pending"}),n.jsx(We,{value:"processing",children:"Processing"}),n.jsx(We,{value:"shipped",children:"Shipped"}),n.jsx(We,{value:"delivered",children:"Delivered"})]})]})]})})}),n.jsxs(Pe,{className:"hidden md:block mb-4 rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"p-4",children:n.jsx(_t,{className:"text-base font-semibold",children:"Recent Orders"})}),n.jsx(Ae,{className:"p-4",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(F4,{children:[n.jsx($4,{children:n.jsxs(Jy,{children:[n.jsx(Li,{className:"text-xs",children:"Order ID"}),n.jsx(Li,{className:"text-xs",children:"Customer"}),n.jsx(Li,{className:"text-xs",children:"Product"}),n.jsx(Li,{className:"text-xs",children:"Qty"}),n.jsx(Li,{className:"text-xs",children:"Amount"}),n.jsx(Li,{className:"text-xs",children:"Status"}),n.jsx(Li,{className:"text-xs",children:"Date"}),n.jsx(Li,{className:"text-right text-xs",children:"Actions"})]})}),n.jsx(z4,{children:h.slice(0,3).map(f=>n.jsxs(Jy,{className:"h-12",children:[n.jsx(Mi,{className:"text-sm font-medium",children:f.id}),n.jsx(Mi,{className:"text-sm",children:f.customer}),n.jsx(Mi,{className:"text-sm",children:f.product}),n.jsx(Mi,{className:"text-sm",children:f.quantity}),n.jsx(Mi,{className:"text-sm",children:f.amount}),n.jsx(Mi,{children:n.jsx(De,{className:`${g2[f.status]} text-xs px-2 py-1`,children:f.status})}),n.jsx(Mi,{className:"text-sm",children:f.date}),n.jsx(Mi,{className:"text-right",children:n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsx(ne,{variant:"ghost",className:"h-6 w-6 p-0",children:n.jsx(iN,{className:"h-3 w-3"})})}),n.jsxs(Zo,{align:"end",children:[n.jsxs(po,{className:"text-xs",children:[n.jsx(Qf,{className:"mr-2 h-3 w-3"})," Edit"]}),n.jsx(po,{className:"text-xs",children:"View Details"}),n.jsxs(po,{className:"text-red-600 text-xs",children:[n.jsx(Ua,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))})]})})})]}),n.jsxs("div",{className:"md:hidden space-y-3",children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Recent Orders"}),h.slice(0,2).map(f=>n.jsxs(Pe,{className:"p-3 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:f.id}),n.jsx("p",{className:"text-xs text-gray-600",children:f.customer})]}),n.jsx(De,{className:`${g2[f.status]} text-xs px-2 py-1`,children:f.status})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Product:"}),n.jsx("span",{className:"font-medium",children:f.product})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Qty:"}),n.jsx("span",{className:"font-medium",children:f.quantity})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-600",children:"Amount:"}),n.jsx("span",{className:"font-semibold text-orange-600",children:f.amount})]})]}),n.jsx("div",{className:"flex justify-end mt-3",children:n.jsxs(vc,{children:[n.jsx(xc,{asChild:!0,children:n.jsxs(ne,{variant:"outline",size:"sm",className:"h-7 text-xs border-gray-300",children:[n.jsx(iN,{className:"h-3 w-3 mr-1"})," Actions"]})}),n.jsxs(Zo,{align:"end",children:[n.jsxs(po,{className:"text-xs",children:[n.jsx(Qf,{className:"mr-2 h-3 w-3"})," Edit"]}),n.jsx(po,{className:"text-xs",children:"View Details"}),n.jsxs(po,{className:"text-red-600 text-xs",children:[n.jsx(Ua,{className:"mr-2 h-3 w-3"})," Delete"]})]})]})})]},f.id))]}),n.jsxs("div",{className:"grid gap-3 md:grid-cols-4 mb-4",children:[n.jsxs(Pe,{className:"rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(_t,{className:"text-xs font-medium text-gray-900",children:"Total Orders"})}),n.jsxs(Ae,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:kd.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"+2 from yesterday"})]})]}),n.jsxs(Pe,{className:"rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(_t,{className:"text-xs font-medium text-gray-900",children:"Pending"})}),n.jsxs(Ae,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:kd.filter(f=>f.status==="Pending").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Requires attention"})]})]}),n.jsxs(Pe,{className:"rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(_t,{className:"text-xs font-medium text-gray-900",children:"Processing"})}),n.jsxs(Ae,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:kd.filter(f=>f.status==="Processing").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"In progress"})]})]}),n.jsxs(Pe,{className:"rounded-lg border border-gray-200",children:[n.jsx(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2 p-3",children:n.jsx(_t,{className:"text-xs font-medium text-gray-900",children:"Completed"})}),n.jsxs(Ae,{className:"p-3 pt-0",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:kd.filter(f=>f.status==="Delivered").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Successfully delivered"})]})]})]}),n.jsxs("div",{className:"fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 md:hidden flex justify-around items-center p-3 shadow-md",children:[n.jsxs("button",{onClick:()=>d("Home"),className:`flex flex-col items-center text-gray-500 ${c==="Home"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),n.jsxs("button",{onClick:()=>d("Tools"),className:`flex flex-col items-center text-gray-500 ${c==="Tools"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Tools"})]}),n.jsxs("button",{onClick:()=>d("Messages"),className:`flex flex-col items-center text-gray-500 ${c==="Messages"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Messages"})]}),n.jsxs("button",{onClick:()=>d("Me"),className:`flex flex-col items-center text-gray-500 ${c==="Me"?"text-orange-500":""}`,children:[n.jsx("span",{className:"text-xl",children:""}),n.jsx("span",{className:"text-xs font-medium",children:"Me"})]})]})]})})}const Bne=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[i,a]=j.useState("all"),[o,c]=j.useState(!1),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(1),[y,v]=j.useState(1),[w,x]=j.useState(0),b=20,[_,N]=j.useState({totalSales:0,totalRefunds:0,netEarnings:0,todaySales:0,monthSales:0});j.useEffect(()=>{I()},[d,f,u]);const C=F=>{p(F)},I=async()=>{try{r(!0);const F=new URLSearchParams({page:u.toString(),page_size:b.toString()});d&&F.append("date_from",d),f&&F.append("date_to",f);const{response:G,data:Y}=await Be(`/vendor/orders/?${F}`);if(G.ok&&Y){const K=Y.results||Y||[];v(Math.ceil((Y.count||K.length)/b)),x(Y.count||K.length);const U=[];K.forEach(Q=>{var ie,fe,te;Q.status==="delivered"&&U.push({id:Q.id,order_number:Q.order_number,customer_name:((ie=Q.customer_details)==null?void 0:ie.username)||Q.delivery_name,amount:parseFloat(Q.total_amount),type:"sale",status:"completed",created_at:Q.created_at,items_count:((fe=Q.items)==null?void 0:fe.length)||0}),((te=Q.refunds)==null?void 0:te.length)>0&&Q.refunds.forEach(ve=>{var Ce,he;ve.status==="completed"&&U.push({id:`refund-${ve.id}`,order_number:Q.order_number,customer_name:((Ce=Q.customer_details)==null?void 0:Ce.username)||Q.delivery_name,amount:-parseFloat(ve.approved_amount||ve.requested_amount),type:"refund",status:"completed",created_at:ve.completed_at||ve.created_at,items_count:((he=Q.items)==null?void 0:he.length)||0})})}),U.sort((Q,ie)=>new Date(ie.created_at).getTime()-new Date(Q.created_at).getTime());let B=U;if(d&&f){const Q=new Date(d),ie=new Date(f);ie.setHours(23,59,59,999),B=U.filter(fe=>{const te=new Date(fe.created_at);return te>=Q&&te<=ie})}t(B);const M=U.filter(Q=>Q.type==="sale").reduce((Q,ie)=>Q+ie.amount,0),z=Math.abs(U.filter(Q=>Q.type==="refund").reduce((Q,ie)=>Q+ie.amount,0)),Z=M-z,W=new Date().toDateString(),X=U.filter(Q=>new Date(Q.created_at).toDateString()===W&&Q.type==="sale").reduce((Q,ie)=>Q+ie.amount,0),V=new Date().getMonth(),H=new Date().getFullYear(),se=U.filter(Q=>{const ie=new Date(Q.created_at);return ie.getMonth()===V&&ie.getFullYear()===H&&Q.type==="sale"}).reduce((Q,ie)=>Q+ie.amount,0);N({totalSales:M,totalRefunds:z,netEarnings:Z,todaySales:X,monthSales:se})}}catch(F){console.error("Error fetching sales data:",F)}finally{r(!1)}},k=F=>F==="all"?e:F==="sales"?e.filter(G=>G.type==="sale"):F==="refunds"?e.filter(G=>G.type==="refund"):e,P=()=>{const F=[["Date","Time","Type","Order Number","Customer","Amount","Status","Items"].join(","),...e.map(U=>[$(U.created_at),O(U.created_at),U.type,U.order_number,`"${U.customer_name}"`,Math.abs(U.amount).toFixed(2),U.status,U.items_count].join(","))].join(`
`),G=new Blob([F],{type:"text/csv"}),Y=window.URL.createObjectURL(G),K=document.createElement("a");K.href=Y,K.download=`sales-report-${d||"all"}-${f||new Date().toISOString().split("T")[0]}.csv`,K.click(),window.URL.revokeObjectURL(Y)},R=()=>{const F=new Date().toLocaleDateString(),G=d&&f?`${d} to ${f}`:"All Time",Y=`
===========================================
           SALES & EARNINGS REPORT
===========================================
Generated: ${F}
Period: ${G}

SUMMARY
-------------------------------------------
Total Sales: Rs${_.totalSales.toFixed(2)}
Total Refunds: Rs${_.totalRefunds.toFixed(2)}
Net Earnings: Rs${_.netEarnings.toFixed(2)}
Today's Sales: Rs${_.todaySales.toFixed(2)}
This Month: Rs${_.monthSales.toFixed(2)}

TRANSACTIONS (${e.length} records)
-------------------------------------------
${e.map(U=>`${$(U.created_at)} ${O(U.created_at)} | ${U.type.toUpperCase().padEnd(6)} | ${U.order_number.padEnd(12)} | Rs${Math.abs(U.amount).toFixed(2).padStart(8)} | ${U.customer_name}`).join(`
`)}

===========================================
    `,K=window.open("","_blank");K==null||K.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${Y}</pre>`),K==null||K.print()},E=()=>{const F=`Sales Report

Total Sales: Rs${_.totalSales.toFixed(2)}
Total Refunds: Rs${_.totalRefunds.toFixed(2)}
Net Earnings: Rs${_.netEarnings.toFixed(2)}

Transactions: ${e.length}`;if(navigator.share)navigator.share({title:"Sales Report",text:F});else{const G=`https://wa.me/?text=${encodeURIComponent(F)}`;window.open(G,"_blank")}},T=()=>{p(1),I(),c(!1)},A=()=>{h(""),m(""),p(1),I(),c(!1)},$=F=>new Date(F).toLocaleDateString(),O=F=>new Date(F).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return n.jsx(qt,{title:"Sales & Earnings",children:n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx($r,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Total Sales"}),n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rs",_.totalSales.toFixed(2)]})]})]})})}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(jE,{className:"h-4 w-4 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Total Refunds"}),n.jsxs("p",{className:"text-sm font-bold text-red-600",children:["Rs",_.totalRefunds.toFixed(2)]})]})]})})})]}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Net Earnings"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["Rs",_.netEarnings.toFixed(2)]}),n.jsxs("div",{className:"flex justify-between mt-3 text-xs",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Today"}),n.jsxs("p",{className:"font-semibold",children:["Rs",_.todaySales.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"This Month"}),n.jsxs("p",{className:"font-semibold",children:["Rs",_.monthSales.toFixed(2)]})]})]})]})})})]}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Sales Transactions"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:R,children:n.jsx(sb,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:P,children:n.jsx(ql,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:E,children:n.jsx(Ho,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(!0),children:n.jsx(ji,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:I,children:n.jsx(xi,{className:"h-4 w-4"})})]})]}),n.jsxs(Ni,{value:i,onValueChange:a,className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-100 overflow-x-auto",children:n.jsxs(Vr,{className:"flex w-max bg-transparent h-auto p-2 gap-3",children:[n.jsxs(Ct,{value:"all",className:"text-xs py-2 px-3",children:["All (",e.length,")"]}),n.jsxs(Ct,{value:"sales",className:"text-xs py-2 px-3",children:["Sales (",e.filter(F=>F.type==="sale").length,")"]}),n.jsxs(Ct,{value:"refunds",className:"text-xs py-2 px-3",children:["Refunds (",e.filter(F=>F.type==="refund").length,")"]})]})}),n.jsx(lt,{value:"all",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:s?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(xi,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading transactions..."})]}):k("all").length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Tt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No transactions found"})]}):k("all").map(F=>n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${F.type==="sale"?"bg-green-100":"bg-red-100"}`,children:F.type==="sale"?n.jsx(xu,{className:"h-5 w-5 text-green-600"}):n.jsx(yu,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[F.type==="sale"?"Sale":"Refund"," - ",F.order_number]}),n.jsxs("p",{className:"text-xs text-gray-600",children:[F.customer_name,"  ",F.items_count," items"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[$(F.created_at)," at ",O(F.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-sm font-bold ${F.type==="sale"?"text-green-600":"text-red-600"}`,children:[F.type==="sale"?"+":"","Rs",Math.abs(F.amount).toFixed(2)]}),n.jsx(De,{variant:"default",className:"text-xs",children:F.status})]})]})},F.id))})}),n.jsx(lt,{value:"sales",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:k("sales").map(F=>n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(xu,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Sale - ",F.order_number]}),n.jsxs("p",{className:"text-xs text-gray-600",children:[F.customer_name,"  ",F.items_count," items"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[$(F.created_at)," at ",O(F.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["+Rs",F.amount.toFixed(2)]}),n.jsx(De,{variant:"default",className:"text-xs",children:"completed"})]})]})},F.id))})}),n.jsx(lt,{value:"refunds",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:k("refunds").map(F=>n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(yu,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Refund - ",F.order_number]}),n.jsxs("p",{className:"text-xs text-gray-600",children:[F.customer_name,"  ",F.items_count," items"]}),n.jsxs("p",{className:"text-xs text-gray-500",children:[$(F.created_at)," at ",O(F.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-red-600",children:["Rs",Math.abs(F.amount).toFixed(2)]}),n.jsx(De,{variant:"secondary",className:"text-xs",children:"refunded"})]})]})},F.id))})})]})]})}),y>1&&n.jsx("div",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(u-1)*b+1," to ",Math.min(u*b,w)," of ",w," transactions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>C(u-1),disabled:u===1,children:"Previous"}),n.jsxs("span",{className:"text-sm font-medium",children:[u," of ",y]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>C(u+1),disabled:u===y,children:"Next"})]})]})}),n.jsx(Os,{open:o,onOpenChange:c,children:n.jsxs(vs,{side:"right",className:"w-full sm:w-80",children:[n.jsx(xs,{className:"pb-4",children:n.jsx(ys,{children:"Filter by Date Range"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"From Date"}),n.jsx(ge,{type:"date",value:d,onChange:F=>h(F.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"To Date"}),n.jsx(ge,{type:"date",value:f,onChange:F=>m(F.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(ne,{onClick:T,className:"flex-1",children:"Apply Filter"}),n.jsx(ne,{variant:"outline",onClick:A,className:"flex-1",children:"Clear"})]}),(d||f)&&n.jsx("div",{className:"pt-4 border-t",children:n.jsx("p",{className:"text-sm text-gray-600",children:d&&f?`Showing: ${d} to ${f}`:d?`From: ${d}`:f?`Until: ${f}`:""})})]})]})})]})})},Vne=[{category:"Account",items:[{id:"profile",title:"Profile Management",subtitle:"Complete profile setup and management",icon:Or,action:"navigate"},{id:"company",title:"Company Information",subtitle:"Business details and verification",icon:ps,action:"navigate"},{id:"security",title:"Security & Login",subtitle:"Password and authentication",icon:yi,action:"navigate"}]},{category:"Business",items:[{id:"products",title:"Product Management",subtitle:"Inventory, pricing, and catalog",icon:Tt,action:"navigate"},{id:"analytics",title:"Business Analytics",subtitle:"Sales reports and insights",icon:fE,action:"navigate"}]}];function Une(){const e=rt(),[t,s]=j.useState(null),[r,i]=j.useState(!0),[a,o]=j.useState(""),[c,d]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",description:"",avatar:"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:0,activeProducts:0,totalSales:0,monthlyRevenue:0});j.useEffect(()=>{h()},[]);const h=async()=>{try{const{simplePersistentAuth:p}=await Je(async()=>{const{simplePersistentAuth:N}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:N}},[]);if(!await p.isVendorLoggedIn()){e("/vendor/login");return}const v=await p.getVendorAuth();v&&await Re.setAuth(v.token,v.user);const{response:w,data:x}=await Be("/profile/");if(!w.ok)throw new Error("Failed to fetch user profile");const{response:b,data:_}=await Be("/vendor-profiles/");if(b.ok&&_){if(_.results&&_.results.length>0){const N=_.results[0];d({businessName:N.business_name||"N/A",ownerName:N.owner_name||x.username,email:N.business_email||x.email,phone:N.business_phone||x.phone_number||"N/A",address:N.business_address||"N/A",description:N.description||"No description",avatar:x.profile_picture?(x.profile_picture.startsWith("http"),x.profile_picture):"/api/placeholder/120/120",isOnline:!0,autoOnlineTime:"09:00",autoOfflineTime:"22:00",totalProducts:24,activeProducts:22,totalSales:1250,monthlyRevenue:45e3})}}else d(N=>({...N,businessName:x.username,ownerName:x.username,email:x.email,phone:x.phone_number||"N/A",avatar:x.profile_picture?(x.profile_picture.startsWith("http"),x.profile_picture):"/api/placeholder/120/120"}))}catch(p){console.error("Error fetching profile:",p),o("Failed to load profile data")}finally{i(!1)}},[f,m]=j.useState({esewa:{enabled:!1,merchantId:"",secretKey:""},khalti:{enabled:!1,publicKey:"",secretKey:""}}),u=p=>{p==="profile"?e("/vendor/profile"):p==="security"?e("/vendor/security"):p==="company"?e("/vendor/company"):p==="products"?e("/vendor/products"):p==="analytics"?e("/vendor/analytics"):s(p)};return t?n.jsx(qt,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"p-4",children:[n.jsx(ne,{variant:"ghost",onClick:()=>s(null),className:"mb-4",children:" Back to Settings"}),t==="analytics"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Business Analytics"}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Revenue Overview"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",c.monthlyRevenue.toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"This Month"}),n.jsx("p",{className:"text-xs text-green-600",children:"+12% from last month"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",(c.monthlyRevenue*.85).toLocaleString()]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Last Month"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Previous period"})]})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Sales Metrics"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tt,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium",children:"Total Orders"})]}),n.jsx("p",{className:"text-xl font-bold",children:c.totalSales}),n.jsx("p",{className:"text-xs text-gray-600",children:"This month"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($r,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"text-sm font-medium",children:"Avg Order Value"})]}),n.jsxs("p",{className:"text-xl font-bold",children:["",Math.round(c.monthlyRevenue/c.totalSales)]}),n.jsx("p",{className:"text-xs text-gray-600",children:"Per order"})]})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Product Performance"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Active Products"}),n.jsx("span",{className:"font-semibold",children:c.activeProducts})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Total Products"}),n.jsx("span",{className:"font-semibold",children:c.totalProducts})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Best Seller"}),n.jsx("span",{className:"font-semibold text-green-600",children:"Chicken Momo"})]})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Weekly Sales"}),n.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:[65,45,78,52,89,67,43].map((p,y)=>{const v=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],w=p/100*100;return n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:"w-full bg-blue-500 rounded-t mb-1",style:{height:`${w}px`}}),n.jsx("span",{className:"text-xs text-gray-600",children:v[y]})]},y)})})]})})]}),t==="payment"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Payment Settings"}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-green-600 font-bold text-lg",children:"eS"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"eSewa Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through eSewa"})]})]}),n.jsx(Zt,{checked:f.esewa.enabled,onCheckedChange:p=>m(y=>({...y,esewa:{...y.esewa,enabled:p}}))})]}),f.esewa.enabled&&n.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium",children:"Merchant ID"}),n.jsx(ge,{placeholder:"Enter your eSewa Merchant ID",value:f.esewa.merchantId,onChange:p=>m(y=>({...y,esewa:{...y.esewa,merchantId:p.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium",children:"Secret Key"}),n.jsx(ge,{type:"password",placeholder:"Enter your eSewa Secret Key",value:f.esewa.secretKey,onChange:p=>m(y=>({...y,esewa:{...y.esewa,secretKey:p.target.value}}))})]}),n.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Note:"})," You can get your eSewa API credentials from your eSewa merchant dashboard."]})})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"K"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:"Khalti Integration"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive payments through Khalti"})]})]}),n.jsx(Zt,{checked:f.khalti.enabled,onCheckedChange:p=>m(y=>({...y,khalti:{...y.khalti,enabled:p}}))})]}),f.khalti.enabled&&n.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium",children:"Public Key"}),n.jsx(ge,{placeholder:"Enter your Khalti Public Key",value:f.khalti.publicKey,onChange:p=>m(y=>({...y,khalti:{...y.khalti,publicKey:p.target.value}}))})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium",children:"Secret Key"}),n.jsx(ge,{type:"password",placeholder:"Enter your Khalti Secret Key",value:f.khalti.secretKey,onChange:p=>m(y=>({...y,khalti:{...y.khalti,secretKey:p.target.value}}))})]}),n.jsx("div",{className:"bg-purple-50 p-3 rounded-lg",children:n.jsxs("p",{className:"text-sm text-purple-800",children:[n.jsx("strong",{children:"Note:"})," You can get your Khalti API credentials from your Khalti merchant dashboard."]})})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Payment Status"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"eSewa Status"}),n.jsx(De,{className:f.esewa.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:f.esewa.enabled?"Active":"Inactive"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Khalti Status"}),n.jsx(De,{className:f.khalti.enabled?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800",children:f.khalti.enabled?"Active":"Inactive"})]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsx(ne,{className:"bg-blue-600 hover:bg-blue-700",children:"Save Payment Settings"})})]}),t==="notifications"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Notification Settings"}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Notification Preferences"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"New Orders"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Get notified when you receive new orders"})]}),n.jsx(Zt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Payment Updates"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Notifications for payment confirmations"})]}),n.jsx(Zt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Low Stock Alerts"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Alert when products are running low"})]}),n.jsx(Zt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"System Updates"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Important system and policy updates"})]}),n.jsx(Zt,{})]})]})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4",children:[n.jsx("h3",{className:"font-semibold mb-3",children:"Delivery Methods"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Push Notifications"}),n.jsx(Zt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"Email Notifications"}),n.jsx(Zt,{defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm",children:"SMS Notifications"}),n.jsx(Zt,{})]})]})]})})]})]})})}):r?n.jsx(qt,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):a?n.jsx(qt,{title:"Settings",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:a}),n.jsx(ne,{onClick:h,children:"Retry"})]})})}):n.jsx(qt,{title:"Settings",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b",children:n.jsxs("div",{className:"p-4 flex items-center gap-3",children:[n.jsxs(Qi,{className:"h-14 w-14",children:[n.jsx(Rr,{src:c.avatar}),n.jsx(Ji,{className:"text-lg font-bold",children:c.businessName?c.businessName.charAt(0):"U"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-lg font-semibold",children:c.businessName||"Business Name"}),n.jsx("p",{className:"text-gray-500 text-xs",children:c.email})]}),n.jsx(De,{className:c.isOnline?"bg-green-100 text-green-800 text-xs":"bg-gray-100 text-gray-800 text-xs",children:c.isOnline?"Online":"Offline"})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[Vne.map(p=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b bg-gray-50",children:n.jsx("h2",{className:"font-semibold text-gray-900",children:p.category})}),n.jsx("div",{className:"divide-y",children:p.items.map(y=>{const v=y.icon;return n.jsx("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>u(y.id),"data-section":y.id,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(v,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:y.title}),n.jsx("p",{className:"text-sm text-gray-600",children:y.subtitle})]})]}),n.jsx(fc,{className:"h-5 w-5 text-gray-400"})]})},y.id)})})]},p.category)),n.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:async()=>{await Re.clearAuth(),e("/vendor/login")},children:[n.jsx(tb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})]})]})})}const v2=()=>{var O,F,G,Y,K;const[e,t]=j.useState(null),[s,r]=j.useState([]),[i,a]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!0),[f,m]=j.useState(1),[u,p]=j.useState(!1),[y,v]=j.useState(!1),[w,x]=j.useState(null),[b,_]=j.useState(0),N=j.useRef(null),C=j.useRef(null);j.useEffect(()=>{I(),k();const B=new URLSearchParams(window.location.search).get("start_conversation");B&&setTimeout(()=>{A(parseInt(B))},500)},[]);const I=async()=>{try{if(!localStorage.getItem("token"))return;const{response:B,data:M}=await Be("/profile/");B.ok&&M&&x(M)}catch(U){console.error("Failed to fetch current user:",U)}};j.useEffect(()=>{e&&R(e.id)},[e]),j.useEffect(()=>{if(e){const U=setInterval(async()=>{try{const B=await Vs.getMessages(e.id),M=Array.isArray(B)?B.reverse():[];a(M),_(M.length)}catch(B){console.error("Failed to fetch messages:",B)}},5e3);return()=>clearInterval(U)}},[e]);const k=async(U=1,B=!1)=>{try{const{response:M,data:z}=await Be(`messaging/conversations/?page=${U}&page_size=20`);if(!M.ok)throw new Error("Failed to fetch conversations");const W=((z==null?void 0:z.results)||[]).filter((X,V,H)=>V===H.findIndex(se=>{var Q,ie;return((Q=se.other_participant)==null?void 0:Q.id)===((ie=X.other_participant)==null?void 0:ie.id)}));if(U===1&&!W.some(V=>{var H,se,Q;return((H=V.other_participant)==null?void 0:H.username)==="admin"||((se=V.other_participant)==null?void 0:se.id)===1||((Q=V.other_participant)==null?void 0:Q.username)==="EzzeYway Support"})){const V={id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}};W.unshift(V)}r(B?X=>[...X,...W].filter((H,se,Q)=>se===Q.findIndex(ie=>{var fe,te;return((fe=ie.other_participant)==null?void 0:fe.id)===((te=H.other_participant)==null?void 0:te.id)})):W),p(!!(z!=null&&z.next)),m(U)}catch(M){console.error("Failed to load conversations:",M),U===1&&r([{id:0,participants:[],last_message:null,unread_count:0,other_participant:{id:1,username:"EzzeYway Support",profile_picture:null}}])}finally{h(!1),v(!1)}},P=async()=>{y||!u||(v(!0),await k(f+1,!0))},R=async U=>{try{const B=await Vs.getMessages(U),M=Array.isArray(B)?B.reverse():[];a(M),_(M.length)}catch(B){console.error("Failed to load messages:",B),a([]),_(0)}},E=async()=>{if(!(!o.trim()||!e))try{const U=await Vs.sendMessage({conversation_id:e.id,message_type:"text",content:o});a(B=>[...B,U.message]),c("")}catch(U){console.error("Failed to send message:",U)}},T=async U=>{var M;const B=(M=U.target.files)==null?void 0:M[0];if(!(!B||!e))try{const z=await Vs.sendMessage({conversation_id:e.id,message_type:B.type.startsWith("image/")?"image":"file",file:B});a(Z=>[...Z,z.message])}catch(z){console.error("Failed to send file:",z)}},A=async U=>{try{const B=await Vs.getOrCreateConversation(U);t(B);const M=new URL(window.location.href);M.searchParams.delete("start_conversation"),M.searchParams.delete("customer_name"),M.searchParams.delete("order_id"),window.history.replaceState({},"",M.toString())}catch(B){console.error("Failed to create conversation:",B)}},$=()=>{var U;(U=N.current)==null||U.scrollIntoView({behavior:"smooth"})};return j.useEffect(()=>{$()},[i]),d?n.jsx(qt,{title:"Messages",children:n.jsx("div",{className:"h-screen bg-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{children:"Loading conversations..."})]})})}):e?n.jsxs("div",{className:"h-screen bg-gray-50 flex flex-col",children:[n.jsxs("div",{className:"bg-white border-b px-4 py-3 flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>t(null),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsxs(Qi,{className:"h-10 w-10",children:[((O=e.other_participant)==null?void 0:O.username)==="EzzeYway Support"?n.jsx(Rr,{src:"/logo.png"}):n.jsx(Rr,{src:as((F=e.other_participant)==null?void 0:F.profile_picture)}),n.jsx(Ji,{children:(Y=(G=e.other_participant)==null?void 0:G.username)==null?void 0:Y.charAt(0)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-sm",children:(K=e.other_participant)==null?void 0:K.username}),n.jsx("p",{className:"text-xs text-gray-500",children:"Online"})]}),n.jsx(ne,{variant:"ghost",size:"sm",children:n.jsx(CD,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map(U=>{const B=w&&U.sender.id===w.id;return n.jsx("div",{className:`w-full flex ${B?"justify-end":"justify-start"} mb-2`,children:n.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg shadow ${B?"bg-green-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[U.message_type==="text"&&n.jsx("p",{className:"text-sm",children:U.content}),U.message_type==="image"&&n.jsx("div",{className:"space-y-2",children:n.jsx("img",{src:as(U.file_url),alt:"Shared image",className:"rounded max-w-full h-auto"})}),U.message_type==="file"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:U.file_name})]}),n.jsxs("div",{className:"flex items-center justify-end mt-1 gap-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),B&&n.jsx("span",{className:`text-xs ${U.is_read?"text-blue-500":"text-gray-400"}`,children:U.is_read?"":""})]})]})},U.id)}),n.jsx("div",{ref:N})]}),n.jsxs("div",{className:"bg-white border-t p-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>{var U;return(U=C.current)==null?void 0:U.click()},children:n.jsx(Tx,{className:"h-4 w-4"})}),n.jsx(ge,{value:o,onChange:U=>c(U.target.value),placeholder:"Type a message...",className:"flex-1",onKeyPress:U=>U.key==="Enter"&&E()}),n.jsx(ne,{onClick:E,disabled:!o.trim(),children:n.jsx(yE,{className:"h-4 w-4"})})]}),n.jsx("input",{ref:C,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:T,className:"hidden"})]})]}):n.jsx(qt,{title:"Messages",children:n.jsxs("div",{className:"h-screen bg-white flex flex-col",children:[n.jsx("div",{className:"border-b p-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h2",{className:"text-lg font-semibold",children:"Messages"})})}),n.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(nb,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No conversations yet"}),n.jsx("p",{className:"text-sm",children:"Customers will message you here!"})]}):s.map(U=>{var B,M,z,Z,W,X,V;return n.jsxs("div",{className:"flex items-center gap-3 p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{U.id===0?A(1):t(U)},children:[n.jsxs("div",{className:"relative",children:[n.jsxs(Qi,{className:"h-12 w-12",children:[((B=U.other_participant)==null?void 0:B.username)==="EzzeYway Support"?n.jsx(Rr,{src:"/logo.png"}):n.jsx(Rr,{src:as((M=U.other_participant)==null?void 0:M.profile_picture)}),n.jsx(Ji,{children:(Z=(z=U.other_participant)==null?void 0:z.username)==null?void 0:Z.charAt(0)})]}),n.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-sm truncate",children:(W=U.other_participant)==null?void 0:W.username}),n.jsx("span",{className:"text-xs text-gray-500",children:U.last_message?new Date(U.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:((X=U.last_message)==null?void 0:X.content)||((V=U.last_message)!=null&&V.file_name?` ${U.last_message.file_name}`:"")||(U.id===0?"Start conversation":"No messages yet")})]}),U.unread_count>0&&n.jsx(De,{className:"bg-blue-500 text-white text-xs min-w-[20px] h-5 flex items-center justify-center",children:U.unread_count})]},U.id)}),u&&n.jsx("div",{className:"p-4 text-center",children:n.jsx(ne,{onClick:P,disabled:y,variant:"outline",className:"w-full",children:y?"Loading...":"Load More Conversations"})})]})]})})},qne=()=>{var X,V,H,se,Q,ie,fe;const[e,t]=j.useState(null),[s,r]=j.useState(2),[i,a]=j.useState(!1),[o,c]=j.useState(""),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState(""),[y,v]=j.useState(""),[w,x]=j.useState("all"),[b,_]=j.useState(1),[N,C]=j.useState([]),I=10,[k,P]=j.useState(!0),[R,E]=j.useState(!1),[T,A]=j.useState(""),[$,O]=j.useState(!1);$p(),j.useEffect(()=>{const te=()=>{const ve=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768;O(ve)};return te(),window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]),j.useEffect(()=>{F();const te=Ce=>{Ce.detail.type==="order"&&F()};window.addEventListener("newNotification",te);let ve;return $||(ve=setInterval(()=>{F()},6e4)),()=>{window.removeEventListener("newNotification",te),ve&&clearInterval(ve)}},[$]);const F=async()=>{try{P(!0);const{apiRequest:te}=await Je(async()=>{const{apiRequest:de}=await Promise.resolve().then(()=>Zn);return{apiRequest:de}},void 0),ve=new AbortController,Ce=setTimeout(()=>ve.abort(),$?8e3:3e4),he=$?"/vendor/orders/?limit=50":"/vendor/orders/",{response:je,data:_e}=await te(he,{signal:ve.signal});if(clearTimeout(Ce),je.ok&&_e){const de=_e.results||_e||[];console.log(" Orders received:",de.length,de),C(de)}else console.error("Failed to fetch orders:",je.status,_e),C([])}catch(te){console.error("Error fetching vendor orders:",te),C([])}finally{P(!1)}};j.useEffect(()=>{if(s>0){const te=setInterval(()=>{"Notification"in window&&Notification.permission==="granted"&&new Notification(`${s} New Order${s>1?"s":""} Waiting!`,{icon:"/favicon.ico",body:"Please check and confirm your orders"})},6e4);return()=>clearInterval(te)}},[s]),j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const G=te=>{switch(te){case"new":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-orange-100 text-orange-800";case"pending":return"bg-yellow-100 text-yellow-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";case"returned":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Y=te=>{switch(te){case"new":return n.jsx(rr,{className:"h-3 w-3"});case"confirmed":return n.jsx(Tt,{className:"h-3 w-3"});case"pending":return n.jsx(Hl,{className:"h-3 w-3"});case"delivered":return n.jsx(Ku,{className:"h-3 w-3"});case"cancelled":return n.jsx(rN,{className:"h-3 w-3"});case"returned":return n.jsx(ii,{className:"h-3 w-3"});default:return n.jsx(Tt,{className:"h-3 w-3"})}},K=te=>te==="all"?N:te==="new"?N.filter(ve=>ve.status==="pending"):te==="pending"?N.filter(ve=>ve.status==="out_for_delivery"):N.filter(ve=>ve.status===te),U=(te,ve,Ce)=>{C(he=>he.map(je=>je.id===te?{...je,status:ve,isNew:ve==="new",estimatedTime:"Ready for delivery",...Ce}:je))},B=te=>{const ve=$?15:I;if(w==="new")return $?te.slice(0,ve):te;const Ce=(b-1)*ve,he=Ce+ve;return te.slice(Ce,he)},M=te=>Math.ceil(te.length/I),z=te=>{_(te)},Z=({orders:te})=>{if(w==="new")return null;const ve=M(te);return ve<=1?null:n.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(b-1)*I+1,"-",Math.min(b*I,te.length)," of ",te.length," orders"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>z(b-1),disabled:b===1,className:"h-7 w-7 p-0",children:n.jsx(pE,{className:"h-3 w-3"})}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:ve},(Ce,he)=>he+1).map(Ce=>n.jsx(ne,{variant:b===Ce?"default":"outline",size:"sm",onClick:()=>z(Ce),className:"h-7 w-7 p-0 text-xs",children:Ce},Ce))}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>z(b+1),disabled:b===ve,className:"h-7 w-7 p-0",children:n.jsx(fc,{className:"h-3 w-3"})})]})]})},W=({order:te})=>{var ve,Ce,he,je,_e,de,me;return n.jsxs("div",{className:`p-4 ${te.status==="pending"?"bg-blue-50 border-l-4 border-blue-500":((ve=te.refunds)==null?void 0:ve.length)>0?"bg-orange-50 border-l-4 border-orange-400":"bg-white"} cursor-pointer hover:bg-gray-50 min-h-[120px]`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:te.order_number}),te.status==="pending"&&n.jsx(rr,{className:"h-3 w-3 text-blue-500 animate-pulse"})]}),n.jsxs(De,{className:`${G(te.status)} flex items-center gap-1 text-xs px-2 py-1`,children:[Y(te.status),te.status.charAt(0).toUpperCase()+te.status.slice(1)]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-800 mb-2",children:[((Ce=te.items)==null?void 0:Ce.length)||0," item",((he=te.items)==null?void 0:he.length)!==1?"s":""]}),n.jsxs("div",{className:"flex gap-3 overflow-x-auto",children:[(je=te.items)==null?void 0:je.slice(0,$?2:3).map((ee,ae)=>{var oe,be,we,xe;return n.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center overflow-hidden",children:(we=(be=(oe=ee.product_details)==null?void 0:oe.images)==null?void 0:be[0])!=null&&we.image_url?n.jsx("img",{src:as(ee.product_details.images[0].image_url),alt:ee.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:re=>{re.currentTarget.style.display="none",re.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):n.jsx("span",{className:"text-xs text-gray-400",children:""})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-700 font-medium truncate max-w-[80px]",children:ee.product_name}),n.jsx("p",{className:"text-xs text-gray-500 truncate max-w-[80px] capitalize",children:((xe=ee.product_details)==null?void 0:xe.category)||"Item"})]})]},ae)}),((_e=te.items)==null?void 0:_e.length)>($?2:3)&&n.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-lg border flex items-center justify-center flex-shrink-0",children:n.jsxs("span",{className:"text-xs text-gray-600",children:["+",te.items.length-($?2:3)]})})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 flex-1 min-w-0",children:[n.jsx(Or,{className:"h-4 w-4 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:((de=te.customer_details)==null?void 0:de.username)||te.delivery_name})]}),n.jsx(ne,{size:"sm",variant:"outline",className:"h-8 w-8 p-0 ml-2 flex-shrink-0",onClick:async ee=>{var ae,oe,be,we;ee.stopPropagation();try{const xe=(ae=te.customer_details)==null?void 0:ae.id;if(xe)window.location.href=`/vendor/messages?start_conversation=${xe}&customer_name=${encodeURIComponent(((oe=te.customer_details)==null?void 0:oe.username)||te.delivery_name)}&order_id=${te.id}`;else{const re=((be=te.customer_details)==null?void 0:be.phone_number)||te.delivery_phone,Se=((we=te.customer_details)==null?void 0:we.username)||te.delivery_name;window.location.href=`/vendor/messages?customer_phone=${encodeURIComponent(re)}&customer_name=${encodeURIComponent(Se)}&order_id=${te.id}`}}catch(xe){console.error("Error opening conversation:",xe)}},children:n.jsx(Ro,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Kt,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:te.delivery_address})]}),te.status==="delivered"&&te.review&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(cn,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),n.jsxs("span",{className:"text-yellow-600 font-medium text-xs",children:["Rated ",te.review.overall_rating,"/5"]})]}),((me=te.refunds)==null?void 0:me.length)>0&&n.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-2 mt-2",children:te.refunds.map(ee=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ii,{className:"h-4 w-4 text-orange-500"}),n.jsx("span",{className:"text-orange-700 font-medium text-xs capitalize",children:ee.reason.replace("_"," ")})]}),n.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${ee.status==="requested"?"bg-yellow-100 text-yellow-800":ee.status==="approved"?"bg-green-100 text-green-800":ee.status==="rejected"?"bg-red-100 text-red-800":ee.status==="appeal"?"bg-purple-100 text-purple-800":ee.status==="processed"?"bg-blue-100 text-blue-800":ee.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:ee.status.charAt(0).toUpperCase()+ee.status.slice(1)})]},ee.id))}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(te.total_amount).toFixed(2)]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(te),children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"View"]}),te.status==="pending"&&n.jsx(ne,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async ee=>{ee.stopPropagation();try{const{response:ae}=await Be(`/orders/${te.id}/accept/`,{method:"POST"});ae.ok&&(F(),r(oe=>Math.max(0,oe-1)),window.dispatchEvent(new CustomEvent("walletUpdated")))}catch(ae){console.error("Error accepting order:",ae)}},children:"Accept"}),te.status==="confirmed"&&n.jsx(ne,{size:"sm",className:"h-7 text-xs bg-blue-600 hover:bg-blue-700",onClick:ee=>{ee.stopPropagation(),t(te),a(!0)},children:"Ship"}),te.status==="out_for_delivery"&&n.jsx(ne,{size:"sm",className:"h-7 text-xs bg-green-600 hover:bg-green-700",onClick:async ee=>{ee.stopPropagation();try{const{response:ae}=await Be(`/vendor/orders/${te.id}/status/`,{method:"POST",body:JSON.stringify({status:"delivered",notes:"Marked as delivered by vendor"})});ae.ok&&F()}catch(ae){console.error("Error marking as delivered:",ae)}},children:"Delivered"})]})]})]})]})};return n.jsx(qt,{title:"Orders",children:n.jsxs("div",{className:"bg-gray-50 min-h-screen pb-20 max-w-full overflow-x-hidden",children:[k?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading..."})]}):N.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Tt,{className:"h-8 w-8 text-gray-400"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),n.jsx("p",{className:"text-gray-500",children:"Orders will appear here when customers place them."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("div",{className:"flex gap-3 pb-2",children:[n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center border-l-4 border-blue-500",children:[n.jsx("p",{className:"text-xl font-bold text-blue-600",children:N.filter(te=>te.status==="pending").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"New Orders"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-yellow-600",children:N.filter(te=>te.status==="out_for_delivery").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Shipped"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(te=>te.status==="confirmed").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Confirmed"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-green-600",children:N.filter(te=>te.status==="delivered").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Delivered"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.filter(te=>te.status==="cancelled").length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Cancelled"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-orange-600",children:N.filter(te=>{var ve;return((ve=te.refunds)==null?void 0:ve.length)>0}).length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Returns"})]}),n.jsxs("div",{className:"min-w-[120px] bg-white rounded-lg p-3 text-center",children:[n.jsx("p",{className:"text-xl font-bold text-gray-600",children:N.length}),n.jsx("p",{className:"text-xs text-gray-600",children:"Total"})]})]})})}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-100",children:n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),n.jsxs(Ni,{value:w,onValueChange:te=>{x(te),_(1)},className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-100 overflow-x-auto scrollbar-hide",children:n.jsxs(Vr,{className:"flex w-max bg-transparent h-auto p-2 gap-3",children:[n.jsxs(Ct,{value:"all",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["All ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.length,")"]})]}),n.jsxs(Ct,{value:"new",className:"text-xs py-2 px-3 data-[state=active]:bg-blue-50 data-[state=active]:text-blue-600 data-[state=active]:border-b-2 data-[state=active]:border-blue-600 rounded-none whitespace-nowrap flex-shrink-0",children:["New ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>te.status==="pending").length,")"]})]}),n.jsxs(Ct,{value:"confirmed",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Confirmed ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>te.status==="confirmed").length,")"]})]}),n.jsxs(Ct,{value:"pending",className:"text-xs py-2 px-3 data-[state=active]:bg-yellow-50 data-[state=active]:text-yellow-600 data-[state=active]:border-b-2 data-[state=active]:border-yellow-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Shipped ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>te.status==="out_for_delivery").length,")"]})]}),n.jsxs(Ct,{value:"delivered",className:"text-xs py-2 px-3 data-[state=active]:bg-green-50 data-[state=active]:text-green-600 data-[state=active]:border-b-2 data-[state=active]:border-green-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Delivered ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>te.status==="delivered").length,")"]})]}),n.jsxs(Ct,{value:"returns",className:"text-xs py-2 px-3 data-[state=active]:bg-orange-50 data-[state=active]:text-orange-600 data-[state=active]:border-b-2 data-[state=active]:border-orange-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Returns ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>{var ve;return((ve=te.refunds)==null?void 0:ve.length)>0}).length,")"]})]}),n.jsxs(Ct,{value:"cancelled",className:"text-xs py-2 px-3 data-[state=active]:bg-gray-50 data-[state=active]:text-gray-600 data-[state=active]:border-b-2 data-[state=active]:border-gray-600 rounded-none whitespace-nowrap flex-shrink-0",children:["Cancelled ",n.jsxs("span",{className:"font-bold ml-2",children:["(",N.filter(te=>te.status==="cancelled").length,")"]})]})]})}),n.jsxs(lt,{value:"all",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(N).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:N})]}),n.jsxs(lt,{value:"new",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(K("new")).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:K("new")})]}),n.jsxs(lt,{value:"confirmed",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(K("confirmed")).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:K("confirmed")})]}),n.jsxs(lt,{value:"pending",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(K("pending")).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:K("pending")})]}),n.jsxs(lt,{value:"delivered",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(K("delivered")).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:K("delivered")})]}),n.jsx(lt,{value:"returns",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:N.filter(te=>{var ve;return((ve=te.refunds)==null?void 0:ve.length)>0}).map(te=>{var ve,Ce;return n.jsxs("div",{className:"p-4 bg-white cursor-pointer hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:te.order_number})}),n.jsxs(De,{className:"bg-orange-100 text-orange-800 flex items-center gap-1 text-xs px-2 py-1",children:[n.jsx(ii,{className:"h-3 w-3"}),"Return Request"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:((ve=te.customer_details)==null?void 0:ve.username)||te.delivery_name})]}),(Ce=te.refunds)==null?void 0:Ce.map(he=>{var je;return n.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Return Reason:"}),n.jsx(De,{className:`text-xs ${he.status==="requested"?"bg-yellow-100 text-yellow-800":he.status==="approved"?"bg-green-100 text-green-800":he.status==="rejected"?"bg-red-100 text-red-800":he.status==="appeal"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:he.status.charAt(0).toUpperCase()+he.status.slice(1)})]}),n.jsx("p",{className:"text-xs text-gray-700 capitalize",children:he.reason.replace("_"," ")}),he.customer_notes&&n.jsxs("p",{className:"text-xs text-gray-600",children:['"',he.customer_notes,'"']}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Amount:"})," ",he.requested_amount]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",he.refund_method]}),he.status==="requested"&&n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx(ne,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{const _e=prompt("Reason for rejection:");if(_e)try{const{response:de}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:_e})});de.ok&&F()}catch(de){console.error("Error rejecting return:",de)}},children:"Reject"}),n.jsx(ne,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:_e}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:he.requested_amount,admin_notes:"Return approved by vendor"})});_e.ok&&F()}catch(_e){console.error("Error approving return:",_e)}},children:"Approve"})]}),he.status==="approved"&&n.jsxs("div",{className:"bg-green-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-green-800 font-medium mb-2",children:"Return Approved - Process Refund"}),n.jsx(ne,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",onClick:async()=>{try{const{response:_e}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"process",admin_notes:"Money transferred to customer"})});_e.ok&&F()}catch(_e){console.error("Error processing refund:",_e)}},children:"Process Refund (Transfer Money)"})]}),he.status==="processed"&&n.jsxs("div",{className:"bg-blue-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-blue-800 font-medium mb-2",children:"Money Transferred - Upload Proof"}),n.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:async _e=>{const de=_e.target.files[0];if(!de)return;const me=new FormData;me.append("document",de);try{const{response:ee}=await Be(`/refunds/${he.id}/upload-document/`,{method:"POST",body:me});ee.ok&&F()}catch(ee){console.error("Error uploading document:",ee)}},className:"w-full text-xs mb-2"}),n.jsx(ne,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:_e}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"complete",admin_notes:"Refund completed successfully"})});_e.ok&&F()}catch(_e){console.error("Error completing refund:",_e)}},children:"Mark as Completed"})]}),he.status==="appeal"&&n.jsxs("div",{className:"bg-purple-50 p-2 rounded mt-2",children:[n.jsx("p",{className:"text-xs text-purple-800 font-medium",children:"Customer has appealed this decision"}),n.jsxs("div",{className:"flex gap-2 mt-2",children:[n.jsx(ne,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:async()=>{try{const{response:_e}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",admin_notes:"Appeal rejected - final decision"})});_e.ok&&F()}catch(_e){console.error("Error rejecting appeal:",_e)}},children:"Reject Appeal"}),n.jsx(ne,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",onClick:async()=>{try{const{response:_e}=await Be(`/admin/refunds/${he.id}/process/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",approved_amount:he.requested_amount,admin_notes:"Appeal approved - refund processed"})});_e.ok&&F()}catch(_e){console.error("Error approving appeal:",_e)}},children:"Approve Appeal"})]})]}),((je=he.evidence_photos)==null?void 0:je.length)>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs font-medium mb-1",children:"Evidence Documents:"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:he.evidence_photos.map((_e,de)=>{var ae;const me=(ae=_e.filename)==null?void 0:ae.match(/\.(jpg|jpeg|png|gif|webp)$/i);let ee;return _e.filename.startsWith("http")?ee=_e.filename:_e.filename.startsWith("/media/")?ee=`${ws.BASE_URL}${_e.filename}`:ee=`${ws.BASE_URL}/media/${_e.filename}`,n.jsxs("div",{className:"bg-blue-100 p-2 rounded text-xs cursor-pointer hover:bg-blue-200 transition-colors flex items-center gap-1",onClick:()=>{me?(A(ee),E(!0)):window.open(ee,"_blank")},children:[me?n.jsx(Sn,{className:"h-3 w-3 text-blue-600"}):n.jsx(Tt,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-blue-800",children:_e.filename||`Document ${de+1}`})]},de)})})]}),he.admin_notes&&n.jsxs("div",{className:"text-xs text-gray-600 mt-2",children:[n.jsx("span",{className:"font-medium",children:"Response:"})," ",he.admin_notes]})]},he.id)}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsxs("span",{className:"font-semibold text-lg text-emerald-600",children:["",parseFloat(te.total_amount).toFixed(2)]}),n.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>t(te),children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"View Details"]})]})]})]},te.id)})})}),n.jsxs(lt,{value:"cancelled",className:"mt-0",children:[n.jsx("div",{className:"divide-y divide-gray-100",children:B(K("cancelled")).map(te=>n.jsx(W,{order:te},te.id))}),n.jsx(Z,{orders:K("cancelled")})]})]})]})})]}),n.jsx(Os,{open:!!e,onOpenChange:()=>t(null),children:n.jsxs(vs,{side:"bottom",className:"h-[90vh] rounded-t-xl",children:[n.jsx(xs,{className:"pb-4",children:n.jsx(ys,{className:"text-left",children:(e==null?void 0:e.status)==="confirmed"&&i?"Ship Order":`Order Details - ${e==null?void 0:e.id}`})}),e&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[e.status==="confirmed"&&i?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"Customer Details for Rider"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ve,Ce,he;const te=`Order ID: ${e.order_number}

Customer: ${((ve=e.customer_details)==null?void 0:ve.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((he=e.items)==null?void 0:he.map(je=>` ${je.product_name} x${je.quantity}`).join(`
`))||""}`;navigator.clipboard.writeText(te)},children:[n.jsx(kD,{className:"h-3 w-3 mr-1"}),"Copy"]}),n.jsxs(ne,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{var ve,Ce,he;const te=`Order ID: ${e.order_number}

Customer: ${((ve=e.customer_details)==null?void 0:ve.username)||e.delivery_name}

Phone: ${((Ce=e.customer_details)==null?void 0:Ce.phone_number)||e.delivery_phone}

Address: ${e.delivery_address}

Map Link: https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}

Total Amount: ${e.total_amount}

Payment: ${e.payment_method} (${e.payment_status})

Items:
${((he=e.items)==null?void 0:he.map(je=>` ${je.product_name} x${je.quantity}`).join(`
`))||""}`;if(navigator.share)navigator.share({title:"Delivery Details",text:te});else{const je=`https://wa.me/?text=${encodeURIComponent(te)}`;window.open(je,"_blank")}},children:[n.jsx(Ho,{className:"h-3 w-3 mr-1"}),"Share"]})]})]}),n.jsxs("div",{className:"space-y-2 text-xs bg-white rounded p-3",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Order ID:"})," ",e.order_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Customer:"})," ",((X=e.customer_details)==null?void 0:X.username)||e.delivery_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",((V=e.customer_details)==null?void 0:V.phone_number)||e.delivery_phone]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Map Link:"})," ",n.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline",children:"Open in Maps"})]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",e.total_amount]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Payment:"})," ",e.payment_method," (",e.payment_status,")"]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"font-medium",children:"Items:"}),n.jsx("ul",{className:"ml-2 mt-1",children:((H=e.items)==null?void 0:H.map((te,ve)=>n.jsxs("li",{children:[" ",te.product_name," x",te.quantity]},ve)))||[]})]})]})]}),n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(Hl,{className:"h-4 w-4"}),"Delivery Information"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsxs(ue,{className:"text-xs font-medium text-gray-700",children:["Rider Phone Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{value:o,onChange:te=>c(te.target.value),placeholder:"+977-98XXXXXXXX",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(ue,{className:"text-xs font-medium text-gray-700",children:["Vehicle Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{value:d,onChange:te=>h(te.target.value),placeholder:"e.g., BA-1-PA-1234",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs font-medium text-gray-700",children:"Vehicle Color"}),n.jsx(ge,{value:f,onChange:te=>m(te.target.value),placeholder:"e.g., Red, Blue, White",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(ue,{className:"text-xs font-medium text-gray-700",children:["Estimated Delivery Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{value:u,onChange:te=>p(te.target.value),placeholder:"e.g., 30-45 mins",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsxs(ue,{className:"text-xs font-medium text-gray-700",children:["Delivery Fee ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(ge,{type:"number",value:y,onChange:te=>v(te.target.value),placeholder:"e.g., 50",className:"h-8 text-xs mt-1"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Or,{className:"h-4 w-4"}),"Customer Information"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",((se=e.customer_details)==null?void 0:se.username)||e.delivery_name]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Xu,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Phone:"})," ",((Q=e.customer_details)==null?void 0:Q.phone_number)||e.delivery_phone]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Address:"})," ",e.delivery_address]}),n.jsxs("p",{className:"flex items-center gap-1",children:[n.jsx(Kt,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:"Map:"}),n.jsx("a",{href:`https://www.google.com/maps/place/${e.delivery_latitude},${e.delivery_longitude}`,target:"_blank",className:"text-blue-600 underline text-xs",children:"View Location"})]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(Tt,{className:"h-4 w-4"}),"Order Items"]}),n.jsx("div",{className:"space-y-2",children:((ie=e.items)==null?void 0:ie.map((te,ve)=>{var Ce,he,je;return n.jsxs("div",{className:"flex justify-between items-center py-1 border-b border-gray-100 last:border-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded flex items-center justify-center overflow-hidden flex-shrink-0",children:(je=(he=(Ce=te.product_details)==null?void 0:Ce.images)==null?void 0:he[0])!=null&&je.image_url?n.jsx("img",{src:as(te.product_details.images[0].image_url),alt:te.product_name,className:"w-full h-full object-cover",loading:"lazy",onError:_e=>{_e.currentTarget.style.display="none",_e.currentTarget.parentElement.innerHTML='<span class="text-xs text-gray-400"></span>'}}):n.jsx("span",{className:"text-xs text-gray-400",children:""})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:te.product_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",te.quantity]})]})]}),n.jsxs("p",{className:"text-sm font-semibold flex-shrink-0",children:["",te.total_price]})]},ve)}))||[]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(to,{className:"h-4 w-4"}),"Payment Details"]}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",e.subtotal]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Delivery Fee:"}),n.jsxs("span",{children:["",e.delivery_fee]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Tax:"}),n.jsxs("span",{children:["",e.tax_amount]})]}),n.jsx("hr",{className:"my-1"}),n.jsxs("div",{className:"flex justify-between font-semibold",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["",e.total_amount]})]}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("span",{children:"Payment Method:"}),n.jsx("span",{className:"capitalize",children:e.payment_method})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Payment Status:"}),n.jsx(De,{variant:e.payment_status==="paid"?"default":"secondary",className:"text-xs",children:e.payment_status})]})]})]}),n.jsxs("div",{className:"bg-white border rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[n.jsx(bD,{className:"h-4 w-4"}),"Order Timeline"]}),n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Ordered:"})," ",new Date(e.created_at).toLocaleDateString()," at ",new Date(e.created_at).toLocaleTimeString()]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Order Number:"})," ",e.order_number]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Status:"}),n.jsx(De,{className:`${G(e.status)} text-xs`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})]}),e.status==="delivered"&&e.review&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(cn,{className:"h-4 w-4"}),"Customer Review"]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(te=>n.jsx(cn,{className:`h-4 w-4 ${te<=e.review.overall_rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},te))}),n.jsxs("span",{className:"text-sm font-medium",children:[e.review.overall_rating,"/5"]})]}),e.review.review_text&&n.jsx("div",{className:"bg-white p-2 rounded text-xs",children:n.jsx("p",{className:"text-gray-700",children:e.review.review_text})}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Reviewed on ",new Date(e.review.created_at).toLocaleDateString()]})]})]}),e.status==="cancelled"&&e.cancelReason&&n.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(rN,{className:"h-4 w-4"}),"Cancellation Details"]}),n.jsxs("div",{className:"space-y-2 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600",children:e.cancelReason})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Cancelled By:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:e.cancelledBy||"System"})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-1",children:"Payment Status:"}),n.jsx(De,{className:`text-xs ${e.paymentStatus==="Refunded"?"bg-green-100 text-green-800":e.paymentStatus==="Cancelled"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:e.paymentStatus})]})]})]}),((fe=e.refunds)==null?void 0:fe.map(te=>{var ve;return n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:[n.jsxs("h3",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(ii,{className:"h-4 w-4"}),"Return/Refund Details"]}),n.jsxs("div",{className:"space-y-3 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Status:"}),n.jsx(De,{className:`text-xs ${te.status==="requested"?"bg-yellow-100 text-yellow-800":te.status==="approved"?"bg-green-100 text-green-800":te.status==="rejected"?"bg-red-100 text-red-800":te.status==="appeal"?"bg-purple-100 text-purple-800":te.status==="processed"?"bg-blue-100 text-blue-800":te.status==="completed"?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Reason:"}),n.jsx("p",{className:"text-gray-600 capitalize",children:te.reason.replace("_"," ")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Requested Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",te.requested_amount]})]}),te.approved_amount&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Approved Amount:"}),n.jsxs("p",{className:"text-gray-600",children:["",te.approved_amount]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2",children:[n.jsx("p",{className:"font-medium text-blue-800 mb-2",children:"Customer Refund Details:"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Method:"})," ",te.refund_method]}),te.refund_method==="esewa"&&te.esewa_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"eSewa Number:"})," ",te.esewa_number]}),te.refund_method==="khalti"&&te.khalti_number&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Khalti Number:"})," ",te.khalti_number]}),te.refund_method==="bank"&&n.jsxs("div",{children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Name:"})," ",te.bank_account_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Account Number:"})," ",te.bank_account_number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Branch:"})," ",te.bank_branch]})]})]})]}),te.customer_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Customer Notes:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:te.customer_notes})]}),te.admin_notes&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700",children:"Vendor Response:"}),n.jsx("p",{className:"text-gray-600 bg-white p-2 rounded",children:te.admin_notes})]}),((ve=te.evidence_photos)==null?void 0:ve.length)>0&&n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Evidence Documents:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:te.evidence_photos.map((Ce,he)=>{var de;const je=(de=Ce.filename)==null?void 0:de.match(/\.(jpg|jpeg|png|gif|webp)$/i);let _e;return Ce.filename.startsWith("http")?_e=Ce.filename:_e=as(Ce.filename),n.jsxs("div",{className:"bg-white p-2 rounded border hover:shadow-md transition-shadow",children:[je?n.jsxs("div",{className:"cursor-pointer mb-2 group",onClick:()=>{A(_e),E(!0)},children:[n.jsxs("div",{className:"relative overflow-hidden rounded",children:[n.jsx("img",{src:_e,alt:Ce.filename,className:"w-full h-20 object-cover rounded mb-1 group-hover:scale-105 transition-transform",onError:me=>{me.currentTarget.src="/placeholder-image.svg",me.currentTarget.alt="Image not found"}}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all flex items-center justify-center",children:n.jsx(Sn,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),n.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Click to enlarge"})]}):n.jsx("div",{className:"w-full h-20 bg-gray-100 rounded mb-2 flex items-center justify-center cursor-pointer hover:bg-gray-200 transition-colors",onClick:()=>{window.open(_e,"_blank")},children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"h-6 w-6 text-gray-400 mx-auto mb-1"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Document"})]})}),n.jsx("p",{className:"font-medium text-xs truncate",title:Ce.filename,children:Ce.filename||`Document ${he+1}`}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",Ce.uploaded_by]}),n.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date(Ce.uploaded_at).toLocaleDateString()]})]},he)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[n.jsx("div",{children:n.jsxs("p",{children:["Requested: ",new Date(te.requested_at).toLocaleDateString()]})}),te.approved_at&&n.jsx("div",{children:n.jsxs("p",{children:["Approved: ",new Date(te.approved_at).toLocaleDateString()]})}),te.processed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Processed: ",new Date(te.processed_at).toLocaleDateString()]})}),te.completed_at&&n.jsx("div",{children:n.jsxs("p",{children:["Completed: ",new Date(te.completed_at).toLocaleDateString()]})}),te.appeal_at&&n.jsx("div",{children:n.jsxs("p",{children:["Appealed: ",new Date(te.appeal_at).toLocaleDateString()]})})]})]})]},te.id)}))||[]]}),e.status==="new"&&n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:[n.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>t(null),children:"Reject"}),n.jsx(ne,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>{U(e.id,"confirmed"),r(te=>Math.max(0,te-1)),t(null)},children:"Accept Order"})]}),e.status==="confirmed"&&n.jsx("div",{className:"fixed bottom-4 left-4 right-4 flex gap-2",children:i?n.jsxs(n.Fragment,{children:[n.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>{a(!1),c(""),h(""),m(""),p(""),v("")},children:"Cancel"}),n.jsx(ne,{className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:!o||!d||!u||!y,onClick:async()=>{try{const{response:te}=await Be(`/vendor/orders/${e.id}/status/`,{method:"POST",body:JSON.stringify({status:"out_for_delivery",delivery_boy_phone:o,vehicle_number:d,vehicle_color:f,estimated_delivery_time:u,delivery_fee:parseFloat(y),notes:"Order shipped with delivery details"})});te.ok&&(F(),a(!1),c(""),h(""),m(""),p(""),v(""),t(null))}catch(te){console.error("Error shipping order:",te)}},children:"Confirm Ship"})]}):n.jsxs(ne,{className:"flex-1 bg-blue-600 hover:bg-blue-700",onClick:()=>a(!0),children:[n.jsx(Hl,{className:"h-4 w-4 mr-2"}),"Ship Order"]})})]})]})}),n.jsx(Fo,{open:R,onOpenChange:E,children:n.jsxs(Da,{className:"max-w-5xl max-h-[95vh] p-4",children:[n.jsx(Fa,{className:"pb-4",children:n.jsxs($a,{className:"flex items-center gap-2",children:[n.jsx(Sn,{className:"h-5 w-5"}),"Evidence Document Preview"]})}),n.jsx("div",{className:"flex justify-center items-center bg-gray-50 rounded-lg p-4",children:n.jsx("img",{src:T,alt:"Evidence Preview",className:"max-w-full max-h-[75vh] object-contain rounded shadow-lg",onError:te=>{te.currentTarget.src="/placeholder-image.svg",te.currentTarget.alt="Image not found"}})}),n.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>window.open(T,"_blank"),children:[n.jsx(Ho,{className:"h-4 w-4 mr-2"}),"Open in New Tab"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{const te=document.createElement("a");te.href=T,te.download="evidence-document",te.click()},children:[n.jsx(Tt,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})})]})})},xl={getProducts:async()=>{const{response:e,data:t}=await Be("/products/");if(!e.ok)throw new Error("Failed to fetch products");return t},getProduct:async e=>{const{response:t,data:s}=await Be(`/products/${e}/`);if(!t.ok)throw new Error("Failed to fetch product");return s},createProduct:async e=>{const t=new FormData;Object.entries(e).forEach(([i,a])=>{i==="image_files"&&Array.isArray(a)?a.forEach((o,c)=>{o instanceof File&&t.append("image_files",o)}):typeof a=="object"?t.append(i,JSON.stringify(a)):t.append(i,String(a))});const{response:s,data:r}=await Be("/products/",{method:"POST",body:t});if(!s.ok)throw new Error("Failed to create product");return r},updateProduct:async(e,t)=>{const s=new FormData;Object.entries(t).forEach(([a,o])=>{a==="image_files"&&Array.isArray(o)?o.forEach(c=>{c instanceof File&&s.append("image_files",c)}):typeof o=="boolean"?s.append(a,o?"true":"false"):typeof o=="object"&&o!==null?s.append(a,JSON.stringify(o)):o!=null&&s.append(a,String(o))});const{response:r,data:i}=await Be(`/products/${e}/`,{method:"PATCH",body:s});if(!r.ok)throw console.error("Update failed:",r.status),new Error(`Failed to update product: ${r.status}`);return i},deleteProduct:async e=>{const{response:t}=await Be(`/products/${e}/`,{method:"DELETE"});if(!t.ok)throw new Error("Failed to delete product")}},Hne=({message:e,show:t,onClose:s,duration:r=3e3})=>{const[i,a]=j.useState(!1);return j.useEffect(()=>{if(t){a(!0);const o=setTimeout(()=>{a(!1),setTimeout(s,300)},r);return()=>clearTimeout(o)}},[t,r,s]),!t&&!i?null:n.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center pointer-events-none transition-all duration-300 ${i?"opacity-100":"opacity-0"}`,children:[n.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl border border-green-200 p-6 mx-4 max-w-sm w-full pointer-events-auto transform transition-all duration-300 ${i?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Ku,{className:"h-6 w-6 text-green-600"})})}),n.jsx("div",{className:"flex-1",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Success!"})})]}),n.jsx("button",{onClick:()=>{a(!1),setTimeout(s,300)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(is,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"text-gray-600 text-center",children:e}),n.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:"bg-green-500 h-1 rounded-full transition-all duration-300 ease-linear",style:{animation:i?`shrink ${r}ms linear`:"none"}})})]}),n.jsx("style",{jsx:!0,children:`
        @keyframes shrink {
          from { width: 100%; }
          to { width: 0%; }
        }
      `})]})},Wne=c4({name:jn().min(1,"Product name is required"),category:jn().min(1,"Category is required"),subcategory:jn().optional(),price:zi().min(0,"Price must be positive"),cost_price:zi().nullable().optional().transform(e=>e===void 0?null:e),sku:jn().optional(),barcode:jn().optional(),quantity:zi().min(0,"Quantity must be positive"),low_stock_threshold:zi().min(0).optional(),description:jn().min(1,"Description is required"),short_description:jn().optional(),tags:Em(jn()).default([]),image_files:Em(Wy()).min(1,"At least one image is required"),status:u4(["active","draft","archived"]).default("active"),featured:eu().default(!1),free_delivery:eu().default(!1),seo_title:jn().optional(),seo_description:jn().optional(),dynamic_fields:d4(Wy()).default({})}),Zne=()=>{const e=rt(),[t,s]=j.useState(""),[r,i]=j.useState([]),[a,o]=j.useState([]),[c,d]=j.useState([]),[h,f]=j.useState(""),[m,u]=j.useState(!1),[p,y]=j.useState(!1),[v,w]=j.useState(""),[x,b]=j.useState([]),[_,N]=j.useState([]),[C,I]=j.useState(!1),k=s4({resolver:i4(Wne),defaultValues:{name:"",category:"",price:"",cost_price:null,quantity:"",description:"",tags:[],image_files:[],status:"active",featured:!1,free_delivery:!1,dynamic_fields:{}}}),{control:P,handleSubmit:R,watch:E,setValue:T,formState:{errors:A}}=k,$=E("category");j.useEffect(()=>{s($),T("subcategory",""),$?O($,!1):N([])},[$,T]);const O=async(M,z=!1)=>{try{I(!0);const{apiRequest:Z}=await Je(async()=>{const{apiRequest:V}=await Promise.resolve().then(()=>Zn);return{apiRequest:V}},void 0),{response:W,data:X}=await Z(`categories/${encodeURIComponent(M)}/subcategories/`);if(W.ok&&X){const V=X.subcategories||[];N(V),z&&V.length>0&&T("subcategory",V[0])}else N([])}catch(Z){console.error("Error fetching subcategories:",Z),N([])}finally{I(!1)}};j.useEffect(()=>{(async()=>{try{const{apiRequest:z}=await Je(async()=>{const{apiRequest:X}=await Promise.resolve().then(()=>Zn);return{apiRequest:X}},void 0),{response:Z,data:W}=await z("/vendor-profiles/");if(console.log("Vendor profile response:",{response:Z.ok,data:W}),Z.ok&&W&&W.results&&W.results.length>0){const V=W.results[0].categories||[];if(console.log("Vendor categories:",V),b(V),V.length>0){const H=V[0];T("category",H),s(H),O(H,!0)}}}catch(z){console.error("Error fetching vendor profile:",z)}})()},[T]);const F=M=>{const z=M.target.files;if(z){const Z=Array.from(z),W=Z.map(X=>URL.createObjectURL(X));i(X=>[...X,...Z]),o(X=>[...X,...W]),T("image_files",[...r,...Z])}},G=M=>{URL.revokeObjectURL(a[M]);const z=r.filter((W,X)=>X!==M),Z=a.filter((W,X)=>X!==M);i(z),o(Z),T("image_files",z)},Y=()=>{if(h.trim()&&!c.includes(h.trim())){const M=[...c,h.trim()];d(M),T("tags",M),f("")}},K=M=>{const z=c.filter(Z=>Z!==M);d(z),T("tags",z)},U=async M=>{try{const z={...M};if((z.cost_price===null||z.cost_price===void 0)&&delete z.cost_price,await xl.createProduct(z),w("Product created successfully!"),y(!0),k.reset(),a.forEach(Z=>URL.revokeObjectURL(Z)),i([]),o([]),d([]),x.length>0){const W={Clothing:"clothing",Electronics:"electronics",Food:"food",Baby:"baby",Grocery:"grocery",Meat:"meat",Medicine:"medicine"}[x[0]]||x[0].toLowerCase();T("category",W),s(W)}}catch(z){Hn.error("Failed to create product. Please try again."),console.error("Error creating product:",z)}},B=M=>{const z=`dynamic_fields.${M.name}`;switch(M.type){case"text":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>n.jsx(ge,{...Z,placeholder:M.placeholder,className:"h-8 text-xs"})})]},M.name);case"number":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>n.jsx(ge,{...Z,type:"number",placeholder:M.placeholder,className:"h-8 text-xs",onChange:W=>Z.onChange(Number(W.target.value))})})]},M.name);case"select":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>{var W;return n.jsxs(Vt,{onValueChange:Z.onChange,value:Z.value,children:[n.jsx(zt,{className:"h-8 text-xs",children:n.jsx(Ut,{placeholder:`Select ${M.label.toLowerCase()}`})}),n.jsx(Bt,{children:(W=M.options)==null?void 0:W.map(X=>n.jsx(We,{value:X,className:"text-xs",children:X},X))})]})}})]},M.name);case"multiselect":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>{var X;const W=Z.value||[];return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Vt,{onValueChange:V=>{W.includes(V)||Z.onChange([...W,V])},children:[n.jsx(zt,{className:"h-8 text-xs",children:n.jsx(Ut,{placeholder:`Select ${M.label.toLowerCase()}`})}),n.jsx(Bt,{children:(X=M.options)==null?void 0:X.map(V=>n.jsx(We,{value:V,className:"text-xs",children:V},V))})]}),n.jsx("div",{className:"flex flex-wrap gap-1",children:W.map(V=>n.jsxs(De,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[V,n.jsx(is,{className:"h-2 w-2 cursor-pointer",onClick:()=>{Z.onChange(W.filter(H=>H!==V))}})]},V))})]})}})]},M.name);case"textarea":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>n.jsx(Kn,{...Z,placeholder:M.placeholder,className:"text-xs",rows:2})})]},M.name);case"boolean":return n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:z,control:P,render:({field:Z})=>n.jsx(Zt,{checked:Z.value,onCheckedChange:Z.onChange})}),n.jsx(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:M.label})]},M.name);case"date":return n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:M.name,className:"text-xs font-medium text-gray-700",children:[M.label," ",M.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:z,control:P,rules:{required:M.required},render:({field:Z})=>n.jsx(ge,{...Z,type:"date",className:"h-8 text-xs"})})]},M.name);default:return null}};return m?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Product Preview"})]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>u(!1),children:"Edit"})]})}),n.jsx(L4,{productData:E()})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>e("/vendor/dashboard"),children:n.jsx(Yt,{className:"h-4 w-4"})}),n.jsx("h1",{className:"text-lg font-semibold",children:"Add New Product"})]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[n.jsx(Sn,{className:"h-4 w-4 mr-1"}),"Preview"]})]})}),n.jsx("div",{className:"max-w-2xl mx-auto p-4",children:n.jsxs("form",{onSubmit:R(U),className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Tt,{className:"h-4 w-4 text-blue-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Basic Information"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"col-span-2 space-y-1",children:[n.jsxs(ue,{htmlFor:"name",className:"text-xs font-medium text-gray-700",children:["Product Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"name",control:P,render:({field:M})=>n.jsx(ge,{...M,placeholder:"Enter product name",className:"h-8 text-xs"})}),A.name&&n.jsx("p",{className:"text-red-500 text-xs",children:A.name.message})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:"category",className:"text-xs font-medium text-gray-700",children:["Category ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"category",control:P,render:({field:M})=>n.jsxs(Vt,{onValueChange:M.onChange,value:M.value,children:[n.jsx(zt,{className:"h-8 text-xs",children:n.jsx(Ut,{placeholder:"Select category"})}),n.jsx(Bt,{children:x.map(z=>n.jsx(We,{value:z,className:"text-xs",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:""}),n.jsx("span",{children:z})]})},z))})]})}),A.category&&n.jsx("p",{className:"text-red-500 text-xs",children:A.category.message})]}),_.length>0&&n.jsxs("div",{className:"space-y-1",children:[n.jsx(ue,{className:"text-xs font-medium text-gray-700",children:"Subcategory"}),n.jsx(bt,{name:"subcategory",control:P,render:({field:M})=>n.jsxs(Vt,{onValueChange:M.onChange,value:M.value,disabled:C,children:[n.jsx(zt,{className:"h-8 text-xs",children:n.jsx(Ut,{placeholder:C?"Loading...":"Select subcategory"})}),n.jsx(Bt,{children:_.map(z=>n.jsx(We,{value:z,className:"text-xs",children:z},z))})]})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ue,{className:"text-xs font-medium text-gray-700",children:"Unit"}),n.jsx(ge,{value:t?f2(t):"piece",disabled:!0,className:"h-8 text-xs bg-gray-50"})]})]})]}),t&&Er[t]&&n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(wE,{className:"h-4 w-4 text-green-600"}),n.jsx("span",{className:"mr-1",children:Er[t].icon}),n.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[Er[t].name," Details"]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:Er[t].fields.map(B)})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Pricing & Inventory"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:"price",className:"text-xs font-medium text-gray-700",children:["Selling Price ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"price",control:P,render:({field:M})=>n.jsx(ge,{...M,type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",onChange:z=>M.onChange(Number(z.target.value))})})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(ue,{htmlFor:"cost_price",className:"text-xs font-medium text-gray-700",children:"Cost Price"}),n.jsx(bt,{name:"cost_price",control:P,render:({field:M})=>n.jsx(ge,{type:"number",step:"0.01",placeholder:"0.00",className:"h-8 text-xs",value:M.value??"",onChange:z=>{const Z=z.target.value;M.onChange(Z?Number(Z):null)}})})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:"quantity",className:"text-xs font-medium text-gray-700",children:["Quantity ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"quantity",control:P,render:({field:M})=>n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{type:"number",placeholder:"0",className:"h-8 text-xs flex-1",value:M.value||"",onChange:z=>M.onChange(z.target.value?Number(z.target.value):"")}),n.jsx("span",{className:"text-xs text-gray-500 flex items-center px-2",children:t?f2(t):"piece"})]})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(bt,{name:"free_delivery",control:P,render:({field:M})=>n.jsx(Zt,{checked:M.value,onCheckedChange:M.onChange})}),n.jsx(ue,{className:"text-xs font-medium text-gray-700",children:"Free Delivery"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hi,{className:"h-4 w-4 text-purple-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Images"})]}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:F,className:"hidden",id:"image-upload"}),n.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[n.jsx(wu,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Click to upload images"})]})]}),a.length>0&&n.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.map((M,z)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:M,alt:`Product ${z+1}`,className:"w-full h-12 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>G(z),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:n.jsx(is,{className:"h-3 w-3"})}),z===0&&n.jsx(De,{className:"absolute bottom-0 left-0 text-xs px-1 py-0",children:"Main"})]},z))})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vE,{className:"h-4 w-4 text-orange-600"}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Description"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs(ue,{htmlFor:"description",className:"text-xs font-medium text-gray-700",children:["Description ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx(bt,{name:"description",control:P,render:({field:M})=>n.jsx(C4,{theme:"snow",value:M.value,onChange:M.onChange,modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},style:{minHeight:"120px",fontSize:"12px"}})}),A.description&&n.jsx("p",{className:"text-red-500 text-xs",children:A.description.message})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 space-y-3",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Product Tags"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{value:h,onChange:M=>f(M.target.value),placeholder:"Add a tag",className:"h-8 text-xs",onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),Y())}),n.jsx(ne,{type:"button",onClick:Y,variant:"outline",size:"sm",children:n.jsx(vn,{className:"h-3 w-3"})})]}),c.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(M=>n.jsxs(De,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[M,n.jsx(is,{className:"h-2 w-2 cursor-pointer",onClick:()=>K(M)})]},M))})]}),n.jsxs("div",{className:"flex gap-3 sticky bottom-4 bg-white p-3 border border-gray-200 rounded-lg",children:[n.jsx(ne,{type:"button",variant:"outline",className:"flex-1 h-9 text-xs",onClick:()=>{T("status","draft"),R(U)()},children:"Save as Draft"}),n.jsxs(ne,{type:"submit",className:"flex-1 h-9 text-xs",children:[n.jsx(Rc,{className:"h-3 w-3 mr-1"}),"Publish Product"]})]})]})}),n.jsx(Hne,{message:v,show:p,onClose:()=>y(!1),duration:3e3})]})},Gne=()=>{const[e,t]=j.useState(!1),[s,r]=j.useState("khalti"),[i,a]=j.useState(""),[o,c]=j.useState(!0),[d,h]=j.useState("all"),[f,m]=j.useState(""),[u,p]=j.useState(""),[y,v]=j.useState(null),[w,x]=j.useState([]),[b,_]=j.useState(!1),[N,C]=j.useState(!0),[I,k]=j.useState(!1),[P,R]=j.useState(null),[E,T]=j.useState(1),[A,$]=j.useState(1),[O,F]=j.useState(0),G=20,Y=async()=>{try{const{response:H,data:se}=await Be("accounts/wallet/");H.ok&&se?v(se):Hn.error("Failed to fetch wallet data")}catch(H){console.error("Error fetching wallet data:",H),Hn.error("Error loading wallet data")}finally{C(!1)}},K=async()=>{try{const H=new URLSearchParams({date_filter:d,page:E.toString(),page_size:G.toString()});d==="custom"&&f&&u&&(H.append("date_from",f),H.append("date_to",u));const{response:se,data:Q}=await Be(`accounts/wallet/transactions/?${H}`);se.ok&&Q?(x(Q.transactions),$(Q.total_pages),F(Q.total_count)):Hn.error("Failed to fetch transactions")}catch(H){console.error("Error fetching transactions:",H),Hn.error("Error loading transactions")}};j.useEffect(()=>{Y();const H=()=>{Y()};return window.addEventListener("walletUpdated",H),()=>{window.removeEventListener("walletUpdated",H)}},[]),j.useEffect(()=>{y&&K()},[y,d,E,f,u]),j.useEffect(()=>{const H=()=>{Y(),K()};return window.addEventListener("walletUpdated",H),()=>{window.removeEventListener("walletUpdated",H)}},[]),j.useEffect(()=>{const H=new URLSearchParams(window.location.search);if(H.get("payment_complete")==="1"){const se=H.get("pidx");se?U(se):(Hn.success("Payment completed successfully!"),Y()),window.history.replaceState({},document.title,window.location.pathname)}},[]);const U=async H=>{try{const{response:se,data:Q}=await Be("accounts/wallet/khalti-verify/",{method:"POST",body:JSON.stringify({pidx:H})});se.ok&&Q&&Q.success?(Hn.success(`Payment verified! Rs${Q.amount} added to wallet`),Y()):Hn.error((Q==null?void 0:Q.error)||"Payment verification failed")}catch(se){console.error("Error verifying payment:",se),Hn.error("Error verifying payment")}},B=async()=>{if(!s||!i)return;const{simplePersistentAuth:H}=await Je(async()=>{const{simplePersistentAuth:Q}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:Q}},[]);if(!await H.isVendorLoggedIn()){Hn.error("Please login to continue");return}if(_(!0),s==="khalti")try{const{response:Q,data:ie}=await Be("accounts/wallet/khalti-payment/",{method:"POST",body:JSON.stringify({amount:parseFloat(i)})});Q.ok&&ie&&ie.success?window.location.href=ie.payment_url:(Hn.error((ie==null?void 0:ie.error)||"Failed to initiate payment"),_(!1))}catch(Q){console.error("Error initiating payment:",Q),Hn.error("Error processing payment"),_(!1)}t(!1),a("")},M=()=>w.filter(H=>H.transaction_type==="credit").reduce((H,se)=>H+parseFloat(se.amount),0),z=()=>w.filter(H=>H.transaction_type==="debit").reduce((H,se)=>H+parseFloat(se.amount),0),Z=H=>new Date(H).toLocaleDateString(),W=H=>new Date(H).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),X=()=>{const se=`
===========================================
           WALLET TRANSACTION SUMMARY
===========================================
Generated: ${new Date().toLocaleDateString()}
Store: ${(y==null?void 0:y.business_name)||"N/A"}
Period: ${d==="custom"?`${f} to ${u}`:d.toUpperCase()}

BALANCE OVERVIEW
-------------------------------------------
Current Balance: Rs${(y==null?void 0:y.balance)||"0.00"}
Total Credit: Rs${M().toFixed(2)}
Total Debit: Rs${z().toFixed(2)}
Net Amount: Rs${(M()-z()).toFixed(2)}

TRANSACTION DETAILS (${w.length} transactions)
-------------------------------------------
${w.map(ie=>`${Z(ie.created_at)} ${W(ie.created_at)} | ${ie.transaction_type.toUpperCase().padEnd(6)} | Rs${parseFloat(ie.amount).toFixed(2).padStart(8)} | ${ie.description}`).join(`
`)}

===========================================
    `,Q=window.open("","_blank");Q==null||Q.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${se}</pre>`),Q==null||Q.print()},V=()=>{const H=[["Date","Time","Type","Amount","Description","Method","Status"].join(","),...w.map(fe=>[Z(fe.created_at),W(fe.created_at),fe.transaction_type,parseFloat(fe.amount).toFixed(2),`"${fe.description}"`,fe.payment_method||"N/A",fe.status].join(","))].join(`
`),se=new Blob([H],{type:"text/csv"}),Q=window.URL.createObjectURL(se),ie=document.createElement("a");ie.href=Q,ie.download=`wallet-transactions-${d}-${new Date().toISOString().split("T")[0]}.csv`,ie.click(),window.URL.revokeObjectURL(Q)};return n.jsx(qt,{title:"Wallet",children:n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 pb-20",children:[n.jsxs("div",{className:"bg-white border-b p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Jf,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"My Wallet"}),n.jsx("p",{className:"text-gray-600 text-sm",children:(y==null?void 0:y.business_name)||"Loading..."})]})]}),n.jsx(ne,{variant:"ghost",size:"sm",className:"text-gray-600 hover:bg-gray-100",onClick:()=>c(!o),children:o?n.jsx(Sn,{className:"h-4 w-4"}):n.jsx(J0,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 text-sm mb-1",children:"Available Balance"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-3",children:o?`${(y==null?void 0:y.balance)||"0.00"}`:"****.**"}),n.jsxs(ne,{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium",onClick:()=>t(!0),disabled:!0,children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add Money"]})]})]}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Pe,{className:"bg-white shadow-sm",children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx($r,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"This Month"}),n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["+",(y==null?void 0:y.total_earned)||"0.00"]})]})]})})}),n.jsx(Pe,{className:"bg-white shadow-sm",children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:n.jsx(jE,{className:"h-4 w-4 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Expenses"}),n.jsxs("p",{className:"text-sm font-bold text-red-600",children:["-",(y==null?void 0:y.total_spent)||"0.00"]})]})]})})})]})}),n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transactions"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:X,children:[n.jsx(sb,{className:"h-4 w-4 mr-1"}),"Print"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:V,children:[n.jsx(ql,{className:"h-4 w-4 mr-1"}),"Export"]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>k(!0),children:n.jsx(ji,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{key:"all",label:"All"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom"}].map(H=>n.jsx(ne,{variant:d===H.key?"default":"outline",size:"sm",className:"whitespace-nowrap",onClick:()=>h(H.key),children:H.label},H.key))})]}),n.jsx("div",{className:"px-4 space-y-2",children:N?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(xi,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Loading transactions..."})]}):w.length>0?w.map(H=>n.jsx(Pe,{className:"bg-white shadow-sm cursor-pointer hover:bg-gray-50",onClick:()=>R(H),children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${H.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:H.transaction_type==="credit"?n.jsx(xu,{className:"h-5 w-5 text-green-600"}):n.jsx(yu,{className:"h-5 w-5 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsxs("span",{children:[Z(H.created_at)," at ",W(H.created_at)]}),n.jsx(De,{variant:H.status==="completed"?"default":"secondary",className:"text-xs",children:H.status})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:`text-sm font-bold ${H.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[H.transaction_type==="credit"?"+":"-","",parseFloat(H.amount).toFixed(2)]}),n.jsx("p",{className:"text-xs text-gray-500",children:H.payment_method||"N/A"})]})]})})},H.id)):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Jf,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No transactions found"})]})}),A>1&&n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Showing ",(E-1)*G+1,"-",Math.min(E*G,O)," of ",O," transactions"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>T(E-1),disabled:E===1,className:"h-8 w-8 p-0",children:n.jsx(pE,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,A)},(H,se)=>{const Q=E<=3?se+1:E-2+se;return Q>A?null:n.jsx(ne,{variant:E===Q?"default":"outline",size:"sm",onClick:()=>T(Q),className:"h-8 w-8 p-0 text-xs",children:Q},Q)})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>T(E+1),disabled:E===A,className:"h-8 w-8 p-0",children:n.jsx(fc,{className:"h-4 w-4"})})]})]})}),n.jsx(Os,{open:e,onOpenChange:t,children:n.jsxs(vs,{side:"bottom",className:"h-[80vh] rounded-t-3xl",children:[n.jsx(xs,{className:"pb-6",children:n.jsx(ys,{className:"text-center text-xl",children:"Add Money to Wallet"})}),n.jsxs("div",{className:"space-y-6 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Enter Amount"}),n.jsx(ge,{type:"number",placeholder:" 0.00",value:i,onChange:H=>a(H.target.value),className:"h-12 text-lg text-center"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[500,1e3,2e3].map(H=>n.jsxs(ne,{variant:"outline",onClick:()=>a(H.toString()),className:"h-10",children:["",H]},H))})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Payment Method"}),n.jsx(Pe,{className:"cursor-pointer transition-all ring-2 ring-purple-500 bg-purple-50",onClick:()=>r("khalti"),children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(to,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Khalti"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Secure digital payment gateway"})]})]})})})]}),n.jsx("div",{className:"fixed bottom-4 left-4 right-4",children:n.jsx(ne,{className:"w-full h-12 text-lg font-medium",disabled:!s||!i||b,onClick:B,children:b?n.jsxs(n.Fragment,{children:[n.jsx(xi,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Add ${i||"0"}`})})]})]})}),n.jsx(Os,{open:I,onOpenChange:k,children:n.jsxs(vs,{side:"right",className:"w-full sm:w-80",children:[n.jsx(xs,{className:"pb-4",children:n.jsxs(ys,{className:"flex items-center justify-between",children:["Filter Transactions",n.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>k(!1),children:n.jsx(is,{className:"h-4 w-4"})})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"Date Range"}),n.jsx("div",{className:"space-y-2",children:[{key:"all",label:"All Time"},{key:"today",label:"Today"},{key:"week",label:"This Week"},{key:"custom",label:"Custom Range"}].map(H=>n.jsx(ne,{variant:d===H.key?"default":"outline",size:"sm",className:"w-full justify-start",onClick:()=>{h(H.key),T(1)},children:H.label},H.key))})]}),d==="custom"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs font-medium",children:"From Date"}),n.jsx(ge,{type:"date",value:f,onChange:H=>{m(H.target.value),T(1)},className:"h-9 text-sm mt-1"})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs font-medium",children:"To Date"}),n.jsx(ge,{type:"date",value:u,onChange:H=>{p(H.target.value),T(1)},className:"h-9 text-sm mt-1"})]})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("p",{children:["Total Transactions: ",O]}),n.jsxs("p",{children:["Total Credit: ",M().toFixed(2)]}),n.jsxs("p",{children:["Total Debit: ",z().toFixed(2)]}),n.jsxs("p",{className:"font-medium",children:["Net: ",(M()-z()).toFixed(2)]})]})})]})]})}),n.jsx(Os,{open:!!P,onOpenChange:()=>R(null),children:n.jsxs(vs,{side:"bottom",className:"h-[70vh] rounded-t-xl",children:[n.jsx(xs,{className:"pb-4",children:n.jsx(ys,{className:"text-left",children:"Transaction Details"})}),P&&n.jsxs("div",{className:"space-y-4 overflow-y-auto h-full pb-20",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${P.transaction_type==="credit"?"bg-green-100":"bg-red-100"}`,children:P.transaction_type==="credit"?n.jsx(xu,{className:"h-6 w-6 text-green-600"}):n.jsx(yu,{className:"h-6 w-6 text-red-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-lg",children:P.description}),n.jsxs("p",{className:`text-xl font-bold ${P.transaction_type==="credit"?"text-green-600":"text-red-600"}`,children:[P.transaction_type==="credit"?"+":"-","",parseFloat(P.amount).toFixed(2)]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Transaction ID"}),n.jsxs("p",{className:"font-medium",children:["TXN-",P.id]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Status"}),n.jsx(De,{variant:P.status==="completed"?"default":"secondary",children:P.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Date & Time"}),n.jsxs("p",{className:"font-medium",children:[Z(P.created_at)," at ",W(P.created_at)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600",children:"Method"}),n.jsx("p",{className:"font-medium",children:P.payment_method||"N/A"})]})]})]}),(P.order_amount||P.reference_id)&&n.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Ar,{className:"h-4 w-4"}),"Additional Details"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[P.order_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order Amount:"}),n.jsxs("span",{className:"font-medium",children:["",parseFloat(P.order_amount).toFixed(2)]})]}),P.reference_id&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),n.jsx("span",{className:"font-medium",children:P.reference_id})]})]})]})]})]})})]})})},Kne=()=>{const e=rt(),{toast:t}=un(),{logout:s,state:r,login:i}=ra(),[a,o]=j.useState("personal"),[c,d]=j.useState(!1),[h,f]=j.useState(!0),[m,u]=j.useState("");j.useState(null);const[p,y]=j.useState(null),[v,w]=j.useState(!1),[x,b]=j.useState(""),[_,N]=j.useState(null),[C,I]=j.useState({businessName:"",ownerName:"",email:"",phone:"",address:"",city:"",state:"",pincode:"",businessType:"",categories:[],description:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",gstNumber:"",panNumber:"",businessLicense:null,gstCertificate:null,fssaiLicense:null,additionalDocs:[],deliveryRadius:"",minOrderAmount:"",profileImage:null});j.useEffect(()=>{k(),P(),R()},[]);const k=async()=>{var B,M;try{const{simplePersistentAuth:z}=await Je(async()=>{const{simplePersistentAuth:H}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:H}},[]);if(!await z.isVendorLoggedIn()){e("/vendor/login");return}const W=await z.getVendorAuth();W&&await Re.setAuth(W.token,W.user);const{response:X,data:V}=await Be("/vendor-profiles/");if(!X.ok)throw new Error("Failed to fetch profile data");if(V&&V.results&&V.results.length>0){const H=V.results[0],{response:se,data:Q}=await Be("/vendor-documents/");let ie=[];se.ok&&Q&&(ie=Q.results||[]),I({businessName:H.business_name||"",ownerName:H.owner_name||"",email:H.business_email||"",phone:H.business_phone||"",address:H.business_address||"",city:H.city||"",state:H.state||"",pincode:H.pincode||"",businessType:H.business_type||"",categories:H.categories||[],description:H.description||"",bankName:H.bank_name||"",accountNumber:H.account_number||"",ifscCode:H.ifsc_code||"",accountHolderName:H.account_holder_name||"",gstNumber:H.gst_number||"",panNumber:H.pan_number||"",businessLicense:H.business_license_file?{name:"Business License",url:H.business_license_file}:null,gstCertificate:H.gst_certificate?{name:"GST Certificate",url:H.gst_certificate}:null,fssaiLicense:H.fssai_license?{name:"FSSAI License",url:H.fssai_license}:null,additionalDocs:ie.map(fe=>({name:`Document ${fe.id}`,url:fe.document})),deliveryRadius:((B=H.delivery_radius)==null?void 0:B.toString())||"",minOrderAmount:H.min_order_amount||"",profileImage:((M=H.user_info)==null?void 0:M.profile_picture)||null})}}catch(z){console.error("Error fetching profile:",z),u("Failed to load profile data")}finally{f(!1)}},P=async()=>{try{const{simplePersistentAuth:B}=await Je(async()=>{const{simplePersistentAuth:X}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:X}},[]);if(!await B.isVendorLoggedIn()){e("/vendor/login");return}const z=await B.getVendorAuth();z&&await Re.setAuth(z.token,z.user);const{response:Z,data:W}=await Be("/profile/");if(Z.ok&&W){const X={...r.user,available_roles:W.available_roles,current_role:W.current_role};console.log("Updated user data:",X)}}catch(B){console.error("Error fetching user profile:",B)}},R=async()=>{try{const B=await fetch("/api/delivery-radius/"),M=await B.json();B.ok&&N(M.delivery_radius)}catch(B){console.error("Error fetching admin delivery radius:",B)}},E=[{value:"retailer",label:"Retailer"},{value:"wholesaler",label:"Wholesaler"},{value:"manufacturer",label:"Manufacturer"},{value:"service_provider",label:"Service Provider"},{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"}],T=["Electronics","Fashion","Food","Home","Books","Sports","Beauty","Toys","Jewelry","Furniture","Automotive","Health & Wellness","Pet Supplies","Stationery","Garden & Outdoor","Kids & Baby","Appliances","Hardware","Crafts & Hobbies","Travel & Luggage"],A=(B,M)=>{I(z=>({...z,[B]:M}))},$=B=>{const M=C.categories.includes(B)?C.categories.filter(z=>z!==B):[...C.categories,B];A("categories",M)},O=async B=>{if(B)try{if(!await Re.isAuthenticated())return;const z=new FormData;z.append("profile_picture",B);const{response:Z,data:W}=await Be("/api/profile/upload-picture/",{method:"POST",body:z});if(Z.ok&&W)console.log("Upload result:",W),console.log("Profile picture URL:",W.profile_picture),I(X=>({...X,profileImage:W.profile_picture||null})),t({title:"Success",description:"Profile image updated successfully!"}),setTimeout(()=>{k()},500);else{const X=await Z.json();throw console.error("Profile image upload error:",X),new Error("Profile image upload failed")}}catch(M){console.error("Profile image upload error:",M),t({title:"Error",description:"Failed to upload profile image. Please try again.",variant:"destructive"})}},F=async(B,M,z)=>{var W;if(!M)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(M.type)){t({title:"Error",description:"Please upload only PDF, JPG, JPEG, or PNG files.",variant:"destructive"});return}if(M.size>5*1024*1024){t({title:"Error",description:"File size must be less than 5MB.",variant:"destructive"});return}y(B);try{if(!await Re.isAuthenticated())return;const V=new FormData;V.append(B,M),V.append("business_name",C.businessName),V.append("business_email",C.email),V.append("business_phone",C.phone),V.append("business_address",C.address),V.append("city",C.city),V.append("state",C.state),V.append("pincode",C.pincode),V.append("business_type",C.businessType);const{response:H,data:se}=await Be("/vendor-profiles/");if(!H.ok)throw new Error("Failed to get profile");const Q=(W=se.results[0])==null?void 0:W.id;if(!Q)throw new Error("Profile not found");const{response:ie,data:fe}=await Be(`/vendor-profiles/${Q}/`,{method:"PATCH",body:V});if(!ie.ok)throw new Error("Upload failed");B==="business_license_file"?A("businessLicense",{name:"Business License",url:fe.business_license_file_url}):B==="gst_certificate"?A("gstCertificate",{name:"GST Certificate",url:fe.gst_certificate_url}):B==="fssai_license"&&A("fssaiLicense",{name:"FSSAI License",url:fe.fssai_license_url}),t({title:"Success",description:"Document uploaded successfully!"}),B==="additionalDocs"&&(w(!1),b(""),k())}catch(X){console.error("Upload error:",X),t({title:"Error",description:"Failed to upload document. Please try again.",variant:"destructive"})}finally{y(null)}},G=({title:B,docType:M,document:z,onUpload:Z})=>n.jsxs("div",{children:[n.jsx(ue,{children:B}),n.jsxs("div",{className:"mt-2 p-4 border border-gray-300 rounded-lg bg-gray-50",children:[n.jsx(Ar,{className:"h-6 w-6 mx-auto mb-2 text-gray-500"}),z?n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-sm text-green-600",children:" Uploaded"}),n.jsxs(Fo,{children:[n.jsx(by,{asChild:!0,children:n.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"View"]})}),n.jsxs(Da,{className:"max-w-4xl w-full h-[80vh]",children:[n.jsx(Fa,{children:n.jsx($a,{children:B})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("iframe",{src:z.url,className:"w-full h-full border-0",title:B})})]})]})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Not uploaded"}),n.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",onClick:()=>{const W=z.createElement("input");W.type="file",W.accept=".pdf,.jpg,.jpeg,.png",W.onchange=X=>{var H;const V=(H=X.target.files)==null?void 0:H[0];V&&Z(V)},W.click()},disabled:p===M,children:[p===M?n.jsx(xi,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx(wu,{className:"h-3 w-3 mr-1"}),"Upload"]})]})]})]}),Y=async()=>{try{if(!await Re.isAuthenticated())return;const M={business_name:C.businessName,owner_name:C.ownerName,business_email:C.email,business_phone:C.phone,business_address:C.address,city:C.city,state:C.state,pincode:C.pincode,business_type:C.businessType,categories:C.categories,description:C.description,bank_name:C.bankName,account_number:C.accountNumber,account_holder_name:C.accountHolderName,gst_number:C.gstNumber,pan_number:C.panNumber,delivery_radius:C.deliveryRadius?parseFloat(C.deliveryRadius):null,min_order_amount:C.minOrderAmount},{response:z,data:Z}=await Be("/vendor-profiles/");if(z.ok&&Z){if(Z.results&&Z.results.length>0){const W=Z.results[0].id,{response:X}=await Be(`/vendor-profiles/${W}/`,{method:"PUT",body:JSON.stringify(M)});if(X.ok)d(!1),t({title:"Success",description:"Profile updated successfully!",variant:"default"}),k();else{const V=await X.json();throw console.error("Update error:",V),new Error("Failed to update profile")}}}else throw new Error("Failed to fetch profile for update")}catch(B){console.error("Error saving profile:",B),t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}},K=async()=>{try{await Re.getToken()&&await Be("/logout/",{method:"POST"})}catch(B){console.error("Logout error:",B)}finally{await s(),e("/vendor/login")}},U=[{id:"personal",label:"Personal",icon:Or},{id:"business",label:"Business",icon:ps},{id:"address",label:"Address",icon:Kt},{id:"banking",label:"Banking",icon:to},{id:"documents",label:"Documents",icon:Ar}];return h?n.jsx(qt,{title:"My Profile",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):m?n.jsx(qt,{title:"My Profile",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:m}),n.jsx(ne,{onClick:k,children:"Retry"})]})})}):n.jsx(qt,{title:"My Profile",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-100 fixed top-14 sm:top-16 left-0 right-0 z-30",children:n.jsxs("div",{className:"flex items-center justify-between p-3 mx-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:`w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-lg overflow-hidden ${c?"cursor-pointer hover:bg-gray-200":""}`,onClick:c?()=>{const B=document.createElement("input");B.type="file",B.accept="image/*",B.onchange=M=>{var Z;const z=(Z=M.target.files)==null?void 0:Z[0];z&&O(z)},B.click()}:void 0,children:C.profileImage?n.jsx("img",{src:C.profileImage,alt:"Profile",className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-gray-600 font-semibold",children:C.businessName?C.businessName.charAt(0).toUpperCase():"V"})}),c&&n.jsx(ne,{size:"sm",className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full p-0 bg-blue-600 hover:bg-blue-700",onClick:()=>{const B=document.createElement("input");B.type="file",B.accept="image/*",B.onchange=M=>{var Z;const z=(Z=M.target.files)==null?void 0:Z[0];z&&O(z)},B.click()},children:n.jsx(Hi,{className:"h-2.5 w-2.5"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"font-medium text-base truncate",children:C.businessName||"Business Name"}),n.jsx("p",{className:"text-gray-500 text-sm truncate",children:C.ownerName||"Owner Name"})]})]}),n.jsx(ne,{onClick:()=>c?Y():d(!0),size:"sm",className:"bg-green-600 hover:bg-green-700",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Rc,{className:"h-3 w-3 mr-1"}),"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Yu,{className:"h-3 w-3 mr-1"}),"Edit"]})})]})}),n.jsx("div",{className:"bg-white pt-16",children:n.jsxs(Ni,{value:a,onValueChange:o,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Vr,{className:"grid grid-cols-5 w-full",children:U.map(B=>n.jsxs(Ct,{value:B.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(B.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:B.label})]},B.id))})}),n.jsx(lt,{value:"personal",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"ownerName",children:"Full Name *"}),n.jsx(ge,{id:"ownerName",value:C.ownerName,onChange:B=>A("ownerName",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"email",children:"Email *"}),n.jsx(ge,{id:"email",type:"email",value:C.email,onChange:B=>A("email",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"phone",children:"Phone Number *"}),n.jsx(ge,{id:"phone",value:C.phone,onChange:B=>A("phone",B.target.value),disabled:!c})]})]})}),n.jsxs(lt,{value:"business",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"businessName",children:"Business Name *"}),n.jsx(ge,{id:"businessName",value:C.businessName,onChange:B=>A("businessName",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"businessType",children:"Business Type *"}),n.jsxs(Vt,{value:C.businessType,onValueChange:B=>A("businessType",B),disabled:!c,children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsx(Bt,{children:E.map(B=>n.jsx(We,{value:B.value,children:B.label},B.value))})]})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"gstNumber",children:"GST Number"}),n.jsx(ge,{id:"gstNumber",value:C.gstNumber,onChange:B=>A("gstNumber",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"panNumber",children:"PAN Number"}),n.jsx(ge,{id:"panNumber",value:C.panNumber,onChange:B=>A("panNumber",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"deliveryRadius",children:"Delivery Radius (km)"}),n.jsx(ge,{id:"deliveryRadius",value:_?`${_} (Set by Admin)`:C.deliveryRadius,disabled:!0,className:"bg-gray-100 text-gray-600"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Delivery radius is set by the administrator"})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"minOrderAmount",children:"Min Order Amount ()"}),n.jsx(ge,{id:"minOrderAmount",value:C.minOrderAmount,onChange:B=>A("minOrderAmount",B.target.value),disabled:!c})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ue,{children:"Product Categories"}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:T.map(B=>n.jsx("button",{type:"button",onClick:()=>$(B),disabled:!c,className:`p-2 text-sm rounded-lg border text-left ${C.categories.includes(B)?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-200 hover:border-gray-300"} ${c?"":"opacity-50 cursor-not-allowed"}`,children:B},B))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ue,{htmlFor:"description",children:"Business Description"}),n.jsx(Kn,{id:"description",value:C.description,onChange:B=>A("description",B.target.value),rows:3,disabled:!c})]})]}),n.jsx(lt,{value:"address",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ue,{htmlFor:"address",children:"Full Address *"}),n.jsx(Kn,{id:"address",value:C.address,onChange:B=>A("address",B.target.value),disabled:!c,rows:2})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"city",children:"City *"}),n.jsx(ge,{id:"city",value:C.city,onChange:B=>A("city",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"state",children:"State *"}),n.jsx(ge,{id:"state",value:C.state,onChange:B=>A("state",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"pincode",children:"Pincode *"}),n.jsx(ge,{id:"pincode",value:C.pincode,onChange:B=>A("pincode",B.target.value),disabled:!c})]})]})}),n.jsx(lt,{value:"banking",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"bankName",children:"Bank Name *"}),n.jsx(ge,{id:"bankName",value:C.bankName,onChange:B=>A("bankName",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),n.jsx(ge,{id:"accountHolderName",value:C.accountHolderName,onChange:B=>A("accountHolderName",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"accountNumber",children:"Account Number *"}),n.jsx(ge,{id:"accountNumber",value:C.accountNumber,onChange:B=>A("accountNumber",B.target.value),disabled:!c})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"ifscCode",children:"IFSC Code *"}),n.jsx(ge,{id:"ifscCode",value:C.ifscCode,onChange:B=>A("ifscCode",B.target.value),disabled:!c})]})]})}),n.jsx(lt,{value:"documents",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(G,{title:"Business License",docType:"business_license_file",document:C.businessLicense,onUpload:B=>F("business_license_file",B)}),n.jsx(G,{title:"GST Certificate",docType:"gst_certificate",document:C.gstCertificate,onUpload:B=>F("gst_certificate",B)}),n.jsx(G,{title:"FSSAI License",docType:"fssai_license",document:C.fssaiLicense,onUpload:B=>F("fssai_license",B)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx(ue,{children:"Additional Documents"}),n.jsxs(ne,{variant:"outline",size:"sm",className:"text-green-600 hover:text-green-700",onClick:()=>w(!0),children:[n.jsx(vn,{className:"h-3 w-3 mr-1"}),"Add Document"]})]}),v&&n.jsx("div",{className:"mb-4 p-4 border border-gray-200 rounded-lg bg-white",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"docName",children:"Document Name"}),n.jsx(ge,{id:"docName",value:x,onChange:B=>b(B.target.value),placeholder:"Enter document name"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{w(!1),b("")},children:"Cancel"}),n.jsxs(ne,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{if(!x.trim()){t({title:"Error",description:"Please enter a document name",variant:"destructive"});return}const B=document.createElement("input");B.type="file",B.accept=".pdf,.jpg,.jpeg,.png",B.onchange=M=>{var Z;const z=(Z=M.target.files)==null?void 0:Z[0];z&&F("additionalDocs",z)},B.click()},disabled:p==="additionalDocs",children:[p==="additionalDocs"?n.jsx(xi,{className:"h-3 w-3 mr-1 animate-spin"}):n.jsx(wu,{className:"h-3 w-3 mr-1"}),"Upload Document"]})]})]})}),C.additionalDocs.length>0?n.jsx("div",{className:"space-y-2",children:C.additionalDocs.map((B,M)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded border",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ar,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-medium",children:B.name})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Fo,{children:[n.jsx(by,{asChild:!0,children:n.jsxs(ne,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[n.jsx(Sn,{className:"h-3 w-3 mr-1"}),"View"]})}),n.jsxs(Da,{className:"max-w-4xl w-full h-[80vh]",children:[n.jsx(Fa,{children:n.jsx($a,{children:B.name})}),n.jsx("div",{className:"flex-1 overflow-hidden",children:n.jsx("iframe",{src:B.url,className:"w-full h-full border-0",title:B.name})})]})]})})]},M))}):n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Ar,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"No additional documents uploaded"})]})]})]})})]})}),n.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50/50",children:n.jsx(ZO,{})}),n.jsx("div",{className:"p-4 pb-20",children:n.jsxs(ne,{variant:"outline",className:"w-full flex items-center justify-center py-6 bg-red-50/40 border-red-200 text-red-600 hover:bg-red-100 hover:text-red-700 rounded-lg shadow-sm transition-all duration-200 hover:shadow-md",onClick:K,children:[n.jsx(tb,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"font-medium text-base",children:"Logout"})]})})]})})},Yne=()=>{const[e,t]=j.useState("basic"),[s,r]=j.useState(!1),[i,a]=j.useState(!1),[o,c]=j.useState(null),[d,h]=j.useState(!0),[f,m]=j.useState(null),[u,p]=j.useState({businessName:"Fresh Farm Valley",ownerName:"Ram Sharma",email:"ram@freshfarm.com",phone:"+977 9841234567",whatsapp:"+977 9841234567",avatar:"",businessType:"grocery",description:"Certified organic farm serving Kathmandu Valley for 10+ years. We specialize in fresh vegetables, fruits, and dairy products.",categories:["Vegetables","Fruits","Dairy","Organic"],establishedYear:"2014",gstNumber:"27AABCU9603R1ZX",panNumber:"AABCU9603R",address:"Balkumari, Lalitpur",city:"Kathmandu",state:"Bagmati",pincode:"44700",landmark:"Near Balkumari Temple",deliveryRadius:"5",minOrderAmount:"200",deliveryFee:"50",freeDeliveryAbove:"500",estimatedDeliveryTime:"30-45",isOpen:!0,openingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},bankName:"Nepal Bank Limited",accountNumber:"1234567890123456",ifscCode:"NBLNPKA",accountHolderName:"Ram Sharma",upiId:"ram@nbl",businessLicense:"",gstCertificate:"",fssaiLicense:"",autoAcceptOrders:!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}}),y=[{value:"grocery",label:"Grocery Store"},{value:"restaurant",label:"Restaurant"},{value:"pharmacy",label:"Pharmacy"},{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"bakery",label:"Bakery"},{value:"meat",label:"Meat Shop"},{value:"dairy",label:"Dairy Products"}],v=["Vegetables","Fruits","Dairy","Meat","Bakery","Beverages","Snacks","Organic","Frozen","Spices","Grains","Oil"],w=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],x=(k,P)=>{p(R=>({...R,[k]:P}))},b=(k,P,R)=>{p(E=>({...E,[k]:{...E[k],[P]:R}}))};j.useEffect(()=>{_()},[]);const _=async()=>{var k,P,R,E;try{if(h(!0),!localStorage.getItem("token")){m("No authentication token found");return}const{response:A,data:$}=await Be("/vendor-profiles/");if(A.ok&&$)if($.results&&$.results.length>0){const O=$.results[0];p({businessName:O.business_name||"",ownerName:O.owner_name||"",email:O.business_email||"",phone:O.business_phone||"",whatsapp:O.business_phone||"",avatar:"",businessType:O.business_type||"grocery",description:O.description||"",categories:O.categories||[],establishedYear:O.established_year||"",gstNumber:O.gst_number||"",panNumber:O.pan_number||"",address:O.business_address||"",city:O.city||"",state:O.state||"",pincode:O.pincode||"",landmark:O.landmark||"",deliveryRadius:((k=O.delivery_radius)==null?void 0:k.toString())||"5",minOrderAmount:((P=O.min_order_amount)==null?void 0:P.toString())||"200",deliveryFee:((R=O.delivery_fee)==null?void 0:R.toString())||"50",freeDeliveryAbove:((E=O.free_delivery_above)==null?void 0:E.toString())||"500",estimatedDeliveryTime:O.estimated_delivery_time||"30-45",isOpen:O.is_active||!1,openingHours:{monday:{open:O.monday_open||"06:00",close:O.monday_close||"21:00",closed:O.monday_closed||!1},tuesday:{open:O.tuesday_open||"06:00",close:O.tuesday_close||"21:00",closed:O.tuesday_closed||!1},wednesday:{open:O.wednesday_open||"06:00",close:O.wednesday_close||"21:00",closed:O.wednesday_closed||!1},thursday:{open:O.thursday_open||"06:00",close:O.thursday_close||"21:00",closed:O.thursday_closed||!1},friday:{open:O.friday_open||"06:00",close:O.friday_close||"21:00",closed:O.friday_closed||!1},saturday:{open:O.saturday_open||"06:00",close:O.saturday_close||"21:00",closed:O.saturday_closed||!1},sunday:{open:O.sunday_open||"07:00",close:O.sunday_close||"20:00",closed:O.sunday_closed||!1}},bankName:O.bank_name||"",accountNumber:O.account_number||"",ifscCode:O.ifsc_code||"",accountHolderName:O.account_holder_name||"",upiId:O.upi_id||"",businessLicense:O.business_license_file||"",gstCertificate:O.gst_certificate||"",fssaiLicense:O.fssai_license||"",autoAcceptOrders:O.auto_accept_orders||!1,notificationSettings:{orderAlerts:!0,messageAlerts:!0,promotionalEmails:!1}})}else a(!0);else throw new Error("Failed to fetch vendor profile")}catch(T){console.error("Error fetching vendor profile:",T),m("Failed to load vendor profile")}finally{h(!1)}},N=async()=>{try{if(!localStorage.getItem("token"))return;const P={business_name:u.businessName,owner_name:u.ownerName,business_email:u.email,business_phone:u.phone,business_type:u.businessType,description:u.description,categories:u.categories,established_year:u.establishedYear,gst_number:u.gstNumber,pan_number:u.panNumber,business_address:u.address,city:u.city,state:u.state,pincode:u.pincode,landmark:u.landmark,delivery_radius:parseFloat(u.deliveryRadius),min_order_amount:parseFloat(u.minOrderAmount),delivery_fee:parseFloat(u.deliveryFee),free_delivery_above:parseFloat(u.freeDeliveryAbove),estimated_delivery_time:u.estimatedDeliveryTime,is_active:u.isOpen,monday_open:u.openingHours.monday.open,monday_close:u.openingHours.monday.close,monday_closed:u.openingHours.monday.closed,tuesday_open:u.openingHours.tuesday.open,tuesday_close:u.openingHours.tuesday.close,tuesday_closed:u.openingHours.tuesday.closed,wednesday_open:u.openingHours.wednesday.open,wednesday_close:u.openingHours.wednesday.close,wednesday_closed:u.openingHours.wednesday.closed,thursday_open:u.openingHours.thursday.open,thursday_close:u.openingHours.thursday.close,thursday_closed:u.openingHours.thursday.closed,friday_open:u.openingHours.friday.open,friday_close:u.openingHours.friday.close,friday_closed:u.openingHours.friday.closed,saturday_open:u.openingHours.saturday.open,saturday_close:u.openingHours.saturday.close,saturday_closed:u.openingHours.saturday.closed,sunday_open:u.openingHours.sunday.open,sunday_close:u.openingHours.sunday.close,sunday_closed:u.openingHours.sunday.closed,bank_name:u.bankName,account_number:u.accountNumber,ifsc_code:u.ifscCode,account_holder_name:u.accountHolderName,upi_id:u.upiId,auto_accept_orders:u.autoAcceptOrders},{response:R}=await Be("/vendor-profiles/",{method:i?"POST":"PUT",body:JSON.stringify(P)});if(R.ok)r(!1),a(!1),alert("Profile saved successfully!");else throw new Error("Failed to save profile")}catch(k){console.error("Error saving profile:",k),alert("Failed to save profile. Please try again.")}},C=async(k,P)=>{if(!k)return;if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(k.type)){alert("Please upload only PDF, JPG, JPEG, or PNG files.");return}if(k.size>5*1024*1024){alert("File size must be less than 5MB.");return}c(P);try{const E=new FormData;E.append(P,k);const T=localStorage.getItem("token"),{response:A}=await Be("/vendor-profiles/",{method:"PATCH",body:E});if(!A.ok)throw new Error("Upload failed");const $=data,O=$[`${P}_url`]||$[P];x(P,O),alert("Document uploaded successfully!")}catch(E){console.error("Upload error:",E),alert("Failed to upload document. Please try again.")}finally{c(null)}},I=[{id:"basic",label:"Basic Info",icon:Or},{id:"business",label:"Business",icon:ps},{id:"location",label:"Location",icon:Kt},{id:"operations",label:"Operations",icon:Tt},{id:"timing",label:"Timing",icon:ar},{id:"banking",label:"Banking",icon:to},{id:"documents",label:"Documents",icon:Ar},{id:"settings",label:"Settings",icon:yi}];return d?n.jsx(qt,{title:"Profile Management",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})})}):f?n.jsx(qt,{title:"Profile Management",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx(ne,{onClick:_,children:"Retry"})]})})}):n.jsx(qt,{title:"Profile Management",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-semibold text-lg",children:"Profile Management"}),i&&n.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile setup"})]})]}),n.jsx(ne,{onClick:()=>s?N():r(!0),className:"bg-green-600 hover:bg-green-700",children:s?n.jsxs(n.Fragment,{children:[n.jsx(Rc,{className:"h-4 w-4 mr-2"}),"Save"]}):n.jsxs(n.Fragment,{children:[n.jsx(Yu,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl",children:u.avatar}),s&&n.jsx(ne,{size:"sm",className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full p-0",children:n.jsx(Hi,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-semibold text-lg",children:u.businessName}),n.jsx("p",{className:"text-gray-600 text-sm",children:u.ownerName}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(De,{variant:u.isOpen?"default":"destructive",className:"text-xs",children:u.isOpen?"Open":"Closed"}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(cn,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),n.jsx("span",{children:"4.8 (342 reviews)"})]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(Ni,{value:e,onValueChange:t,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Vr,{className:"grid grid-cols-4 lg:grid-cols-8 w-full min-w-max",children:I.map(k=>n.jsxs(Ct,{value:k.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(k.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:k.label})]},k.id))})}),n.jsx(lt,{value:"basic",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"businessName",children:"Business Name *"}),n.jsx(ge,{id:"businessName",value:u.businessName,onChange:k=>x("businessName",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"ownerName",children:"Owner Name *"}),n.jsx(ge,{id:"ownerName",value:u.ownerName,onChange:k=>x("ownerName",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"email",children:"Email *"}),n.jsx(ge,{id:"email",type:"email",value:u.email,onChange:k=>x("email",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"phone",children:"Phone Number *"}),n.jsx(ge,{id:"phone",value:u.phone,onChange:k=>x("phone",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"whatsapp",children:"WhatsApp Number"}),n.jsx(ge,{id:"whatsapp",value:u.whatsapp,onChange:k=>x("whatsapp",k.target.value),disabled:!s})]})]})}),n.jsxs(lt,{value:"business",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"businessType",children:"Business Type *"}),n.jsxs(Vt,{value:u.businessType,onValueChange:k=>x("businessType",k),disabled:!s,children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsx(Bt,{children:y.map(k=>n.jsx(We,{value:k.value,children:k.label},k.value))})]})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"establishedYear",children:"Established Year"}),n.jsx(ge,{id:"establishedYear",value:u.establishedYear,onChange:k=>x("establishedYear",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"gstNumber",children:"GST Number"}),n.jsx(ge,{id:"gstNumber",value:u.gstNumber,onChange:k=>x("gstNumber",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"panNumber",children:"PAN Number"}),n.jsx(ge,{id:"panNumber",value:u.panNumber,onChange:k=>x("panNumber",k.target.value),disabled:!s})]})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"description",children:"Business Description *"}),n.jsx(Kn,{id:"description",value:u.description,onChange:k=>x("description",k.target.value),disabled:!s,rows:3})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Categories"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(k=>n.jsx(De,{variant:u.categories.includes(k)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!s)return;const P=u.categories.includes(k)?u.categories.filter(R=>R!==k):[...u.categories,k];x("categories",P)},children:k},k))})]})]}),n.jsx(lt,{value:"location",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(ue,{htmlFor:"address",children:"Full Address *"}),n.jsx(Kn,{id:"address",value:u.address,onChange:k=>x("address",k.target.value),disabled:!s,rows:2})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"city",children:"City *"}),n.jsx(ge,{id:"city",value:u.city,onChange:k=>x("city",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"state",children:"State *"}),n.jsx(ge,{id:"state",value:u.state,onChange:k=>x("state",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"pincode",children:"Pincode *"}),n.jsx(ge,{id:"pincode",value:u.pincode,onChange:k=>x("pincode",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"landmark",children:"Landmark"}),n.jsx(ge,{id:"landmark",value:u.landmark,onChange:k=>x("landmark",k.target.value),disabled:!s})]})]})}),n.jsx(lt,{value:"operations",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"deliveryRadius",children:"Delivery Radius (km) *"}),n.jsx(ge,{id:"deliveryRadius",value:u.deliveryRadius,onChange:k=>x("deliveryRadius",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"minOrderAmount",children:"Minimum Order Amount () *"}),n.jsx(ge,{id:"minOrderAmount",value:u.minOrderAmount,onChange:k=>x("minOrderAmount",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"deliveryFee",children:"Delivery Fee () *"}),n.jsx(ge,{id:"deliveryFee",value:u.deliveryFee,onChange:k=>x("deliveryFee",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"freeDeliveryAbove",children:"Free Delivery Above ()"}),n.jsx(ge,{id:"freeDeliveryAbove",value:u.freeDeliveryAbove,onChange:k=>x("freeDeliveryAbove",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"estimatedDeliveryTime",children:"Estimated Delivery Time (mins) *"}),n.jsx(ge,{id:"estimatedDeliveryTime",value:u.estimatedDeliveryTime,onChange:k=>x("estimatedDeliveryTime",k.target.value),disabled:!s})]})]})}),n.jsxs(lt,{value:"timing",className:"p-4 space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(ue,{children:"Store Status"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm",children:"Closed"}),n.jsx(Zt,{checked:u.isOpen,onCheckedChange:k=>x("isOpen",k),disabled:!s}),n.jsx("span",{className:"text-sm",children:"Open"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ue,{children:"Opening Hours"}),w.map(k=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg",children:[n.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:k}),n.jsx(Zt,{checked:!u.openingHours[k].closed,onCheckedChange:P=>b("openingHours",k,{...u.openingHours[k],closed:!P}),disabled:!s}),!u.openingHours[k].closed&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ge,{type:"time",value:u.openingHours[k].open,onChange:P=>b("openingHours",k,{...u.openingHours[k],open:P.target.value}),disabled:!s,className:"w-32"}),n.jsx("span",{className:"text-sm",children:"to"}),n.jsx(ge,{type:"time",value:u.openingHours[k].close,onChange:P=>b("openingHours",k,{...u.openingHours[k],close:P.target.value}),disabled:!s,className:"w-32"})]}),u.openingHours[k].closed&&n.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},k))]})]}),n.jsx(lt,{value:"banking",className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"bankName",children:"Bank Name *"}),n.jsx(ge,{id:"bankName",value:u.bankName,onChange:k=>x("bankName",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"accountHolderName",children:"Account Holder Name *"}),n.jsx(ge,{id:"accountHolderName",value:u.accountHolderName,onChange:k=>x("accountHolderName",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"accountNumber",children:"Account Number *"}),n.jsx(ge,{id:"accountNumber",value:u.accountNumber,onChange:k=>x("accountNumber",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"ifscCode",children:"IFSC Code *"}),n.jsx(ge,{id:"ifscCode",value:u.ifscCode,onChange:k=>x("ifscCode",k.target.value),disabled:!s})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"upiId",children:"UPI ID"}),n.jsx(ge,{id:"upiId",value:u.upiId,onChange:k=>x("upiId",k.target.value),disabled:!s})]})]})}),n.jsx(lt,{value:"documents",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-base font-medium",children:"Business License"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your business registration certificate"})]}),n.jsx(De,{variant:u.businessLicense?"default":"outline",children:u.businessLicense?"Uploaded":"Required"})]}),u.businessLicense?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"Business License Document"}),s&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"business_license_file")},k.click()},disabled:o==="business_license_file",children:o==="business_license_file"?"Uploading...":"Replace"})]}):n.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"business_license_file")},k.click()},disabled:o==="business_license_file",children:[n.jsx(Ar,{className:"h-4 w-4 mr-2"}),o==="business_license_file"?"Uploading...":"Upload Business License"]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-base font-medium",children:"GST Certificate"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your GST registration certificate"})]}),n.jsx(De,{variant:u.gstCertificate?"default":"outline",children:u.gstCertificate?"Uploaded":"Optional"})]}),u.gstCertificate?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"GST Certificate Document"}),s&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"gst_certificate")},k.click()},disabled:o==="gst_certificate",children:o==="gst_certificate"?"Uploading...":"Replace"})]}):n.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"gst_certificate")},k.click()},disabled:o==="gst_certificate",children:[n.jsx(Ar,{className:"h-4 w-4 mr-2"}),o==="gst_certificate"?"Uploading...":"Upload GST Certificate"]})]}),n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-base font-medium",children:"FSSAI License"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Upload your food safety license (for food businesses)"})]}),n.jsx(De,{variant:u.fssaiLicense?"default":"outline",children:u.fssaiLicense?"Uploaded":"Optional"})]}),u.fssaiLicense?n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex-1 p-2 bg-gray-50 rounded border text-sm",children:"FSSAI License Document"}),s&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"fssai_license")},k.click()},disabled:o==="fssai_license",children:o==="fssai_license"?"Uploading...":"Replace"})]}):n.jsxs(ne,{variant:"outline",className:"w-full",onClick:()=>{const k=document.createElement("input");k.type="file",k.accept=".pdf,.jpg,.jpeg,.png",k.onchange=P=>{var E;const R=(E=P.target.files)==null?void 0:E[0];R&&C(R,"fssai_license")},k.click()},disabled:o==="fssai_license",children:[n.jsx(Ar,{className:"h-4 w-4 mr-2"}),o==="fssai_license"?"Uploading...":"Upload FSSAI License"]})]}),n.jsx("div",{className:"text-center py-2 text-gray-500 text-xs",children:"Supported formats: PDF, JPG, JPEG, PNG (Max 5MB)"})]})}),n.jsx(lt,{value:"settings",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Auto Accept Orders"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Automatically accept new orders"})]}),n.jsx(Zt,{checked:u.autoAcceptOrders,onCheckedChange:k=>x("autoAcceptOrders",k),disabled:!s})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(ue,{children:"Notification Settings"}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Order Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new orders"})]}),n.jsx(Zt,{checked:u.notificationSettings.orderAlerts,onCheckedChange:k=>b("notificationSettings","orderAlerts",k),disabled:!s})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Message Alerts"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified for new messages"})]}),n.jsx(Zt,{checked:u.notificationSettings.messageAlerts,onCheckedChange:k=>b("notificationSettings","messageAlerts",k),disabled:!s})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Promotional Emails"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receive promotional emails"})]}),n.jsx(Zt,{checked:u.notificationSettings.promotionalEmails,onCheckedChange:k=>b("notificationSettings","promotionalEmails",k),disabled:!s})]})]})]})})]})}),i&&n.jsxs("div",{className:"fixed bottom-4 left-4 right-4 bg-white border border-gray-200 rounded-lg p-4 shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium",children:"Profile Completion"}),n.jsx("span",{className:"text-sm text-gray-600",children:"6/8 sections"})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"75%"}})}),n.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Complete all sections to activate your store"})]})]})})},Xne=()=>{const e=rt(),[t,s]=j.useState(!0),[r,i]=j.useState(""),[a,o]=j.useState(!1),[c,d]=j.useState(""),[h,f]=j.useState(!1);j.useEffect(()=>{(async()=>{var p;try{if(!await Re.isAuthenticated())return;const v=1,{response:w,data:x}=await Be(`/vendor-profiles/${v}/`);if(!w.ok)throw new Error("Failed to fetch profile");const b=((p=x==null?void 0:x.user_info)==null?void 0:p.plain_password)||"";i(b)}catch(y){console.error(y)}})()},[]);const m=async()=>{if(!c){yf.error("New password is required");return}f(!0);try{const{simplePersistentAuth:u}=await Je(async()=>{const{simplePersistentAuth:x}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:x}},[]);if(!await u.isVendorLoggedIn()){e("/vendor/login");return}const y=await u.getVendorAuth();y&&await Re.setAuth(y.token,y.user);const{response:v,data:w}=await Be("/change-password/simple/",{method:"POST",body:JSON.stringify({new_password:c})});if(!v.ok)throw new Error(w.error||"Failed to change password");await Re.setAuth(w.token,await Re.getUser()),yf.success("Password changed successfully"),i(c),d(""),o(!1)}catch(u){yf.error(u instanceof Error?u.message:"Failed to change password")}finally{f(!1)}};return n.jsx(qt,{title:"Security & Login",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center gap-3 p-4",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("h1",{className:"font-semibold text-lg",children:"Security & Login"})]})}),n.jsx("div",{className:"p-4 space-y-6",children:n.jsxs("div",{className:"bg-white rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(yi,{className:"h-5 w-5 text-blue-600"}),n.jsx("h2",{className:"font-semibold",children:"Password"})]}),a?n.jsxs("div",{className:"space-y-4",children:[n.jsx(ue,{children:"New Password"}),n.jsx(ge,{type:"text",value:c,onChange:u=>d(u.target.value)}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{onClick:m,disabled:h,children:"Save"}),n.jsx(ne,{variant:"outline",onClick:()=>o(!1),disabled:h,children:"Cancel"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx(ue,{children:"Your Password"}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ge,{type:"text",value:r,disabled:!0,className:"bg-gray-100"}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>s(!t),children:t?n.jsx(J0,{className:"h-4 w-4"}):n.jsx(Sn,{className:"h-4 w-4"})})]}),n.jsx(ne,{onClick:()=>o(!0),disabled:h,children:"Change Password"})]})]})})]})})},Qne=()=>{const e=rt(),{toast:t}=un(),[s,r]=j.useState("business"),[i,a]=j.useState(!1),[o,c]=j.useState(!0),[d,h]=j.useState(!1),[f,m]=j.useState(""),[u,p]=j.useState(null),[y,v]=j.useState([]),[w,x]=j.useState({businessName:"Business Name",ownerName:"Owner Name",categories:[],operatingHours:{monday:{open:"06:00",close:"21:00",closed:!1},tuesday:{open:"06:00",close:"21:00",closed:!1},wednesday:{open:"06:00",close:"21:00",closed:!1},thursday:{open:"06:00",close:"21:00",closed:!1},friday:{open:"06:00",close:"21:00",closed:!1},saturday:{open:"06:00",close:"21:00",closed:!1},sunday:{open:"07:00",close:"20:00",closed:!1}},deliverySettings:{deliveryRadius:"5",minOrderAmount:"200"},profileImage:null,isActive:!1,statusOverride:!1}),b=T=>{if(!T)return"";const[A,$]=T.split(":").map(Number),O=A>=12?"PM":"AM";return`${A%12||12}:${$.toString().padStart(2,"0")} ${O}`};j.useEffect(()=>{N(),_()},[]);const _=async()=>{try{const{response:T,data:A}=await Be("/categories/");T.ok&&A.categories&&v(A.categories.map($=>$.name))}catch(T){console.error("Failed to fetch categories:",T)}},N=async()=>{var T,A,$;try{const{simplePersistentAuth:O}=await Je(async()=>{const{simplePersistentAuth:U}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:U}},[]);if(!await O.isVendorLoggedIn()){e("/vendor/login");return}const G=await O.getVendorAuth();G&&await Re.setAuth(G.token,G.user);const{response:Y,data:K}=await Be("/vendor-profiles/");if(!Y.ok)throw new Error("Failed to fetch company data");if(K.results&&K.results.length>0){const U=K.results[0];p(U.id),x({businessName:U.business_name||"Business Name",ownerName:U.owner_name||"Owner Name",categories:Array.isArray(U.categories)?U.categories:typeof U.categories=="string"?JSON.parse(U.categories||"[]"):[],operatingHours:{monday:{open:U.monday_open||"",close:U.monday_close||"",closed:U.monday_closed||!1},tuesday:{open:U.tuesday_open||"",close:U.tuesday_close||"",closed:U.tuesday_closed||!1},wednesday:{open:U.wednesday_open||"",close:U.wednesday_close||"",closed:U.wednesday_closed||!1},thursday:{open:U.thursday_open||"",close:U.thursday_close||"",closed:U.thursday_closed||!1},friday:{open:U.friday_open||"",close:U.friday_close||"",closed:U.friday_closed||!1},saturday:{open:U.saturday_open||"",close:U.saturday_close||"",closed:U.saturday_closed||!1},sunday:{open:U.sunday_open||"",close:U.sunday_close||"",closed:U.sunday_closed||!1}},deliverySettings:{deliveryRadius:((T=U.delivery_radius)==null?void 0:T.toString())||"5",minOrderAmount:((A=U.min_order_amount)==null?void 0:A.toString())||"200"},profileImage:(($=U.user_info)==null?void 0:$.profile_picture)||null,isActive:U.is_active||!1,statusOverride:U.status_override||!1})}}catch(O){console.error("Error fetching company data:",O),m("Failed to load company data")}finally{c(!1)}},C=async()=>{try{h(!0);const{simplePersistentAuth:T}=await Je(async()=>{const{simplePersistentAuth:F}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:F}},[]);if(!await T.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const $=new FormData;$.append("business_name",w.businessName),$.append("owner_name",w.ownerName),$.append("categories",JSON.stringify(w.categories)),$.append("delivery_radius",w.deliverySettings.deliveryRadius),$.append("min_order_amount",w.deliverySettings.minOrderAmount);const{response:O}=await Be(`/vendor-profiles/${u}/`,{method:"PUT",body:$});if(!O.ok){const F=await O.json();throw new Error(F.detail||"Failed to update company data")}t({title:"Success",description:"Company information updated successfully!"}),a(!1),N()}catch(T){console.error("Error saving company data:",T),t({title:"Error",description:T instanceof Error?T.message:"Failed to save company data",variant:"destructive"})}finally{h(!1)}},I=async()=>{try{const{simplePersistentAuth:T}=await Je(async()=>{const{simplePersistentAuth:G}=await import("./simplePersistentAuth-DlrHxcG6.js");return{simplePersistentAuth:G}},[]);if(!await T.isVendorLoggedIn()){e("/vendor/login");return}if(!u)throw new Error("Profile ID not found");const $=!w.isActive,{response:O,data:F}=await Be(`/vendor-profiles/${u}/toggle-status/`,{method:"POST",body:JSON.stringify({is_active:$})});if(!O.ok)throw new Error((F==null?void 0:F.error)||"Failed to toggle status");x(G=>({...G,isActive:F.vendor.is_active,statusOverride:F.vendor.status_override})),t({title:"Success",description:`Status set to ${$?"Active":"Inactive"}`})}catch(T){console.error("Error toggling status:",T),t({title:"Error",description:T instanceof Error?T.message:"Failed to toggle status",variant:"destructive"})}},k=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],P=[{id:"business",label:"Business Details",icon:ps},{id:"timing",label:"Timing",icon:ar}],R=(T,A)=>{x($=>({...$,[T]:A}))},E=(T,A,$)=>{x(O=>({...O,[T]:{...O[T],[A]:$}}))};return o?n.jsx(qt,{title:"Company Information",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading company information..."})]})})}):f?n.jsx(qt,{title:"Company Information",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:f}),n.jsx(ne,{onClick:N,children:"Retry"})]})})}):n.jsx(qt,{title:"Company Information",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsx("div",{children:n.jsx("h1",{className:"font-semibold text-lg",children:"Company Information"})})]}),n.jsx(ne,{onClick:()=>i?C():a(!0),disabled:d,className:"bg-green-600 hover:bg-green-700",children:d?"Saving...":i?"Save Changes":"Edit"})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"relative",children:w.profileImage?n.jsx("img",{src:w.profileImage||"/images/default-profile.png",alt:"Business Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200",onError:T=>{console.error("Image failed to load:",T.currentTarget.src),T.currentTarget.src="/images/default-profile.png"}}):n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-2xl border-2 border-gray-200",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"font-semibold text-lg",children:w.businessName}),n.jsx("p",{className:"text-gray-600 text-sm",children:w.ownerName}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(ue,{children:"Status:"}),n.jsx(Zt,{checked:w.isActive,onCheckedChange:I,disabled:!i}),n.jsxs("span",{className:"text-sm",children:[w.isActive?"Active":"Inactive",w.statusOverride&&" (Overridden)"]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(Ni,{value:s,onValueChange:r,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Vr,{className:"grid grid-cols-2 w-full min-w-max",children:P.map(T=>n.jsxs(Ct,{value:T.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(T.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:T.label})]},T.id))})}),n.jsxs(lt,{value:"business",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"space-y-4 max-w-3xl",children:[n.jsx(ue,{children:"Business Categories"}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:y.map(T=>n.jsx(De,{variant:w.categories.includes(T)?"default":"outline",className:"cursor-pointer",onClick:()=>{if(!i)return;const A=w.categories.includes(T)?w.categories.filter($=>$!==T):[...w.categories,T];R("categories",A)},children:T},T))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Delivery Radius (km) *"}),n.jsx(ge,{value:w.deliverySettings.deliveryRadius,onChange:T=>E("deliverySettings","deliveryRadius",T.target.value),disabled:!i,className:"max-w-xs"})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Minimum Order Amount () *"}),n.jsx(ge,{value:w.deliverySettings.minOrderAmount,onChange:T=>E("deliverySettings","minOrderAmount",T.target.value),disabled:!i,className:"max-w-xs"})]})]})]}),n.jsx(lt,{value:"timing",className:"p-4 space-y-4",children:n.jsxs("div",{className:"space-y-3 max-w-3xl",children:[n.jsx(ue,{children:"Operating Hours"}),k.map(T=>n.jsxs("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg flex-wrap",children:[n.jsx("div",{className:"w-20 text-sm font-medium capitalize",children:T}),n.jsx(Zt,{checked:!w.operatingHours[T].closed,onCheckedChange:A=>E("operatingHours",T,{...w.operatingHours[T],closed:!A}),disabled:!i}),!w.operatingHours[T].closed&&n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(ge,{type:"time",value:b(w.operatingHours[T].open),onChange:A=>E("operatingHours",T,{...w.operatingHours[T],open:A.target.value}),disabled:!i,className:"w-32"}),n.jsx("span",{className:"text-sm",children:"to"}),n.jsx(ge,{type:"time",value:b(w.operatingHours[T].close),onChange:A=>E("operatingHours",T,{...w.operatingHours[T],close:A.target.value}),disabled:!i,className:"w-32"})]}),w.operatingHours[T].closed&&n.jsx("span",{className:"text-sm text-gray-500",children:"Closed"})]},T))]})})]})})]})})},Jne=()=>{const[e,t]=j.useState(""),[s,r]=j.useState(!1),[i,a]=j.useState(null),[o,c]=j.useState([]),[d,h]=j.useState(!0),[f,m]=j.useState(!1),[u,p]=j.useState({}),[y,v]=j.useState([]),[w,x]=j.useState([]),[b,_]=j.useState([]),[N,C]=j.useState([]),[I,k]=j.useState(!1),[P,R]=j.useState(!1),[E,T]=j.useState(null),[A,$]=j.useState([]),[O,F]=j.useState(null),[G,Y]=j.useState(new Date().toISOString().split("T")[0]),[K,U]=j.useState(!1),[B,M]=j.useState(!1),z=rt(),[Z,W]=j.useState({category:"all",status:"all",stock:"all",sortBy:"name"});j.useEffect(()=>{se(),X()},[]);const X=async()=>{var re;try{const{apiRequest:Se}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0),{data:Te}=await Se("/categories/");_(((re=Te.categories)==null?void 0:re.map(nt=>nt.name))||[])}catch(Se){console.error("Failed to fetch categories:",Se)}},V=async re=>{try{const{apiRequest:Se}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0),{data:Te}=await Se(`/categories/${re}/subcategories/`);C(Te.subcategories||[])}catch(Se){console.error("Failed to fetch subcategories:",Se),C([])}},H=async()=>{try{const{apiRequest:re}=await Je(async()=>{const{apiRequest:Te}=await Promise.resolve().then(()=>Zn);return{apiRequest:Te}},void 0),{data:Se}=await re("/featured-packages/");$(Se.packages||[])}catch(re){console.error("Failed to fetch featured packages:",re),$([])}},se=async()=>{try{h(!0);const re=await xl.getProducts(),Se=(re==null?void 0:re.results)||re||[];c(Array.isArray(Se)?Se:[])}catch(re){console.error("Failed to fetch products:",re),c([])}finally{h(!1)}},Q=async(re,Se)=>{try{await xl.updateProduct(re,Se),await se()}catch(Te){console.error("Failed to update product:",Te)}},ie=async re=>{if(window.confirm("Are you sure you want to delete this product?"))try{await xl.deleteProduct(re),await se(),a(null)}catch(Se){console.error("Failed to delete product:",Se)}},fe=async re=>{if(re.featured)try{const{apiRequest:Se}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0),{data:Te}=await Se(`/products/${re.id}/featured-info/`);if(!Te.can_modify){Hn.error("Cannot Cancel Featured",{description:"Featured period has already started and cannot be cancelled.",duration:4e3});return}T(re),R(!0)}catch(Se){console.error("Failed to check featured info:",Se)}else T(re),await H(),k(!0)},te=re=>{F(re)},ve=async()=>{if(E)try{M(!0);const{apiRequest:re}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0),{response:Se,data:Te}=await re(`/products/${E.id}/reschedule-featured/`,{method:"POST",body:JSON.stringify({start_date:G})});if(!Se.ok)throw new Error(Te.error||"Failed to reschedule");await se(),R(!1),T(null),Y(new Date().toISOString().split("T")[0]),Hn.success("Featured Package Rescheduled!",{description:`Start date updated to ${new Date(G).toLocaleDateString()}`,duration:4e3})}catch(re){console.error("Failed to reschedule featured package:",re),Hn.error("Reschedule Failed",{description:re.message||"Failed to reschedule package",duration:4e3})}finally{M(!1)}},Ce=async()=>{if(!(!E||!O))try{U(!0);const{apiRequest:re}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0),{response:Se,data:Te}=await re("/featured-packages/purchase/",{method:"POST",body:JSON.stringify({product_id:E.id,package_id:O.id,start_date:G})});if(!Se.ok)throw new Error(Te.error||"Failed to purchase package");await se(),k(!1),T(null),F(null),Y(new Date().toISOString().split("T")[0]),Hn.success("Featured Package Purchased!",{description:`${E.name} is now featured until ${new Date(Te.end_date).toLocaleDateString()}. Wallet balance: ${Te.new_wallet_balance}`,duration:5e3})}catch(re){console.error("Failed to purchase featured package:",re),Hn.error("Purchase Failed",{description:re.message||"Failed to purchase package",duration:4e3})}finally{U(!1)}},he=async()=>{if(i!=null&&i.id&&u)try{const re={...u};y.length>0&&(re.image_files=y),await Q(i.id,re),m(!1),p({}),v([]),x([]),a(null)}catch(re){console.error("Failed to save changes:",re)}},je=re=>{const Se=re.target.files;if(Se){const Te=Array.from(Se),nt=Te.map(ot=>URL.createObjectURL(ot));v(ot=>[...ot,...Te]),x(ot=>[...ot,...nt])}},_e=re=>{URL.revokeObjectURL(w[re]),v(Se=>Se.filter((Te,nt)=>nt!==re)),x(Se=>Se.filter((Te,nt)=>nt!==re))},de=async re=>{if(i!=null&&i.id)try{const{apiRequest:Se}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0);await Se(`/products/${i.id}/images/${re}/`,{method:"DELETE"}),await se();const Te=await xl.getProduct(i.id);a(Te)}catch(Se){console.error("Failed to delete image:",Se)}},me=async re=>{if(i!=null&&i.id)try{const{apiRequest:Se}=await Je(async()=>{const{apiRequest:nt}=await Promise.resolve().then(()=>Zn);return{apiRequest:nt}},void 0);await Se(`/products/${i.id}/images/${re}/set-primary/`,{method:"POST"}),await se();const Te=await xl.getProduct(i.id);a(Te)}catch(Se){console.error("Failed to set primary image:",Se)}},ee=Array.isArray(o)?o.filter(re=>{const Se=re.name.toLowerCase().includes(e.toLowerCase())||re.sku&&re.sku.toLowerCase().includes(e.toLowerCase()),Te=Z.category==="all"||re.category===Z.category,nt=Z.status==="all"||re.status===Z.status,ot=Z.stock==="all"||Z.stock==="low"&&re.quantity<=5&&re.quantity>0||Z.stock==="out"&&re.quantity===0||Z.stock==="available"&&re.quantity>0;return Se&&Te&&nt&&ot}).sort((re,Se)=>{switch(Z.sortBy){case"price":return Se.price-re.price;case"stock":return Se.quantity-re.quantity;default:return re.name.localeCompare(Se.name)}}):[],ae=re=>{switch(re){case"active":return n.jsx("span",{className:"text-xs font-medium text-green-600",children:"Active"});case"draft":return n.jsx("span",{className:"text-xs font-medium text-yellow-600",children:"Draft"});case"archived":return n.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Archived"});default:return n.jsx("span",{className:"text-xs font-medium text-gray-600",children:re})}},oe=re=>re===0?n.jsx("span",{className:"text-xs font-medium text-red-600",children:"Out of Stock"}):re<=5?n.jsx("span",{className:"text-xs font-medium text-orange-600",children:"Low Stock"}):n.jsx("span",{className:"text-xs font-medium text-green-600",children:"In Stock"}),be=re=>{if(!re)return"";const Se=document.createElement("div");return Se.innerHTML=re,Se.textContent||Se.innerText||""},we=re=>re.images&&re.images.length>0?(re.images.find(Te=>Te.is_primary)||re.images[0]).image_url:null,xe=re=>({Vegetables:"",Fruits:"",Dairy:"",Meat:"",Bakery:"",Beverages:"",Snacks:"",Grains:""})[re]||"";return n.jsx(qt,{title:"Product Management",children:n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsx(Pe,{className:"",children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Tt,{className:"h-4 w-4 mx-auto mb-0.5 text-blue-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Total"})]})})}),n.jsx(Pe,{className:"",children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx($r,{className:"h-4 w-4 mx-auto mb-0.5 text-green-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(re=>re.status==="active").length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Active"})]})})}),n.jsx(Pe,{className:"",children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(bu,{className:"h-4 w-4 mx-auto mb-0.5 text-orange-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(re=>re.quantity<=5&&re.quantity>0).length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Low"})]})})}),n.jsx(Pe,{className:"",children:n.jsx(Ae,{className:"p-1.5",children:n.jsxs("div",{className:"text-center",children:[n.jsx(bu,{className:"h-4 w-4 mx-auto mb-0.5 text-red-500"}),n.jsx("p",{className:"text-xs font-bold",children:(o==null?void 0:o.filter(re=>re.quantity===0).length)||0}),n.jsx("p",{className:"text-[10px] text-gray-600",children:"Out"})]})})})]}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Lo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(ge,{placeholder:"Search products...",value:e,onChange:re=>t(re.target.value),className:"pl-10"})]}),n.jsx(ne,{variant:"outline",size:"icon",onClick:()=>r(!0),children:n.jsx(ji,{className:"h-4 w-4"})})]})})}),n.jsx("div",{children:d?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx(Bn,{className:"h-6 w-6 animate-spin"}),n.jsx("span",{className:"ml-2",children:"Loading products..."})]}):ee.length>0?n.jsx("div",{className:"grid grid-cols-2 gap-2",children:ee.map(re=>n.jsx(Pe,{className:"overflow-hidden",children:n.jsx(Ae,{className:"p-2",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-center relative",children:[we(re)?n.jsx("img",{src:we(re),alt:re.name,className:"w-12 h-12 mx-auto object-cover rounded"}):n.jsx("div",{className:"text-xl",children:xe(re.category)}),re.featured&&n.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-500 text-white text-xs px-1 py-0.5 rounded-full font-bold shadow-md",children:"FEATURED"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:re.name}),n.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["",re.price]}),re.cost_price&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Cost: ",re.cost_price]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("span",{className:"text-xs text-gray-600",children:["Stock: ",re.quantity]}),oe(re.quantity)]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-600",children:re.category}),ae(re.status)]}),re.subcategory&&n.jsx("div",{className:"text-xs text-gray-500 truncate",children:re.subcategory}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Sold: ",re.total_sold||0]}),n.jsxs("div",{className:"flex gap-1 mt-1",children:[re.featured&&n.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-1 rounded",children:""}),re.free_delivery&&n.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-1 rounded",children:""})]})]}),n.jsxs("div",{className:"flex gap-1 pt-1",children:[n.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(re),m(!1),p({})},children:n.jsx(Sn,{className:"h-3 w-3"})}),n.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>{a(re),m(!0),p(re),re.category&&V(re.category)},children:n.jsx(Qf,{className:"h-3 w-3"})}),n.jsx(ne,{variant:"outline",size:"sm",className:"flex-1 p-1",onClick:()=>ie(re.id),children:n.jsx(Ua,{className:"h-3 w-3"})})]}),n.jsxs(ne,{variant:re.featured?"default":"outline",size:"sm",className:"w-full mt-1 p-1",onClick:()=>fe(re),children:[n.jsx(cn,{className:`h-3 w-3 mr-1 ${re.featured?"fill-current":""}`}),re.featured?"Reschedule":"Mark Featured"]})]})})},re.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Tt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No products found"}),n.jsxs(ne,{className:"mt-4",onClick:()=>z("/vendor/add-product"),children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Add Your First Product"]})]})}),n.jsx(Os,{open:s,onOpenChange:r,children:n.jsxs(vs,{side:"bottom",className:"h-[400px]",children:[n.jsx(xs,{children:n.jsx(ys,{children:"Filter Products"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Category"}),n.jsxs(Vt,{value:Z.category,onValueChange:re=>W({...Z,category:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"all",children:"All Categories"}),Array.from(new Set((o||[]).map(re=>re.category))).map(re=>n.jsx(We,{value:re,children:re},re))]})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Status"}),n.jsxs(Vt,{value:Z.status,onValueChange:re=>W({...Z,status:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"all",children:"All Status"}),n.jsx(We,{value:"active",children:"Active"}),n.jsx(We,{value:"draft",children:"Draft"}),n.jsx(We,{value:"archived",children:"Archived"})]})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Stock Level"}),n.jsxs(Vt,{value:Z.stock,onValueChange:re=>W({...Z,stock:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"all",children:"All Stock Levels"}),n.jsx(We,{value:"available",children:"In Stock"}),n.jsx(We,{value:"low",children:"Low Stock"}),n.jsx(We,{value:"out",children:"Out of Stock"})]})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Sort By"}),n.jsxs(Vt,{value:Z.sortBy,onValueChange:re=>W({...Z,sortBy:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"name",children:"Name"}),n.jsx(We,{value:"price",children:"Price"}),n.jsx(We,{value:"stock",children:"Stock"})]})]})]})]})]})}),n.jsx(Os,{open:I,onOpenChange:re=>{k(re),re||(F(null),Y(new Date().toISOString().split("T")[0]))},children:n.jsxs(vs,{side:"bottom",className:"h-[70vh] overflow-y-auto",children:[n.jsx(xs,{children:n.jsx(ys,{children:"Choose Featured Package"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Select a package to feature your product: ",n.jsx("strong",{children:E==null?void 0:E.name})]}),O?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[n.jsx("h3",{className:"font-semibold text-blue-900",children:O.name}),n.jsxs("p",{className:"text-sm text-blue-700",children:[O.duration_days," days - ",O.amount]})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"start-date",children:"Start Date"}),n.jsx(ge,{id:"start-date",type:"date",value:G,min:new Date().toISOString().split("T")[0],onChange:re=>Y(re.target.value)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Featured until: ",new Date(new Date(G).getTime()+O.duration_days*24*60*60*1e3).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>F(null),disabled:K,children:"Back"}),n.jsx(ne,{className:"flex-1",onClick:Ce,disabled:K,children:K?n.jsxs(n.Fragment,{children:[n.jsx(Bn,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):`Pay ${O.amount}`})]})]}):A.length>0?n.jsx("div",{className:"grid grid-cols-1 gap-3",children:A.map(re=>n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:re.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[re.duration_days," days"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-green-600",children:["",re.amount]}),n.jsx("p",{className:"text-xs text-gray-500 capitalize",children:re.package_type})]})]}),re.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:re.description}),n.jsx(ne,{className:"w-full",onClick:()=>te(re),children:"Select This Package"})]},re.id))}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No featured packages available"})})]})]})}),n.jsx(Os,{open:P,onOpenChange:re=>{R(re),re||Y(new Date().toISOString().split("T")[0])},children:n.jsxs(vs,{side:"bottom",className:"h-[40vh]",children:[n.jsx(xs,{children:n.jsx(ys,{children:"Reschedule Featured Package"})}),n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Update the start date for: ",n.jsx("strong",{children:E==null?void 0:E.name})]}),n.jsxs("div",{children:[n.jsx(ue,{htmlFor:"reschedule-date",children:"New Start Date"}),n.jsx(ge,{id:"reschedule-date",type:"date",value:G,min:new Date().toISOString().split("T")[0],onChange:re=>Y(re.target.value)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"outline",className:"flex-1",onClick:()=>R(!1),disabled:B,children:"Cancel"}),n.jsx(ne,{className:"flex-1",onClick:ve,disabled:B,children:B?n.jsxs(n.Fragment,{children:[n.jsx(Bn,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Date"})]})]})]})}),n.jsx(Os,{open:!!i,onOpenChange:()=>{a(null),m(!1),p({}),v([]),x([])},children:n.jsxs(vs,{side:"bottom",className:"h-[80vh] overflow-y-auto",children:[n.jsx(xs,{children:n.jsxs(ys,{className:"flex items-center justify-between",children:[n.jsx("span",{children:f?"Edit Product":"Product Details"}),n.jsx("div",{className:"flex gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>{m(!1),p({}),v([]),x([])},children:"Cancel"}),n.jsxs(ne,{size:"sm",onClick:he,children:[n.jsx(Rc,{className:"h-4 w-4 mr-1"}),"Save"]})]}):n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>{m(!0),p(i||{})},children:[n.jsx(Qf,{className:"h-4 w-4 mr-1"}),"Edit"]})})]})}),i&&n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Product Images"}),i.images&&i.images.length>0?n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:i.images.map((re,Se)=>n.jsxs("div",{className:"relative group",children:[n.jsx("img",{src:re.image_url,alt:`Product ${Se+1}`,className:"w-full h-20 object-cover rounded border",onError:Te=>{var nt;console.log("Image failed to load:",re.image_url),Te.currentTarget.style.display="none",(nt=Te.currentTarget.nextElementSibling)==null||nt.classList.remove("hidden")}}),n.jsx("div",{className:"hidden w-full h-20 bg-gray-100 rounded border flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hi,{className:"h-6 w-6 mx-auto mb-1 text-gray-400"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Failed to load"})]})}),f&&n.jsx("button",{type:"button",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),de(re.id)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600",children:n.jsx(is,{className:"h-3 w-3"})}),re.is_primary?n.jsx("div",{className:"absolute top-1 left-1 bg-blue-500 text-white text-xs px-1 rounded",children:"Main"}):f?n.jsx("button",{type:"button",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),me(re.id)},className:"absolute top-1 left-1 bg-gray-500 hover:bg-blue-500 text-white text-xs px-1 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:"Set Main"}):null]},`existing-image-${re.id}`))}):n.jsxs("div",{className:"text-center py-4 text-gray-500",children:[n.jsx(Hi,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"No images uploaded"})]}),w.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:w.map((re,Se)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:re,alt:`New ${Se+1}`,className:"w-full h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:Te=>{Te.preventDefault(),Te.stopPropagation(),_e(Se)},className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-600",children:n.jsx(is,{className:"h-3 w-3"})})]},`new-image-${Se}`))})]}),f&&n.jsxs("div",{className:"mt-2",children:[n.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:je,className:"hidden",id:"image-upload"}),n.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer",children:n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors",children:[n.jsx(Hi,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add More Images"})]})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Product Name"}),f?n.jsx(ge,{value:u.name||"",onChange:re=>p({...u,name:re.target.value})}):n.jsx("p",{className:"text-sm font-medium",children:i.name})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Selling Price"}),f?n.jsx(ge,{type:"number",value:u.price||"",onChange:re=>p({...u,price:Number(re.target.value)})}):n.jsxs("p",{className:"text-sm font-medium",children:["",i.price]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Stock Quantity"}),f?n.jsx(ge,{type:"number",value:u.quantity||"",onChange:re=>p({...u,quantity:Number(re.target.value)})}):n.jsx("p",{className:"text-sm font-medium",children:i.quantity})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Category"}),f?n.jsxs(Vt,{value:u.category||i.category,onValueChange:re=>{p({...u,category:re,subcategory:""}),V(re)},children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsx(Bt,{children:b.map(re=>n.jsx(We,{value:re,children:re},re))})]}):n.jsx("p",{className:"text-sm font-medium",children:i.category})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Subcategory"}),f?n.jsxs(Vt,{value:u.subcategory||i.subcategory||"",onValueChange:re=>p({...u,subcategory:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{placeholder:"Select subcategory"})}),n.jsx(Bt,{children:N.map(re=>n.jsx(We,{value:re,children:re},re))})]}):n.jsx("p",{className:"text-sm font-medium",children:i.subcategory||"N/A"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Cost Price"}),f?n.jsx(ge,{type:"number",value:u.cost_price||"",onChange:re=>p({...u,cost_price:Number(re.target.value)||void 0})}):n.jsx("p",{className:"text-sm font-medium",children:i.cost_price?`${i.cost_price}`:"N/A"})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"SKU"}),f?n.jsx(ge,{value:u.sku||"",onChange:re=>p({...u,sku:re.target.value})}):n.jsx("p",{className:"text-sm font-medium",children:i.sku||"N/A"})]})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Status"}),f?n.jsxs(Vt,{value:u.status||i.status,onValueChange:re=>p({...u,status:re}),children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"active",children:"Active"}),n.jsx(We,{value:"draft",children:"Draft"}),n.jsx(We,{value:"archived",children:"Archived"})]})]}):n.jsx("div",{children:ae(i.status)})]}),n.jsxs("div",{children:[n.jsx(ue,{children:"Description"}),f?n.jsx(Kn,{value:be(u.description||""),onChange:re=>p({...u,description:re.target.value}),rows:3}):n.jsx("p",{className:"text-sm text-gray-600",children:be(i.description)})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ue,{children:"Free Delivery"}),f?n.jsx(Zt,{checked:u.free_delivery??i.free_delivery,onCheckedChange:re=>p({...u,free_delivery:re})}):n.jsx(Zt,{checked:i.free_delivery,disabled:!0})]}),i.tags&&i.tags.length>0&&n.jsxs("div",{children:[n.jsx(ue,{children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:i.tags.map((re,Se)=>n.jsx(De,{variant:"secondary",className:"text-xs",children:re},Se))})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2 border-t",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs text-gray-500",children:"Total Sold"}),n.jsxs("p",{className:"text-sm font-medium",children:[i.total_sold||0," units"]})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs text-gray-500",children:"Created"}),n.jsx("p",{className:"text-xs",children:i.created_at?new Date(i.created_at).toLocaleDateString():"N/A"})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-xs text-gray-500",children:"Updated"}),n.jsx("p",{className:"text-xs",children:i.updated_at?new Date(i.updated_at).toLocaleDateString():"N/A"})]})]})]})]})]})})]})})},ese=()=>{const e=rt(),{toast:t}=un(),[s,r]=j.useState([]),[i,a]=j.useState(!0);j.useEffect(()=>{o();const m=u=>{const p=u.detail;r(y=>[p,...y])};return window.addEventListener("newNotification",m),()=>{window.removeEventListener("newNotification",m)}},[]);const o=async()=>{try{a(!0);const m=await Wt.getNotifications();r(m)}catch(m){console.error("Failed to load notifications:",m),t({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{a(!1)}},c=async m=>{if(m.read||(await Wt.markAsRead(m.id),r(u=>u.map(p=>p.id===m.id?{...p,read:!0}:p))),m.action_url)e(m.action_url);else switch(m.type){case"order":case"refund":case"refund_request":case"order_status":case"status_change":e("/vendor/orders");break;case"stock_alert":case"low_stock":e("/vendor/products");break;case"payment":e("/vendor/wallet");break;case"message":e("/vendor/messages");break;default:e("/vendor/orders")}},d=async()=>{try{await Wt.markAllAsRead(),r(m=>m.map(u=>({...u,read:!0}))),t({title:"Success",description:"All notifications marked as read"})}catch{t({title:"Error",description:"Failed to mark notifications as read",variant:"destructive"})}},h=m=>{switch(m){case"order":return n.jsx(Tt,{className:"h-5 w-5 text-green-600"});case"refund":case"refund_request":return n.jsx(xi,{className:"h-5 w-5 text-red-600"});case"stock_alert":case"low_stock":return n.jsx(bu,{className:"h-5 w-5 text-orange-600"});case"order_status":case"status_change":return n.jsx($r,{className:"h-5 w-5 text-blue-600"});case"payment":return n.jsx(to,{className:"h-5 w-5 text-green-600"});case"message":return n.jsx(nb,{className:"h-5 w-5 text-purple-600"});default:return n.jsx(rr,{className:"h-5 w-5 text-gray-600"})}},f=s.filter(m=>!m.read).length;return i?n.jsx(qt,{title:"Notifications",children:n.jsx("div",{className:"p-4 space-y-3",children:[1,2,3].map(m=>n.jsx(Pe,{className:"animate-pulse",children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},m))})}):n.jsx(qt,{title:"Notifications",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"All Notifications"}),f>0&&n.jsxs(De,{variant:"secondary",children:[f," unread"]})]}),f>0&&n.jsx(ne,{variant:"outline",size:"sm",onClick:d,children:"Mark all as read"})]}),n.jsx("div",{className:"space-y-3",children:s.length===0?n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-8 text-center",children:[n.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),n.jsx("p",{className:"text-gray-500",children:"You're all caught up! New notifications will appear here."})]})}):s.map(m=>n.jsx(Pe,{className:`cursor-pointer transition-colors hover:bg-gray-50 ${m.read?"":"border-l-4 border-l-blue-500 bg-blue-50"}`,onClick:()=>c(m),children:n.jsx(Ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"mt-1",children:h(m.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("h3",{className:`font-medium text-sm ${m.read?"text-gray-700":"text-gray-900"}`,children:m.title}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(m.created_at).toLocaleString()})]}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),n.jsxs("div",{className:"flex items-center justify-between mt-2",children:[n.jsx(De,{variant:"outline",className:`text-xs ${m.type==="order"?"border-green-200 text-green-700":m.type==="refund"||m.type==="refund_request"?"border-red-200 text-red-700":m.type==="stock_alert"||m.type==="low_stock"?"border-orange-200 text-orange-700":m.type==="order_status"||m.type==="status_change"?"border-blue-200 text-blue-700":m.type==="payment"?"border-green-200 text-green-700":m.type==="message"?"border-purple-200 text-purple-700":"border-gray-200 text-gray-700"}`,children:m.type==="refund_request"?"refund":m.type==="stock_alert"?"stock":m.type==="order_status"?"status":m.type}),!m.read&&n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})})},m.id))})]})})},tse=()=>{const[e]=_b();rt();const t=e.get("type")||"orders",[s,r]=j.useState([]),[i,a]=j.useState(!0),[o,c]=j.useState("all"),[d,h]=j.useState(!1),[f,m]=j.useState(""),[u,p]=j.useState(""),[y,v]=j.useState(1),[w,x]=j.useState(1),[b,_]=j.useState(0),N=20,[C,I]=j.useState({total:0,active:0,pending:0,completed:0});j.useEffect(()=>{P()},[t,f,u,y]);const k=M=>{v(M)},P=async()=>{try{if(a(!0),t==="orders"){const M=new URLSearchParams({page:y.toString(),page_size:N.toString()});f&&M.append("date_from",f),u&&M.append("date_to",u);const{response:z,data:Z}=await Be(`/vendor/orders/?${M}`);if(z.ok&&Z){let W=Z.results||Z||[];if(x(Math.ceil((Z.count||W.length)/N)),_(Z.count||W.length),f&&u){const X=new Date(f),V=new Date(u);V.setHours(23,59,59,999),W=W.filter(H=>{const se=new Date(H.created_at);return se>=X&&se<=V})}r(W),I({total:W.length,pending:W.filter(X=>X.status==="pending").length,completed:W.filter(X=>X.status==="delivered").length,active:W.filter(X=>["confirmed","out_for_delivery"].includes(X.status)).length})}}else if(t==="products"){const M=new URLSearchParams({page:y.toString(),page_size:N.toString()}),{response:z,data:Z}=await Be(`/products/?${M}`);if(z.ok&&Z){const W=Z.results||Z||[];x(Math.ceil((Z.count||W.length)/N)),_(Z.count||W.length),r(W),I({total:W.length,active:W.filter(X=>X.quantity>10).length,pending:W.filter(X=>X.quantity>0&&X.quantity<=10).length,completed:W.filter(X=>X.quantity===0).length})}}else if(t==="revenue"){const{response:M,data:z}=await Be("/vendor/orders/");if(M.ok&&z){let Z=z.results||z||[];const W=Z.filter(V=>V.status==="delivered");if(f&&u){const V=new Date(f),H=new Date(u);H.setHours(23,59,59,999),Z=W.filter(se=>{const Q=new Date(se.created_at);return Q>=V&&Q<=H})}else Z=W;r(Z);const X=Z.reduce((V,H)=>V+parseFloat(H.total_amount||0),0);I({total:X,active:Z.length,pending:X>0?X/Z.length:0,completed:Z.filter(V=>new Date(V.created_at).getMonth()===new Date().getMonth()).length})}}else if(t==="customers"){const{response:M,data:z}=await Be("/vendor/orders/");if(M.ok&&z){const Z=z.results||z||[],W=new Map;Z.forEach(V=>{var Q,ie;const H=((Q=V.customer_details)==null?void 0:Q.id)||V.delivery_phone;W.has(H)||W.set(H,{id:H,name:((ie=V.customer_details)==null?void 0:ie.username)||V.delivery_name,phone:V.delivery_phone,orders:0,totalSpent:0,lastOrder:V.created_at});const se=W.get(H);se.orders+=1,V.status==="delivered"&&(se.totalSpent+=parseFloat(V.total_amount||0))});const X=Array.from(W.values());r(X),I({total:X.length,active:X.filter(V=>V.orders>1).length,pending:X.filter(V=>V.orders===1).length,completed:X.filter(V=>V.totalSpent>0).length})}}}catch(M){console.error("Error fetching data:",M)}finally{a(!1)}},R=()=>{switch(t){case"orders":return"Orders Management";case"revenue":return"Revenue Analytics";case"products":return"Products Overview";case"customers":return"Customer Insights";default:return"Summary"}},E=()=>{switch(t){case"orders":return{total:"Total Orders",active:"Processing",pending:"Pending",completed:"Delivered"};case"products":return{total:"Total Products",active:"In Stock",pending:"Low Stock",completed:"Out of Stock"};case"revenue":return{total:"Total Revenue",active:"Orders",pending:"Avg Order",completed:"This Month"};case"customers":return{total:"Total Customers",active:"Repeat Buyers",pending:"New Customers",completed:"Paid Customers"};default:return{total:"Total",active:"Active",pending:"Pending",completed:"Completed"}}},T=(M,z)=>t==="revenue"&&(M==="total"||M==="pending")?`Rs${z.toFixed(2)}`:z.toString(),A=()=>{let M="",z="";t==="orders"?(M=[["Date","Order Number","Customer","Amount","Status","Items"].join(","),...s.map(V=>{var H;return[new Date(V.created_at).toLocaleDateString(),V.order_number,`"${V.delivery_name||"N/A"}"`,parseFloat(V.total_amount||0).toFixed(2),V.status,((H=V.items)==null?void 0:H.length)||0].join(",")})].join(`
`),z="orders-report"):t==="products"?(M=[["Name","Price","Stock","Status","Category"].join(","),...s.map(V=>[`"${V.name}"`,parseFloat(V.price).toFixed(2),V.quantity,V.quantity>10?"In Stock":V.quantity>0?"Low Stock":"Out of Stock",`"${V.category||"N/A"}"`].join(","))].join(`
`),z="products-report"):t==="revenue"?(M=[["Date","Order Number","Customer","Revenue"].join(","),...s.map(V=>[new Date(V.created_at).toLocaleDateString(),V.order_number,`"${V.delivery_name||"N/A"}"`,parseFloat(V.total_amount||0).toFixed(2)].join(","))].join(`
`),z="revenue-report"):t==="customers"&&(M=[["Name","Phone","Orders","Total Spent","Last Order"].join(","),...s.map(V=>[`"${V.name}"`,V.phone,V.orders,V.totalSpent.toFixed(2),new Date(V.lastOrder).toLocaleDateString()].join(","))].join(`
`),z="customers-report");const Z=new Blob([M],{type:"text/csv"}),W=window.URL.createObjectURL(Z),X=document.createElement("a");X.href=W,X.download=`${z}-${f||"all"}-${u||new Date().toISOString().split("T")[0]}.csv`,X.click(),window.URL.revokeObjectURL(W)},$=()=>{const M=new Date().toLocaleDateString(),z=f&&u?`${f} to ${u}`:"All Time",Z=E(),W=`
===========================================
           ${R().toUpperCase()}
===========================================
Generated: ${M}
Period: ${z}

SUMMARY
-------------------------------------------
${Z.total}: ${T("total",C.total)}
${Z.active}: ${T("active",C.active)}
${Z.pending}: ${T("pending",C.pending)}
${Z.completed}: ${T("completed",C.completed)}

DETAILS (${s.length} records)
-------------------------------------------
${t==="orders"?s.map(V=>`${new Date(V.created_at).toLocaleDateString()} | ${V.order_number} | ${V.delivery_name} | Rs${parseFloat(V.total_amount||0).toFixed(2)} | ${V.status}`).join(`
`):t==="products"?s.map(V=>`${V.name} | Rs${parseFloat(V.price).toFixed(2)} | Stock: ${V.quantity}`).join(`
`):t==="revenue"?s.map(V=>`${new Date(V.created_at).toLocaleDateString()} | ${V.order_number} | Rs${parseFloat(V.total_amount||0).toFixed(2)}`).join(`
`):s.map(V=>`${V.name} | ${V.phone} | ${V.orders} orders | Rs${V.totalSpent.toFixed(2)}`).join(`
`)}

===========================================
    `,X=window.open("","_blank");X==null||X.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${W}</pre>`),X==null||X.print()},O=()=>{const M=E(),z=`${R()}\\n\\n${M.total}: ${T("total",C.total)}\\n${M.active}: ${T("active",C.active)}\\n${M.pending}: ${T("pending",C.pending)}\\n${M.completed}: ${T("completed",C.completed)}\\n\\nTotal Records: ${s.length}`;if(navigator.share)navigator.share({title:R(),text:z});else{const Z=`https://wa.me/?text=${encodeURIComponent(z)}`;window.open(Z,"_blank")}},F=()=>{v(1),P(),h(!1)},G=()=>{m(""),p(""),v(1),P(),h(!1)},Y=M=>{if(M==="all")return s;if(t==="orders"){if(M==="pending")return s.filter(z=>z.status==="pending");if(M==="active")return s.filter(z=>["confirmed","out_for_delivery"].includes(z.status));if(M==="completed")return s.filter(z=>z.status==="delivered")}else if(t==="products"){if(M==="active")return s.filter(z=>z.quantity>10);if(M==="pending")return s.filter(z=>z.quantity>0&&z.quantity<=10);if(M==="completed")return s.filter(z=>z.quantity===0)}return s},K=M=>new Date(M).toLocaleDateString(),U=M=>new Date(M).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),B=E();return n.jsx(qt,{title:R(),children:n.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[n.jsx("div",{className:"p-4 space-y-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx($r,{className:"h-4 w-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:B.total}),n.jsx("p",{className:"text-sm font-bold text-blue-600",children:T("total",C.total)})]})]})})}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(xu,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:B.active}),n.jsx("p",{className:"text-sm font-bold text-green-600",children:T("active",C.active)})]})]})})}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx(yu,{className:"h-4 w-4 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:B.pending}),n.jsx("p",{className:"text-sm font-bold text-orange-600",children:T("pending",C.pending)})]})]})})}),n.jsx(Pe,{children:n.jsx(Ae,{className:"p-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(Tt,{className:"h-4 w-4 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:B.completed}),n.jsx("p",{className:"text-sm font-bold text-purple-600",children:T("completed",C.completed)})]})]})})})]})}),n.jsx("div",{className:"px-4",children:n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:R()}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:$,children:n.jsx(sb,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:A,children:n.jsx(ql,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:O,children:n.jsx(Ho,{className:"h-4 w-4"})}),(t==="orders"||t==="revenue")&&n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>h(!0),children:n.jsx(ji,{className:"h-4 w-4"})}),n.jsx(ne,{variant:"outline",size:"sm",onClick:P,children:n.jsx(xi,{className:"h-4 w-4"})})]})]}),n.jsxs(Ni,{value:o,onValueChange:c,className:"w-full",children:[n.jsx("div",{className:"border-b border-gray-100 overflow-x-auto",children:n.jsxs(Vr,{className:"flex w-max bg-transparent h-auto p-2 gap-3",children:[n.jsxs(Ct,{value:"all",className:"text-xs py-2 px-3",children:["All (",s.length,")"]}),t==="orders"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ct,{value:"pending",className:"text-xs py-2 px-3",children:["Pending (",C.pending,")"]}),n.jsxs(Ct,{value:"active",className:"text-xs py-2 px-3",children:["Processing (",C.active,")"]}),n.jsxs(Ct,{value:"completed",className:"text-xs py-2 px-3",children:["Delivered (",C.completed,")"]})]}),t==="products"&&n.jsxs(n.Fragment,{children:[n.jsxs(Ct,{value:"active",className:"text-xs py-2 px-3",children:["In Stock (",C.active,")"]}),n.jsxs(Ct,{value:"pending",className:"text-xs py-2 px-3",children:["Low Stock (",C.pending,")"]}),n.jsxs(Ct,{value:"completed",className:"text-xs py-2 px-3",children:["Out of Stock (",C.completed,")"]})]})]})}),n.jsx(lt,{value:"all",className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:i?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(xi,{className:"h-6 w-6 animate-spin mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Loading data..."})]}):Y("all").length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(Tt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"No data found"})]}):Y("all").map((M,z)=>n.jsxs("div",{className:"p-4",children:[t==="orders"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Tt,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",M.order_number]}),n.jsx("p",{className:"text-xs text-gray-600",children:M.delivery_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[K(M.created_at)," at ",U(M.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rs",parseFloat(M.total_amount||0).toFixed(2)]}),n.jsx(De,{variant:"default",className:"text-xs",children:M.status})]})]}),t==="products"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(ps,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Rs",parseFloat(M.price).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",M.quantity]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx(De,{className:`text-xs ${M.quantity>10?"bg-green-100 text-green-800":M.quantity>0?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:M.quantity>10?"In Stock":M.quantity>0?"Low Stock":"Out of Stock"})})]}),t==="revenue"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx($r,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",M.order_number]}),n.jsx("p",{className:"text-xs text-gray-600",children:M.delivery_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[K(M.created_at)," at ",U(M.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rs",parseFloat(M.total_amount||0).toFixed(2)]}),n.jsx(De,{variant:"default",className:"text-xs",children:"revenue"})]})]}),t==="customers"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:n.jsx(rb,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.name}),n.jsx("p",{className:"text-xs text-gray-600",children:M.phone}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Last order: ",K(M.lastOrder)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rs",M.totalSpent.toFixed(2)]}),n.jsxs(De,{variant:"default",className:"text-xs",children:[M.orders," orders"]})]})]})]},M.id||z))})}),(t==="orders"||t==="products")&&["pending","active","completed"].map(M=>n.jsx(lt,{value:M,className:"mt-0",children:n.jsx("div",{className:"divide-y divide-gray-100",children:Y(M).map((z,Z)=>n.jsxs("div",{className:"p-4",children:[t==="orders"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Tt,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["#",z.order_number]}),n.jsx("p",{className:"text-xs text-gray-600",children:z.delivery_name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[K(z.created_at)," at ",U(z.created_at)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-bold text-green-600",children:["Rs",parseFloat(z.total_amount||0).toFixed(2)]}),n.jsx(De,{variant:"default",className:"text-xs",children:z.status})]})]}),t==="products"&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(ps,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:z.name}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Rs",parseFloat(z.price).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-gray-500",children:["Stock: ",z.quantity]})]})]}),n.jsx("div",{className:"text-right",children:n.jsx(De,{className:`text-xs ${z.quantity>10?"bg-green-100 text-green-800":z.quantity>0?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:z.quantity>10?"In Stock":z.quantity>0?"Low Stock":"Out of Stock"})})]})]},z.id||Z))})},M))]})]})}),w>1&&n.jsx("div",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(y-1)*N+1," to ",Math.min(y*N,b)," of ",b," records"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>k(y-1),disabled:y===1,children:"Previous"}),n.jsxs("span",{className:"text-sm font-medium",children:[y," of ",w]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:()=>k(y+1),disabled:y===w,children:"Next"})]})]})}),n.jsx(Os,{open:d,onOpenChange:h,children:n.jsxs(vs,{side:"right",className:"w-full sm:w-80",children:[n.jsx(xs,{className:"pb-4",children:n.jsx(ys,{children:"Filter by Date Range"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"From Date"}),n.jsx(ge,{type:"date",value:f,onChange:M=>m(M.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"To Date"}),n.jsx(ge,{type:"date",value:u,onChange:M=>p(M.target.value),className:"h-9 text-sm"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx(ne,{onClick:F,className:"flex-1",children:"Apply Filter"}),n.jsx(ne,{variant:"outline",onClick:G,className:"flex-1",children:"Clear"})]}),(f||u)&&n.jsx("div",{className:"pt-4 border-t",children:n.jsx("p",{className:"text-sm text-gray-600",children:f&&u?`Showing: ${f} to ${u}`:f?`From: ${f}`:u?`Until: ${u}`:""})})]})]})})]})})};function nse(){const e=rt(),{toast:t}=un(),[s,r]=j.useState("dashboard"),[i,a]=j.useState(!0),[o,c]=j.useState("30"),[d,h]=j.useState(""),[f,m]=j.useState(""),[u,p]=j.useState("all"),[y,v]=j.useState(!1),[w,x]=j.useState("csv"),[b,_]=j.useState([]),[N,C]=j.useState([]),[I,k]=j.useState([]),[P,R]=j.useState({totalRevenue:0,totalOrders:0,avgOrderValue:0,topProducts:[],revenueChart:[],orderChart:[],productPerformance:[],customerInsights:{totalCustomers:0,returningCustomers:0,newCustomers:0}});j.useEffect(()=>{E()},[o,d,f,u]);const E=async()=>{try{a(!0);const{response:W,data:X}=await Be("/vendor/orders/");if(W.ok){const V=X.results||X||[];_(V);const{response:H,data:se}=await Be("/products/");if(H.ok){const Q=se.results||se||[];C(Q),T(V,Q),Y(V)}}}catch(W){console.error("Error fetching data:",W),t({title:"Error",description:"Failed to load analytics data",variant:"destructive"})}finally{a(!1)}},T=(W,X)=>{const V=A(W),H=V.filter(he=>he.status==="delivered"),se=H.reduce((he,je)=>he+parseFloat(je.total_amount||0),0),Q=V.length,ie=Q>0?se/H.length:0,fe=$(H),te=O(V),ve=F(H),Ce=G(V);R({totalRevenue:se,totalOrders:Q,avgOrderValue:ie,topProducts:ve.slice(0,5),revenueChart:fe,orderChart:te,productPerformance:ve,customerInsights:Ce})},A=W=>{let X=W;if(o!=="custom"){const V=parseInt(o),H=new Date;H.setDate(H.getDate()-V),X=W.filter(se=>new Date(se.created_at)>=H)}else d&&f&&(X=W.filter(V=>{const H=new Date(V.created_at);return H>=new Date(d)&&H<=new Date(f)}));return u!=="all"&&(X=X.filter(V=>{var H;return(H=V.items)==null?void 0:H.some(se=>{var Q;return((Q=se.product_details)==null?void 0:Q.id)===parseInt(u)})})),X},$=W=>{const X=[];for(let V=29;V>=0;V--){const H=new Date;H.setDate(H.getDate()-V);const se=W.filter(ie=>new Date(ie.created_at).toDateString()===H.toDateString()),Q=se.reduce((ie,fe)=>ie+parseFloat(fe.total_amount||0),0);X.push({date:H.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Q,orders:se.length})}return X},O=W=>{const X={pending:0,confirmed:0,preparing:0,out_for_delivery:0,delivered:0,cancelled:0};return W.forEach(V=>{X.hasOwnProperty(V.status)&&X[V.status]++}),Object.entries(X).map(([V,H])=>({status:V.replace("_"," ").replace(/\b\w/g,se=>se.toUpperCase()),count:H,percentage:W.length>0?(H/W.length*100).toFixed(1):0}))},F=(W,X)=>{const V={};return W.forEach(H=>{var se;(se=H.items)==null||se.forEach(Q=>{var fe;const ie=(fe=Q.product_details)==null?void 0:fe.id;ie&&(V[ie]||(V[ie]={id:ie,name:Q.product_name,totalSold:0,totalRevenue:0,orders:0}),V[ie].totalSold+=Q.quantity,V[ie].totalRevenue+=parseFloat(Q.total_price||0),V[ie].orders++)})}),Object.values(V).sort((H,se)=>se.totalRevenue-H.totalRevenue)},G=W=>{const X=new Set,V={};W.forEach(se=>{var ie;const Q=((ie=se.customer_details)==null?void 0:ie.id)||se.delivery_phone;X.add(Q),V[Q]||(V[Q]=[]),V[Q].push(se)});const H=Object.values(V).filter(se=>se.length>1).length;return{totalCustomers:X.size,returningCustomers:H,newCustomers:X.size-H}},Y=W=>{const X=[];W.forEach(V=>{var H,se,Q;V.status==="delivered"&&X.push({id:V.id,type:"sale",order_number:V.order_number,customer_name:((H=V.customer_details)==null?void 0:H.username)||V.delivery_name,amount:parseFloat(V.total_amount),date:V.created_at,items:((se=V.items)==null?void 0:se.length)||0}),((Q=V.refunds)==null?void 0:Q.length)>0&&V.refunds.forEach(ie=>{var fe,te;ie.status==="completed"&&X.push({id:`refund-${ie.id}`,type:"refund",order_number:V.order_number,customer_name:((fe=V.customer_details)==null?void 0:fe.username)||V.delivery_name,amount:-parseFloat(ie.approved_amount||ie.requested_amount),date:ie.completed_at||ie.created_at,items:((te=V.items)==null?void 0:te.length)||0})})}),k(X.sort((V,H)=>new Date(H.date).getTime()-new Date(V.date).getTime()))},K=()=>{const W={summary:{totalRevenue:P.totalRevenue,totalOrders:P.totalOrders,avgOrderValue:P.avgOrderValue,totalCustomers:P.customerInsights.totalCustomers,dateRange:o==="custom"?`${d} to ${f}`:`Last ${o} days`},transactions:I,products:P.productPerformance,revenueChart:P.revenueChart};w==="csv"?U(W):w==="pdf"?M(W):B(W),v(!1)},U=W=>{const X=[["Analytics Report"],["Generated:",new Date().toLocaleDateString()],["Period:",W.summary.dateRange],[""],["SUMMARY"],["Total Revenue",`Rs${W.summary.totalRevenue.toFixed(2)}`],["Total Orders",W.summary.totalOrders],["Average Order Value",`Rs${W.summary.avgOrderValue.toFixed(2)}`],["Total Customers",W.summary.totalCustomers],[""],["TOP PRODUCTS"],["Product Name","Units Sold","Revenue","Orders"],...W.products.slice(0,10).map(Q=>[Q.name,Q.totalSold,`Rs${Q.totalRevenue.toFixed(2)}`,Q.orders]),[""],["DAILY REVENUE"],["Date","Revenue","Orders"],...W.revenueChart.map(Q=>[Q.date,`Rs${Q.revenue.toFixed(2)}`,Q.orders])].map(Q=>Q.join(",")).join(`
`),V=new Blob([X],{type:"text/csv"}),H=window.URL.createObjectURL(V),se=document.createElement("a");se.href=H,se.download=`analytics-report-${new Date().toISOString().split("T")[0]}.csv`,se.click(),window.URL.revokeObjectURL(H)},B=W=>{const X=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),V=window.URL.createObjectURL(X),H=document.createElement("a");H.href=V,H.download=`analytics-data-${new Date().toISOString().split("T")[0]}.json`,H.click(),window.URL.revokeObjectURL(V)},M=W=>{const X=`
===========================================
        BUSINESS ANALYTICS REPORT
===========================================
Generated: ${new Date().toLocaleDateString()}
Period: ${W.summary.dateRange}

SUMMARY
-------------------------------------------
Total Revenue: Rs${W.summary.totalRevenue.toFixed(2)}
Total Orders: ${W.summary.totalOrders}
Average Order Value: Rs${W.summary.avgOrderValue.toFixed(2)}
Total Customers: ${W.summary.totalCustomers}

TOP PRODUCTS
-------------------------------------------
${W.products.slice(0,10).map((H,se)=>`${se+1}. ${H.name} - ${H.totalSold} units - Rs${H.totalRevenue.toFixed(2)}`).join(`
`)}

DAILY REVENUE TREND
-------------------------------------------
${W.revenueChart.slice(-14).map(H=>`${H.date}: Rs${H.revenue.toFixed(2)} (${H.orders} orders)`).join(`
`)}

===========================================
    `,V=window.open("","_blank");V==null||V.document.write(`<pre style="font-family: monospace; font-size: 12px; line-height: 1.4;">${X}</pre>`),V==null||V.print()},z=()=>{var X;const W=`Business Analytics Report

Total Revenue: Rs${P.totalRevenue.toFixed(2)}
Total Orders: ${P.totalOrders}
Average Order Value: Rs${P.avgOrderValue.toFixed(2)}
Total Customers: ${P.customerInsights.totalCustomers}

Top Product: ${((X=P.topProducts[0])==null?void 0:X.name)||"N/A"}`;if(navigator.share)navigator.share({title:"Business Analytics Report",text:W});else{const V=`https://wa.me/?text=${encodeURIComponent(W)}`;window.open(V,"_blank")}},Z=[{id:"dashboard",label:"Dashboard",icon:fE},{id:"sales",label:"Sales Report",icon:$r},{id:"products",label:"Product Analytics",icon:Tt},{id:"customers",label:"Customer Insights",icon:rb},{id:"statements",label:"Statements",icon:Ar}];return i?n.jsx(qt,{title:"Business Analytics",children:n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})})}):n.jsx(qt,{title:"Business Analytics",children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:n.jsxs("div",{className:"flex items-center justify-between p-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(ne,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>e(-1),children:n.jsx(Yt,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"font-semibold text-lg",children:"Business Analytics"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive business insights"})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>v(!0),children:[n.jsx(ql,{className:"h-4 w-4 mr-1"}),"Export"]}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:z,children:[n.jsx(Ho,{className:"h-4 w-4 mr-1"}),"Share"]}),n.jsx(ne,{variant:"outline",size:"sm",onClick:E,children:n.jsx(xi,{className:"h-4 w-4"})})]})]})}),n.jsx("div",{className:"bg-white p-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ji,{className:"h-4 w-4 text-gray-600"}),n.jsx(ue,{className:"text-sm font-medium",children:"Filters:"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"text-sm",children:"Period:"}),n.jsxs(Vt,{value:o,onValueChange:c,children:[n.jsx(zt,{className:"w-32",children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"7",children:"Last 7 days"}),n.jsx(We,{value:"30",children:"Last 30 days"}),n.jsx(We,{value:"90",children:"Last 3 months"}),n.jsx(We,{value:"365",children:"Last year"}),n.jsx(We,{value:"custom",children:"Custom"})]})]})]}),o==="custom"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"text-sm",children:"From:"}),n.jsx(ge,{type:"date",value:d,onChange:W=>h(W.target.value),className:"w-36"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"text-sm",children:"To:"}),n.jsx(ge,{type:"date",value:f,onChange:W=>m(W.target.value),className:"w-36"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ue,{className:"text-sm",children:"Product:"}),n.jsxs(Vt,{value:u,onValueChange:p,children:[n.jsx(zt,{className:"w-40",children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"all",children:"All Products"}),N.map(W=>n.jsx(We,{value:W.id.toString(),children:W.name},W.id))]})]})]})]})}),n.jsx("div",{className:"bg-white",children:n.jsxs(Ni,{value:s,onValueChange:r,className:"w-full",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsx(Vr,{className:"grid grid-cols-5 w-full min-w-max",children:Z.map(W=>n.jsxs(Ct,{value:W.id,className:"flex items-center gap-2 text-xs",children:[n.jsx(W.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:W.label})]},W.id))})}),n.jsxs(lt,{value:"dashboard",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",P.totalRevenue.toFixed(0)]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.totalOrders}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:["",P.avgOrderValue.toFixed(0)]}),n.jsx("div",{className:"text-sm text-gray-600",children:"Avg Order Value"})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P.customerInsights.totalCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx($r,{className:"h-5 w-5"}),"Revenue Trend"]})}),n.jsx(Ae,{children:n.jsx("div",{className:"h-64 flex items-end justify-between gap-1",children:P.revenueChart.map((W,X)=>{const V=Math.max(...P.revenueChart.map(se=>se.revenue),1),H=W.revenue/V*200;return n.jsxs("div",{className:"flex flex-col items-center flex-1",children:[n.jsx("div",{className:"bg-green-500 rounded-t w-full min-h-[4px] hover:bg-green-600 transition-colors cursor-pointer",style:{height:`${H}px`},title:`${W.date}: ${W.revenue.toFixed(0)}`}),n.jsx("div",{className:"text-xs text-gray-600 mt-1 transform -rotate-45 origin-left",children:W.date})]},X)})})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"h-5 w-5"}),"Top Performing Products"]})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-3",children:P.topProducts.map((W,X)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-bold text-blue-600",children:X+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:W.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[W.totalSold," units sold"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-green-600",children:["",W.totalRevenue.toFixed(0)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[W.orders," orders"]})]})]},W.id))})})]})]}),n.jsx(lt,{value:"sales",className:"p-4 space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Order Status Distribution"})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-3",children:P.orderChart.map(W=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${W.status==="Delivered"?"bg-green-500":W.status==="Pending"?"bg-yellow-500":W.status==="Cancelled"?"bg-red-500":"bg-blue-500"}`}),n.jsx("span",{className:"text-sm",children:W.status})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:W.count}),n.jsxs("span",{className:"text-sm text-gray-600",children:["(",W.percentage,"%)"]})]})]},W.status))})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Daily Sales Summary"})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:P.revenueChart.slice(-7).reverse().map((W,X)=>n.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-gray-50 rounded",children:[n.jsx("span",{className:"text-sm",children:W.date}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["",W.revenue.toFixed(0)]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[W.orders," orders"]})]})]},X))})})]})]})}),n.jsx(lt,{value:"products",className:"p-4 space-y-6",children:n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Product Performance Report"})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-3",children:P.productPerformance.map((W,X)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold",children:X+1}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:W.name}),n.jsxs("div",{className:"text-sm text-gray-600",children:[W.totalSold," units  ",W.orders," orders"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-bold text-green-600",children:["",W.totalRevenue.toFixed(0)]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["",(W.totalRevenue/W.totalSold).toFixed(0)," per unit"]})]})]},W.id))})})]})}),n.jsxs(lt,{value:"customers",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:P.customerInsights.totalCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:P.customerInsights.returningCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"Returning Customers"})]})}),n.jsx(Pe,{children:n.jsxs(Ae,{className:"p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:P.customerInsights.newCustomers}),n.jsx("div",{className:"text-sm text-gray-600",children:"New Customers"})]})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsx(_t,{children:"Customer Insights"})}),n.jsx(Ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Customer Retention Rate"}),n.jsxs("span",{className:"font-bold text-green-600",children:[P.customerInsights.totalCustomers>0?(P.customerInsights.returningCustomers/P.customerInsights.totalCustomers*100).toFixed(1):0,"%"]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Average Orders per Customer"}),n.jsx("span",{className:"font-bold text-blue-600",children:P.customerInsights.totalCustomers>0?(P.totalOrders/P.customerInsights.totalCustomers).toFixed(1):0})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Average Revenue per Customer"}),n.jsxs("span",{className:"font-bold text-purple-600",children:["",P.customerInsights.totalCustomers>0?(P.totalRevenue/P.customerInsights.totalCustomers).toFixed(0):0]})]})]})})]})]}),n.jsxs(lt,{value:"statements",className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Sales Summary"}),n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>v(!0),children:[n.jsx(ql,{className:"h-4 w-4 mr-1"}),"Export"]})]})}),n.jsx(Ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total Sales"}),n.jsxs("span",{className:"font-bold text-green-600",children:["",P.totalRevenue.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total Orders"}),n.jsx("span",{className:"font-bold text-blue-600",children:P.totalOrders})]}),n.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[n.jsx("span",{className:"text-sm font-medium",children:"Average Order Value"}),n.jsxs("span",{className:"font-bold text-purple-600",children:["",P.avgOrderValue.toFixed(2)]})]})]})})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center gap-2",children:[n.jsx(wD,{className:"h-5 w-5"}),"Order Distribution"]})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-3",children:P.orderChart.map((W,X)=>{const V=["bg-green-500","bg-yellow-500","bg-red-500","bg-blue-500","bg-purple-500"];return n.jsxs("div",{className:"flex items-center justify-between p-2 rounded",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${V[X%V.length]}`}),n.jsx("span",{className:"text-sm",children:W.status})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"font-medium text-sm",children:W.count}),n.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["(",W.percentage,"%)"]})]})]},W.status)})})})]})]}),n.jsxs(Pe,{children:[n.jsx(jt,{children:n.jsxs(_t,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Recent Transactions"}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e("/vendor/sales"),children:[n.jsx(Sn,{className:"h-4 w-4 mr-1"}),"View All"]})})]})}),n.jsx(Ae,{children:n.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:I.slice(0,20).map(W=>n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${W.type==="sale"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:W.type==="sale"?"":""}),n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-sm",children:[W.type==="sale"?"Sale":"Refund"," - ",W.order_number]}),n.jsxs("div",{className:"text-xs text-gray-600",children:[W.customer_name,"  ",new Date(W.date).toLocaleDateString()]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`font-bold text-sm ${W.type==="sale"?"text-green-600":"text-red-600"}`,children:[W.type==="sale"?"+":"","",Math.abs(W.amount).toFixed(2)]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[W.items," items"]})]})]},W.id))})})]})]})]})}),n.jsx(Os,{open:y,onOpenChange:v,children:n.jsxs(vs,{side:"right",className:"w-full sm:w-80",children:[n.jsx(xs,{className:"pb-4",children:n.jsx(ys,{children:"Export Analytics Report"})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-sm font-medium mb-2 block",children:"Export Format"}),n.jsxs(Vt,{value:w,onValueChange:x,children:[n.jsx(zt,{children:n.jsx(Ut,{})}),n.jsxs(Bt,{children:[n.jsx(We,{value:"csv",children:"CSV Spreadsheet"}),n.jsx(We,{value:"json",children:"JSON Data"}),n.jsx(We,{value:"pdf",children:"PDF Report"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Report Includes:"}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("div",{children:" Sales summary and metrics"}),n.jsx("div",{children:" Top performing products"}),n.jsx("div",{children:" Daily revenue trends"}),n.jsx("div",{children:" Customer insights"}),n.jsx("div",{children:" Order distribution"})]})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsxs(ne,{onClick:K,className:"flex-1",children:[n.jsx(ql,{className:"h-4 w-4 mr-2"}),"Export Report"]}),n.jsx(ne,{variant:"outline",onClick:()=>v(!1),className:"flex-1",children:"Cancel"})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Report will include data for the selected time period: ",o==="custom"?`${d} to ${f}`:`Last ${o} days`]})})]})]})})]})})}const sse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Compose New Message"}),n.jsx("p",{children:"Coming soon..."})]}),rse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Customer Management"}),n.jsx("p",{children:"Coming soon..."})]}),ise=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Search Messages"}),n.jsx("p",{children:"Coming soon..."})]}),ase=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Message Settings"}),n.jsx("p",{children:"Coming soon..."})]}),ose=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Add New Products"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Product Statistics"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"24"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Categories"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"8"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Active Categories"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Approvals"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"3"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting Review"})]})]})]}),lse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Return Order Management"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Return Requests"}),n.jsx("p",{className:"text-3xl font-bold text-red-600",children:"7"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pending review"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Approved Returns"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"12"}),n.jsx("p",{className:"text-sm text-gray-600",children:"This month"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Refund Amount"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"8,450"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Processed"})]})]})]}),cse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Review Management"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Average Rating"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:"4.7"}),n.jsx("p",{className:"text-sm text-gray-600",children:""})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Total Reviews"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"89"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Customer feedback"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Response"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Need attention"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Positive Reviews"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"76"}),n.jsx("p",{className:"text-sm text-gray-600",children:"85% positive"})]})]})]}),dse=()=>n.jsxs("div",{className:"p-8",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Income Dashboard"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Today's Earnings"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"2,450"}),n.jsx("p",{className:"text-sm text-gray-600",children:"+12% from yesterday"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Week"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"18,320"}),n.jsx("p",{className:"text-sm text-gray-600",children:"7 days total"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"This Month"}),n.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"72,850"}),n.jsx("p",{className:"text-sm text-gray-600",children:"30 days total"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Payout"}),n.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"5,200"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Available for withdrawal"})]})]})]}),use=new s$,hse=()=>(_z(),j.useEffect(()=>{(async()=>{try{await vz.requestAllPermissions(),console.log("All permissions requested successfully")}catch(t){console.error("Failed to request permissions:",t)}})()},[]),n.jsx(J$,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:n.jsxs(K$,{children:[n.jsx(et,{path:"/",element:n.jsx(gS,{})}),n.jsx(et,{path:"/splash",element:n.jsx(Az,{})}),n.jsx(et,{path:"/login",element:n.jsx(Lz,{})}),n.jsx(et,{path:"/home",element:n.jsx(gS,{})}),n.jsx(et,{path:"/search",element:n.jsx(CW,{})}),n.jsx(et,{path:"/cart",element:n.jsx(SW,{})}),n.jsx(et,{path:"/wishlist",element:n.jsx(Qr,{children:n.jsx(PW,{})})}),n.jsx(et,{path:"/profile",element:n.jsx(Qr,{children:n.jsx(AW,{})})}),n.jsx(et,{path:"/profile-edit",element:n.jsx(Qr,{children:n.jsx(LW,{})})}),n.jsx(et,{path:"/privacy",element:n.jsx(MW,{})}),n.jsx(et,{path:"/product/:id",element:n.jsx(uW,{})}),n.jsx(et,{path:"/vendor/:vendorId",element:n.jsx(xW,{})}),n.jsx(et,{path:"/checkout",element:n.jsx(Qr,{children:n.jsx(pZ,{})})}),n.jsx(et,{path:"/order-confirmation/:orderId",element:n.jsx(Qr,{children:n.jsx(gZ,{})})}),n.jsx(et,{path:"/orders",element:n.jsx(Qr,{children:n.jsx(NG,{})})}),n.jsx(et,{path:"/addresses",element:n.jsx(Qr,{children:n.jsx(CG,{})})}),n.jsx(et,{path:"/payments",element:n.jsx(Qr,{children:n.jsx(AG,{})})}),n.jsx(et,{path:"/help",element:n.jsx(LG,{})}),n.jsx(et,{path:"/messages",element:n.jsx(Qr,{children:n.jsx(jS,{})})}),n.jsx(et,{path:"/order/:orderId/messages",element:n.jsx(Qr,{children:n.jsx(jS,{})})}),n.jsx(et,{path:"/signup",element:n.jsx(IW,{})}),n.jsx(et,{path:"/forgot-password",element:n.jsx(DW,{})}),n.jsx(et,{path:"/category/:categoryName",element:n.jsx(IG,{})}),n.jsx(et,{path:"/featured-items",element:n.jsx(FG,{})}),n.jsx(et,{path:"/trending-items",element:n.jsx(zG,{})}),n.jsx(et,{path:"/vendor/login",element:n.jsx(BG,{})}),n.jsx(et,{path:"/vendor/signup",element:n.jsx(VG,{})}),n.jsx(et,{path:"/vendor/onboarding",element:n.jsx(qG,{})}),n.jsx(et,{path:"/vendor/rejection",element:n.jsx(HG,{})}),n.jsx(et,{path:"/vendor/dashboard",element:n.jsx(p2,{})}),n.jsx(et,{path:"/vendor/home",element:n.jsx(p2,{})}),n.jsx(et,{path:"/vendor/place-order",element:n.jsx(zne,{})}),n.jsx(et,{path:"/vendor/sales",element:n.jsx(Bne,{})}),n.jsx(et,{path:"/vendor/messages",element:n.jsx(v2,{})}),n.jsx(et,{path:"/vendor/order/:orderId/messages",element:n.jsx(v2,{})}),n.jsx(et,{path:"/vendor/messages/compose",element:n.jsx(sse,{})}),n.jsx(et,{path:"/vendor/messages/search",element:n.jsx(ise,{})}),n.jsx(et,{path:"/vendor/messages/settings",element:n.jsx(ase,{})}),n.jsx(et,{path:"/vendor/customers",element:n.jsx(rse,{})}),n.jsx(et,{path:"/vendor/add-products",element:n.jsx(ose,{})}),n.jsx(et,{path:"/vendor/products",element:n.jsx(Jne,{})}),n.jsx(et,{path:"/vendor/add-product",element:n.jsx(Zne,{})}),n.jsx(et,{path:"/vendor/orders",element:n.jsx(qne,{})}),n.jsx(et,{path:"/vendor/return-orders",element:n.jsx(lse,{})}),n.jsx(et,{path:"/vendor/reviews",element:n.jsx(cse,{})}),n.jsx(et,{path:"/vendor/income",element:n.jsx(dse,{})}),n.jsx(et,{path:"/vendor/wallet",element:n.jsx(Gne,{})}),n.jsx(et,{path:"/vendor/profile",element:n.jsx(Kne,{})}),n.jsx(et,{path:"/vendor/profile-management",element:n.jsx(Yne,{})}),n.jsx(et,{path:"/vendor/company",element:n.jsx(Qne,{})}),n.jsx(et,{path:"/vendor/security",element:n.jsx(Xne,{})}),n.jsx(et,{path:"/vendor/notifications",element:n.jsx(ese,{})}),n.jsx(et,{path:"/vendor/settings",element:n.jsx(Une,{})}),n.jsx(et,{path:"/vendor/summary",element:n.jsx(tse,{})}),n.jsx(et,{path:"/vendor/analytics",element:n.jsx(nse,{})}),n.jsx(et,{path:"*",element:n.jsx(yW,{})})]})})),fse=()=>n.jsx(i$,{client:use,children:n.jsx(jz,{children:n.jsx(Pz,{children:n.jsx(L8,{children:n.jsxs(Tz,{children:[n.jsx(gF,{}),n.jsx(GF,{}),n.jsx(hse,{})]})})})})});vt.isNativePlatform()&&Qy.initialize().then(()=>{console.log(" FCM Service initialized on app startup")}).catch(e=>{console.error(" FCM Service initialization failed:",e)});$C(document.getElementById("root")).render(n.jsx(fse,{}));export{vt as C,Nb as W,Je as _,Qy as f,xse as i,no as r};
